:: Behaviour of an Arc Crossing a Line
::  by Yatsuka Nakamura
::
:: Received January 26, 2004
:: Copyright (c) 2004 Association of Mizar Users

environ

 vocabularies JORDAN20, ORDINAL2, ARYTM, PRE_TOPC, EUCLID, TOPREAL1, BOOLE,
      ARYTM_1, MCART_1, FUNCT_5, RELAT_1, JORDAN3, TOPS_2, RELAT_2, SUBSET_1,
      SEQ_2, FUNCT_1, JORDAN6, METRIC_1, PCOMPS_1, ABSVALUE, SQUARE_1, TOPMETR,
      BORSUK_1, RCOMP_1, ARYTM_3, GRAPH_1, TOPREAL4, FINSEQ_4, FINSEQ_1,
      TARSKI, SPPOL_2, BORSUK_6;
 notations TARSKI, XBOOLE_0, SUBSET_1, FUNCT_1, RELSET_1, XCMPLX_0, XXREAL_0,
      XREAL_0, REAL_1, PARTFUN1, COMPLEX1, SQUARE_1, SEQ_4, FINSEQ_1, STRUCT_0,
      CONNSP_1, RCOMP_1, METRIC_1, PCOMPS_1, JORDAN5C, JORDAN6, EUCLID,
      TOPMETR, PRE_TOPC, TOPS_2, NUMBERS, ORDINAL1, PSCOMP_1, BORSUK_2,
      RCOMP_2, TOPREAL4, BINARITH, TOPREAL1, SPPOL_2, JORDAN3, NAT_1;
 constructors REAL_1, SQUARE_1, NAT_1, COMPLEX1, RCOMP_1, RCOMP_2, BINARITH,
      CONNSP_1, TOPS_2, TOPREAL1, TOPREAL4, PSCOMP_1, BORSUK_2, JORDAN3,
      JORDAN5C, JORDAN6, SEQ_1;
 registrations XBOOLE_0, RELSET_1, FUNCT_2, NUMBERS, XXREAL_0, XREAL_0, NAT_1,
      MEMBERED, STRUCT_0, PRE_TOPC, METRIC_1, BORSUK_1, EUCLID, TOPMETR,
      TOPREAL1;
 requirements NUMERALS, REAL, BOOLE, SUBSET, ARITHM;
 definitions TARSKI, STRUCT_0;
 theorems TARSKI, TOPREAL1, XBOOLE_0, EUCLID, JORDAN6, TOPS_2, XBOOLE_1, SEQ_4,
      RELAT_1, PSCOMP_1, FUNCT_2, REAL_1, TOPREAL3, JORDAN5C, TOPREAL5,
      SQUARE_1, RCOMP_1, TOPMETR, ABSVALUE, METRIC_1, JORDAN16, XREAL_0,
      FUNCT_1, PRE_TOPC, BORSUK_1, BORSUK_4, REAL_2, FRECHET, PCOMPS_1, NAT_1,
      XCMPLX_1, JORDAN2B, UNIFORM1, GOBOARD6, RCOMP_2, TREAL_1, BORSUK_2,
      CONNSP_1, TOPMETR3, JORDAN5B, GOBOARD7, JGRAPH_2, TOPREAL4, FINSEQ_4,
      FINSEQ_1, JORDAN3, SPRECT_4, BINARITH, JCT_MISC, SPRECT_3, SPPOL_1,
      JORDAN2C, FINSEQ_3, XREAL_1, COMPLEX1, XXREAL_0, PARTFUN1;
 schemes NAT_1;

begin

theorem Th1:
  for P being Subset of TOP-REAL 2, p1,p2,p being Point of TOP-REAL 2
  st P is_an_arc_of p1,p2 & p in P holds Segment(P,p1,p2,p,p)={p}
proof
  let P be Subset of TOP-REAL 2,p1,p2,p be Point of TOP-REAL 2;
  assume
A1: P is_an_arc_of p1,p2 & p in P;
A2: Segment(P,p1,p2,p,p)={q where q is Point of TOP-REAL 2:
  LE p,q,P,p1,p2 & LE q,p,P,p1,p2} by JORDAN6:29;
A3: Segment(P,p1,p2,p,p)c= {p}
  proof
    let x be set;
    assume x in Segment(P,p1,p2,p,p);
    then consider q being Point of TOP-REAL 2 such that
A4: x=q & (LE p,q,P,p1,p2 & LE q,p,P,p1,p2) by A2;
    p=q by A1,A4,JORDAN5C:12;
    hence x in {p} by A4,TARSKI:def 1;
  end;
  {p} c= Segment(P,p1,p2,p,p)
  proof
    let x be set;
    assume x in {p};
    then
A5: x=p by TARSKI:def 1;
    LE p,p,P,p1,p2 by A1,JORDAN5C:9;
    hence x in Segment(P,p1,p2,p,p) by A2,A5;
  end;
  hence Segment(P,p1,p2,p,p)={p} by A3,XBOOLE_0:def 10;
end;

theorem Th2:
  for p1,p2,p being Point of TOP-REAL 2,a being Real
  st p in LSeg(p1,p2) & p1`1<=a & p2`1<=a holds p`1<=a
proof
  let p1,p2,p be Point of TOP-REAL 2,a be Real;
  assume
A1: p in LSeg(p1,p2) & p1`1<=a & p2`1<=a;
  then consider r being Real such that
A2: 0<=r & r<=1 and
A3: p = (1-r)*p1+r*p2 by SPPOL_1:21;
A4: p`1 = ((1-r)*p1)`1+(r*p2)`1 by A3,TOPREAL3:7
    .= ((1-r)*p1)`1+r*p2`1 by TOPREAL3:9
    .= (1-r)*p1`1+r*p2`1 by TOPREAL3:9;
  1-r>=0 by A2,XREAL_1:50;
  then
A5: (1-r)*p1`1<=(1-r)*a by A1,XREAL_1:66;
A6: r*p2`1<=r*a by A1,A2,XREAL_1:66;
  (1-r)*a+r*a= a;
  hence p`1<=a by A4,A5,A6,XREAL_1:9;
end;

theorem Th3:
  for p1,p2,p being Point of TOP-REAL 2,a being Real
  st p in LSeg(p1,p2) & p1`1>=a & p2`1>=a holds p`1>=a
proof
  let p1,p2,p be Point of TOP-REAL 2,a be Real;
  assume
A1: p in LSeg(p1,p2) & p1`1>=a & p2`1>=a;
  then consider r being Real such that
A2: 0<=r & r<=1 and
A3: p = (1-r)*p1+r*p2 by SPPOL_1:21;
A4: p`1 = ((1-r)*p1)`1+(r*p2)`1 by A3,TOPREAL3:7
    .= ((1-r)*p1)`1+r*p2`1 by TOPREAL3:9
    .= (1-r)*p1`1+r*p2`1 by TOPREAL3:9;
  1-r>=0 by A2,XREAL_1:50;
  then
A5: (1-r)*p1`1>=(1-r)*a by A1,XREAL_1:66;
A6: r*p2`1>=r*a by A1,A2,XREAL_1:66;
  (1-r)*a+r*a= a;
  hence p`1>=a by A4,A5,A6,XREAL_1:9;
end;

theorem
  for p1,p2,p being Point of TOP-REAL 2,a being Real
  st p in LSeg(p1,p2) & p1`1<a & p2`1<a holds p`1<a
proof
  let p1,p2,p be Point of TOP-REAL 2,a be Real;
  assume
A1: p in LSeg(p1,p2) & p1`1<a & p2`1<a;
  then consider r being Real such that
A2: 0<=r & r<=1 and
A3: p = (1-r)*p1+r*p2 by SPPOL_1:21;
A4: p`1 = ((1-r)*p1)`1+(r*p2)`1 by A3,TOPREAL3:7
    .= ((1-r)*p1)`1+r*p2`1 by TOPREAL3:9
    .= (1-r)*p1`1+r*p2`1 by TOPREAL3:9;
  per cases;
  suppose 0=r;
    then p=p1+(0)*p2 by A3,EUCLID:33
      .=p1+0.REAL 2 by EUCLID:33
      .=p1 by EUCLID:31;
    hence p`1<a by A1;
  end;
  suppose
A5: 0<>r;
    1-r>=0 by A2,XREAL_1:50;
    then
A6: (1-r)*p1`1<=(1-r)*a by A1,XREAL_1:66;
A7: r*p2`1<r*a by A1,A2,A5,XREAL_1:70;
    (1-r)*a+r*a= a;
    hence p`1<a by A4,A6,A7,XREAL_1:10;
  end;
end;

theorem
  for p1,p2,p being Point of TOP-REAL 2,a being Real
  st p in LSeg(p1,p2) & p1`1>a & p2`1>a holds p`1>a
proof
  let p1,p2,p be Point of TOP-REAL 2,a be Real;
  assume
A1: p in LSeg(p1,p2) & p1`1>a & p2`1>a;
  then consider r being Real such that
A2: 0<=r & r<=1 and
A3: p = (1-r)*p1+r*p2 by SPPOL_1:21;
A4: p`1 = ((1-r)*p1)`1+(r*p2)`1 by A3,TOPREAL3:7
    .= ((1-r)*p1)`1+r*p2`1 by TOPREAL3:9
    .= (1-r)*p1`1+r*p2`1 by TOPREAL3:9;
  per cases;
  suppose 0=r;
    then p=p1+(0)*p2 by A3,EUCLID:33
      .=p1+0.REAL 2 by EUCLID:33
      .=p1 by EUCLID:31;
    hence p`1>a by A1;
  end;
  suppose
A5: 0<>r;
    1-r>=0 by A2,XREAL_1:50;
    then
A6: (1-r)*p1`1>=(1-r)*a by A1,XREAL_1:66;
A7: r*p2`1>r*a by A1,A2,A5,XREAL_1:70;
    (1-r)*a+r*a= a;
    hence p`1>a by A4,A6,A7,XREAL_1:10;
  end;
end;

reserve j for Element of NAT;

theorem Th6:
  for f being S-Sequence_in_R2, p,q being Point of TOP-REAL 2 st
  1 <=j & j < len f & p in LSeg(f,j) & q in LSeg(f,j) &
  (f/.j)`2=(f/.(j+1))`2 & (f/.j)`1>(f/.(j+1))`1 & LE p,q,L~f,f/.1,f/.(len f)
  holds p`1>=q`1
proof
  let f be S-Sequence_in_R2, p,q be Point of TOP-REAL 2;
  assume
A1: 1 <=j & j < len f & p in LSeg(f,j) & q in LSeg(f,j) &
  (f/.j)`2=(f/.(j+1))`2 & (f/.j)`1>(f/.(j+1))`1 & LE p,q,L~f,f/.1,f/.(len f);
  then j+1<=len f by NAT_1:13;
  then
A2: LSeg(f,j)=LSeg(f/.j,f/.(j+1)) by A1,TOPREAL1:def 5;
  per cases;
  suppose
A3: p`1<> (f/.j)`1;
    (f/.j)`1>=p`1 by A1,A2,TOPREAL1:9;
    then (f/.j)`1>p`1 by A3,REAL_1:def 5;
    then
A4: (f/.j)`1-p`1>0 by XREAL_1:52;
    now
      assume
A5:   p`1<q`1;
      then
A6:   q`1-p`1>0 by XREAL_1:52;
A7:   p`2=(f/.j)`2 by A1,A2,GOBOARD7:6;
      reconsider a=((f/.j)`1-q`1)/((f/.j)`1-p`1) as Real;
A8:   (1-a)=((f/.j)`1-p`1)/((f/.j)`1-p`1)- ((f/.j)`1-q`1)/((f/.j)`1-p`1)
      by A4,XCMPLX_1:60
        .=((f/.j)`1-p`1- ((f/.j)`1-q`1))/((f/.j)`1-p`1) by XCMPLX_1:121
        .=(q`1-p`1)/((f/.j)`1-p`1);
A9:   ((1-a)*(f/.j)+a*p)`1=((1-a)*(f/.j))`1+(a*p)`1 by TOPREAL3:7
        .=(1-a)*(f/.j)`1+ (a*p)`1 by TOPREAL3:9
        .=1* (f/.j)`1 -a*(f/.j)`1 +a*(p`1) by TOPREAL3:9
        .= (f/.j)`1 -(a*((f/.j)`1 -(p`1)))
        .= (f/.j)`1 -((f/.j)`1-q`1) by A4,XCMPLX_1:88
        .=q`1;
A10:  ((1-a)*(f/.j)+a*p)`2=((1-a)*(f/.j))`2+(a*p)`2 by TOPREAL3:7
        .=(1-a)*(f/.j)`2+ (a*p)`2 by TOPREAL3:9
        .=1* (f/.j)`2 -a*(f/.j)`2 +a*(p`2) by TOPREAL3:9
        .=q`2 by A1,A2,A7,GOBOARD7:6;
      (f/.j)`1>=q`1 & q`1>=(f/.(j+1))`1 by A1,A2,TOPREAL1:9;
      then
A11:  (f/.j)`1-q`1>=0 by XREAL_1:50;
      (1-a)>=0 by A4,A6,A8,REAL_2:125;
      then 1-a+a>=0+a by XREAL_1:9;
      then
A12:  0<=a & a<=1 by A4,A11,REAL_2:125;
      q=(1-a)*(f/.j)+a*p by A9,A10,TOPREAL3:11;
      then q in { (1-lambda)*(f/.j) + lambda*p where lambda is Real :
      0 <= lambda & lambda <= 1 } by A12;
      then q in LSeg(f/.j,p) by TOPREAL1:def 3;
      then LE q,p,L~f,f/.1,f/.(len f) by A1,SPRECT_3:40;
      hence contradiction by A1,A5,JORDAN5C:12,TOPREAL1:31;
    end;
    hence p`1>=q`1;
  end;
  suppose p`1=(f/.j)`1;
    hence p`1>=q`1 by A1,A2,TOPREAL1:9;
  end;
end;

theorem Th7:
  for f being S-Sequence_in_R2, p,q being Point of TOP-REAL 2 st
  1 <=j & j < len f & p in LSeg(f,j) & q in LSeg(f,j) &
  (f/.j)`2=(f/.(j+1))`2 & (f/.j)`1<(f/.(j+1))`1 & LE p,q,L~f,f/.1,f/.(len f)
  holds p`1<=q`1
proof
  let f be S-Sequence_in_R2, p,q be Point of TOP-REAL 2;
  assume
A1: 1 <=j & j < len f & p in LSeg(f,j) & q in LSeg(f,j) &
  (f/.j)`2=(f/.(j+1))`2 & (f/.j)`1<(f/.(j+1))`1 & LE p,q,L~f,f/.1,f/.(len f);
  then j+1<=len f by NAT_1:13;
  then
A2: LSeg(f,j)=LSeg(f/.j,f/.(j+1)) by A1,TOPREAL1:def 5;
  per cases;
  suppose
A3: p`1<> (f/.(j))`1;
    (f/.j)`1<=p`1 & p`1<=(f/.(j+1))`1 by A1,A2,TOPREAL1:9;
    then (f/.(j))`1<p`1 by A3,REAL_1:def 5;
    then
A4: (f/.(j))`1 -p`1<0 by REAL_2:105;
    now
      assume
A5:   p`1>q`1;
      then
A6:   q`1-p`1<0 by REAL_2:105;
A7:   p`2=(f/.j)`2 by A1,A2,GOBOARD7:6;
      reconsider a=((f/.(j))`1-q`1)/((f/.(j))`1-p`1) as Real;
A8:   (1-a)=((f/.(j))`1-p`1)/((f/.(j))`1-p`1)
      - ((f/.(j))`1-q`1)/((f/.(j))`1-p`1) by A4,XCMPLX_1:60
        .=((f/.(j))`1-p`1- ((f/.(j))`1-q`1))/((f/.(j))`1-p`1) by XCMPLX_1:121
        .=(q`1-p`1)/((f/.(j))`1-p`1);
A9:   ((1-a)*(f/.(j))+a*p)`1=((1-a)*(f/.(j)))`1+(a*p)`1 by TOPREAL3:7
        .=(1-a)*(f/.(j))`1+ (a*p)`1 by TOPREAL3:9
        .=1* (f/.(j))`1 -a*(f/.(j))`1 +a*(p`1) by TOPREAL3:9
        .= (f/.(j))`1 -(a*((f/.(j))`1 -(p`1)))
        .= (f/.(j))`1 -((f/.(j))`1-q`1) by A4,XCMPLX_1:88
        .=q`1;
A10:  ((1-a)*(f/.(j))+a*p)`2=((1-a)*(f/.(j)))`2+(a*p)`2 by TOPREAL3:7
        .=(1-a)*(f/.(j))`2+ (a*p)`2 by TOPREAL3:9
        .=1* (f/.(j))`2 -a*(f/.(j))`2 +a*(p`2) by TOPREAL3:9
        .=q`2 by A1,A2,A7,GOBOARD7:6;
      (f/.j)`1<=q`1 & q`1<=(f/.(j+1))`1 by A1,A2,TOPREAL1:9;
      then
A11:  (f/.(j))`1-q`1<=0 by REAL_2:106;
      (1-a)>=0 by A4,A6,A8,REAL_2:125;
      then 1-a+a>=0+a by XREAL_1:9;
      then
A12:  0<=a & a<=1 by A4,A11,REAL_2:125;
      q=(1-a)*(f/.(j))+a*p by A9,A10,TOPREAL3:11;
      then q in { (1-lambda)*(f/.(j)) + lambda*p where lambda is Real :
      0 <= lambda & lambda <= 1 } by A12;
      then q in LSeg(f/.(j),p) by TOPREAL1:def 3;
      then LE q,p,L~f,f/.1,f/.(len f) by A1,SPRECT_3:40;
      hence contradiction by A1,A5,JORDAN5C:12,TOPREAL1:31;
    end;
    hence p`1<=q`1;
  end;
  suppose p`1=(f/.(j))`1;
    hence p`1<=q`1 by A1,A2,TOPREAL1:9;
  end;
end;

definition
  let P be Subset of TOP-REAL 2, p1,p2,p be Point of TOP-REAL 2, e be Real;
  pred p is_Lin P,p1,p2,e means
  :Def1:
  P is_an_arc_of p1,p2 & p in P & p`1=e &
  (ex p4 being Point of TOP-REAL 2 st p4`1<e & LE p4,p,P,p1,p2 &
  (for p5 being Point of TOP-REAL 2 st
  LE p4,p5,P,p1,p2 & LE p5,p,P,p1,p2 holds p5`1<=e));
  pred p is_Rin P,p1,p2,e means
  :Def2:
  P is_an_arc_of p1,p2 & p in P & p`1=e &
  (ex p4 being Point of TOP-REAL 2 st p4`1>e & LE p4,p,P,p1,p2 &
  (for p5 being Point of TOP-REAL 2 st
  LE p4,p5,P,p1,p2 & LE p5,p,P,p1,p2 holds p5`1>=e));
  pred p is_Lout P,p1,p2,e means
  :Def3:
  P is_an_arc_of p1,p2 & p in P & p`1=e &
  (ex p4 being Point of TOP-REAL 2 st p4`1<e & LE p,p4,P,p1,p2 &
  (for p5 being Point of TOP-REAL 2 st
  LE p5,p4,P,p1,p2 & LE p,p5,P,p1,p2 holds p5`1<=e));
  pred p is_Rout P,p1,p2,e means
  :Def4:
  P is_an_arc_of p1,p2 & p in P & p`1=e &
  (ex p4 being Point of TOP-REAL 2 st p4`1>e & LE p,p4,P,p1,p2 &
  (for p5 being Point of TOP-REAL 2 st
  LE p5,p4,P,p1,p2 & LE p,p5,P,p1,p2 holds p5`1>=e));
  pred p is_OSin P,p1,p2,e means
  :Def5: ::Oscilating In
  P is_an_arc_of p1,p2 & p in P & p`1=e &
  ex p7 being Point of TOP-REAL 2 st LE p7,p,P,p1,p2 &
  (for p8 being Point of TOP-REAL 2 st LE p7,p8,P,p1,p2 & LE p8,p,P,p1,p2
  holds p8`1=e) &
  (for p4 being Point of TOP-REAL 2 st LE p4,p7,P,p1,p2 & p4<>p7 holds
  (ex p5 being Point of TOP-REAL 2 st
  LE p4,p5,P,p1,p2 & LE p5,p7,P,p1,p2 & p5`1>e) &
  (ex p6 being Point of TOP-REAL 2 st
  LE p4,p6,P,p1,p2 & LE p6,p7,P,p1,p2 & p6`1<e));
  pred p is_OSout P,p1,p2,e means
  :Def6: ::Oscilating Out
  P is_an_arc_of p1,p2 & p in P & p`1=e &
  ex p7 being Point of TOP-REAL 2 st LE p,p7,P,p1,p2 &
  (for p8 being Point of TOP-REAL 2 st LE p8,p7,P,p1,p2 & LE p,p8,P,p1,p2
  holds p8`1=e) &
  (for p4 being Point of TOP-REAL 2 st LE p7,p4,P,p1,p2 & p4<>p7 holds
  (ex p5 being Point of TOP-REAL 2 st
  LE p5,p4,P,p1,p2 & LE p7,p5,P,p1,p2 & p5`1>e)&
  (ex p6 being Point of TOP-REAL 2 st
  LE p6,p4,P,p1,p2 & LE p7,p6,P,p1,p2 & p6`1<e));
  correctness;
end;

theorem
  for P being Subset of TOP-REAL 2,
  p1,p2,p being Point of TOP-REAL 2,e being Real st
  P is_an_arc_of p1,p2 & p1`1<=e & p2`1>=e
  holds ex p3 being Point of TOP-REAL 2 st p3 in P & p3`1=e
proof
  let P be Subset of TOP-REAL 2, p1,p2,p be Point of TOP-REAL 2,e be Real;
  assume P is_an_arc_of p1,p2 & p1`1<=e & p2`1>=e;
  then P meets Vertical_Line(e) by JORDAN6:64;
  then
A1: P /\ Vertical_Line(e) <> {} by XBOOLE_0:def 7;
  consider x being Element of P /\ Vertical_Line(e);
A2: x in P & x in Vertical_Line(e) by A1,XBOOLE_0:def 3;
  then x in {p3 where p3 is Point of TOP-REAL 2: p3`1=e} by JORDAN6:def 6;
  then consider p4 being Point of TOP-REAL 2 such that
A3: p4=x & p4`1=e;
  thus thesis by A2,A3;
end;

theorem
  for P being non empty Subset of TOP-REAL 2,
  p1,p2,p being Point of TOP-REAL 2,e being Real st
  P is_an_arc_of p1,p2 & p1`1<e & p2`1>e & p in P & p`1=e
  holds p is_Lin P,p1,p2,e or p is_Rin P,p1,p2,e or p is_OSin P,p1,p2,e
proof
  let P be non empty Subset of TOP-REAL 2,
  p1,p2,p be Point of TOP-REAL 2,e be Real;
  assume
A1: P is_an_arc_of p1,p2 & p1`1<e & p2`1>e & p in P & p`1=e;
  now
    assume
A2: not p is_OSin P,p1,p2,e;
    LE p1,p,P,p1,p2 by A1,JORDAN5C:10;
    then
A3: p1 in P & p in P & for g being Function of I[01], (TOP-REAL 2)|P,
    s1, s2 being Real st g is_homeomorphism & g.0 = p1 & g.1 = p2
    & g.s1 = p1 & 0 <= s1 & s1 <= 1 & g.s2 = p & 0 <= s2 & s2 <= 1
    holds s1 <= s2 by JORDAN5C:def 3;
    consider f being Function of I[01], (TOP-REAL 2)|P such that
A4: f is_homeomorphism & f.0 = p1 & f.1 = p2 by A1,TOPREAL1:def 2;
A5: f is continuous by A4,TOPS_2:def 5;
A6: dom f=[#](I[01]) & rng f=[#]((TOP-REAL 2)|P) by A4,TOPS_2:def 5;
    then
A7: rng f=P by PRE_TOPC:def 10;
    p in rng f by A3,A6,PRE_TOPC:def 10;
    then consider xs being set such that
A8: xs in dom f & p=f.xs by FUNCT_1:def 5;
    reconsider s2=xs as Real by A6,A8,BORSUK_1:83;
A9: 0<=s2 & s2<=1 by A8,BORSUK_1:83,RCOMP_1:48;
    reconsider pr1=proj1 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
    reconsider pro1=pr1|P as Function of (TOP-REAL 2)|P,R^1 by PRE_TOPC:30;
    for p7 being Point of (TOP-REAL 2)|P holds pro1.p7=proj1.p7
    proof
      let p7 be Point of (TOP-REAL 2)|P;
      the carrier of ((TOP-REAL 2)|P)=P by PRE_TOPC:29;
      hence pro1.p7=proj1.p7 by FUNCT_1:72;
    end;
    then
A10: pro1 is continuous by JGRAPH_2:39;
    reconsider h=pro1*f as Function of I[01],R^1;
A11: h is continuous by A5,A10,TOPS_2:58;
A12: dom h=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
    for q being Point of TOP-REAL 2 st q=f.0 holds q`1<>e by A1,A4;
    then
A13: 0 in {s where s is Real: 0<=s & s<=s2 &
    (for q being Point of TOP-REAL 2 st q=f.s holds q`1<>e)} by A9;
    {s where s is Real: 0<=s & s<=s2 &
    (for q being Point of TOP-REAL 2 st q=f.s holds q`1<>e)} c= REAL
    proof
      let x be set;
      assume x in {s where s is Real: 0<=s & s<=s2 &
      (for q being Point of TOP-REAL 2 st q=f.s holds q`1<>e)};
      then consider s being Real such that
A14:  s=x & 0<=s & s<=s2 &
      (for q being Point of TOP-REAL 2 st q=f.s holds q`1<>e);
      thus x in REAL by A14;
    end;
    then reconsider R={s where s is Real: 0<=s & s<=s2 &
    (for q being Point of TOP-REAL 2 st q=f.s holds q`1<>e)}
    as non empty Subset of REAL by A13;
    reconsider s0=sup R as Real;
    R c= [.0,1.]
    proof
      let x be set;
      assume x in R;
      then consider s being Real such that
A15:  s=x & 0<=s & s<=s2 &
      (for q being Point of TOP-REAL 2 st q=f.s holds q`1<>e);
      s<=1 by A9,A15,XXREAL_0:2;
      hence x in [.0,1.] by A15,RCOMP_1:48;
    end;
    then reconsider R''=R as Subset of I[01] by BORSUK_1:83;
    R''=R;
    then
A16: 0 <= s0 by A13,BORSUK_4:51;
A17: for s being real number st s in R holds s < s2
    proof
      let s be real number;
      assume s in R;
      then consider s3 being Real such that
A18:  s3=s & 0<=s3 & s3<=s2 &
      (for q being Point of TOP-REAL 2 st q=f.s3 holds q`1<>e);
      s<>s2 by A1,A8,A18;
      hence thesis by A18,REAL_1:def 5;
    end;
    then for s being real number st s in R holds s <= s2;
    then
A19: s0 <= s2 by SEQ_4:62;
    then
A20: s0 <=1 by A9,XXREAL_0:2;
    then s0 in dom f by A6,A16,BORSUK_1:83,RCOMP_1:48;
    then f.s0 in rng f by FUNCT_1:def 5;
    then f.s0 in P by A6,PRE_TOPC:def 10;
    then reconsider p9=f.s0 as Point of TOP-REAL 2;
    for s being real number st s in R holds s <= s2 by A17;
    then
A21: R is bounded_above by SEQ_4:def 1;
A22: LE p9,p,P,p1,p2 by A1,A4,A8,A9,A16,A19,A20,JORDAN5C:8;
A23: for p8 being Point of TOP-REAL 2 st LE p9,p8,P,p1,p2 & LE p8,p,P,p1,p2
    holds p8`1=e
    proof
      let p8 be Point of TOP-REAL 2;
      assume
A24:  LE p9,p8,P,p1,p2 & LE p8,p,P,p1,p2;
      then
A25:  p8 in P by JORDAN5C:def 3;
      then consider x8 being set such that
A26:  x8 in dom f & p8=f.x8 by A7,FUNCT_1:def 5;
      reconsider s8=x8 as Real by A6,A26,BORSUK_1:83;
A27:  0<=s8 & s8<=1 & f.s8=p8 by A26,BORSUK_1:83,RCOMP_1:48;
      then
A28:  s0 <=s8 by A4,A20,A24,JORDAN5C:def 3;
A29:  s8<=s2 by A4,A8,A9,A24,A27,JORDAN5C:def 3;
      now
        assume
A30:    p8`1<>e;
        then
A31:    s8<s2 by A1,A8,A26,A29,REAL_1:def 5;
        reconsider ee=abs(p8`1-e)/2 as Real;
        p8`1-e<>0 by A30;
        then abs(p8`1-e)>0 by COMPLEX1:133;
        then
A32:    ee>0 by REAL_2:127;
        reconsider w=p8`1 as Element of RealSpace by METRIC_1:def 14;
        reconsider B=Ball(w,ee) as Subset of R^1
        by METRIC_1:def 14,TOPMETR:24;
A33:    w in Ball(w,ee) by A32,GOBOARD6:4;
A34:    B={s7 where s7 is Real:p8`1-ee<s7 & s7<p8`1+ee} by A32,JORDAN2B:21
          .= ].p8`1-ee,p8`1+ee.[ by RCOMP_1:def 2;
A35:    h"B is open by A11,TOPMETR:def 7,UNIFORM1:3;
A36:    the carrier of Closed-Interval-MSpace(0,1)=[.0,1.] by TOPMETR:14;
        reconsider s8m=s8 as Point of Closed-Interval-MSpace(0,1)
        by A26,BORSUK_1:83,TOPMETR:14;
        reconsider s8n=s8 as Point of RealSpace by METRIC_1:def 14;
A37:    I[01]=TopSpaceMetr(Closed-Interval-MSpace(0,1)) by TOPMETR:27,def 8;
        h.s8=pro1.(f.s8) by A12,A26,BORSUK_1:83,FUNCT_1:22
          .=proj1.p8 by A25,A26,FUNCT_1:72
          .=p8`1 by PSCOMP_1:def 28;
        then s8 in h"B by A12,A26,A33,BORSUK_1:83,FUNCT_1:def 13;
        then consider r0 being real number such that
A38:    r0>0 & Ball(s8m,r0) c= h"B by A35,A37,TOPMETR:22;
        reconsider r0 as Real by XREAL_0:def 1;
        reconsider r01=min(s2-s8,r0) as Real;
        s2-s8>0 by A31,XREAL_1:52;
        then
A39:    r01>0 by A38,SQUARE_1:113;
        then Ball(s8n,r01)= (].s8-r01,s8+r01 .[) by FRECHET:7;
        then
A40:    Ball(s8m,r01)= (].s8-r01,s8+r01 .[) /\ [.0,1.] by A36,TOPMETR:13;
        s2-s8>=r01 by XXREAL_0:17;
        then
A41:    s2-s8+s8>=r01+s8 by XREAL_1:9;
A42:    Ball(s8m,r01) c= Ball(s8m,r0) by PCOMPS_1:1,XXREAL_0:17;
A43:    s8+r01<=1 by A9,A41,XXREAL_0:2;
A44:    (].s8-r01,s8+r01 .[)/\ [.0,1.] c= h"B by A38,A40,A42,XBOOLE_1:1;
A45:    r01-r01/2+r01/2>0+r01/2 by A39,XREAL_1:8;
        then
A46:    s8+r01/2<s8+r01 by XREAL_1:8;
A47:    r01/2>0 by A39,REAL_2:127;
        then 0+0<r01/2+r01 by A39,XREAL_1:10;
        then s8+0<s8+(r01/2+r01) by XREAL_1:8;
        then s8-r01+r01<s8+r01/2+r01;
        then s8-r01<s8+r01/2 & s8+r01/2<s8+r01 by A45,XREAL_1:8;
        then
A48:    s8+r01/2 in ].s8-r01,s8+r01 .[ by RCOMP_1:47;
A49:    0+0<s8+r01/2 by A27,A47,XREAL_1:10;
        s8+r01/2<1 by A43,A46,XXREAL_0:2;
        then s8+r01/2 in [.0,1.] by A49,RCOMP_1:48;
        then s8+r01/2 in (].s8-r01,s8+r01 .[)/\ [.0,1.] by A48,XBOOLE_0:def 3;
        then
A50:    s8+r01/2 in dom h & h.(s8+r01/2) in B by A44,FUNCT_1:def 13;
        reconsider s70=s8+r01/2 as Real;
A51:    s8<s8+r01/2 by A47,XREAL_1:31;
A52:    s8<s70 & 0<=s70 & s70<=s2 by A27,A41,A46,A47,XREAL_1:31,XXREAL_0:2;
        for p7 being Point of TOP-REAL 2 st p7=f.s70 holds p7`1<>e
        proof
          let p7 be Point of TOP-REAL 2;
          assume
A53:      p7=f.s70;
          s70<=1 by A9,A52,XXREAL_0:2;
          then s70 in [.0,1.] by A27,A51,RCOMP_1:48;
          then
A54:      p7 in rng f by A6,A53,BORSUK_1:83,FUNCT_1:def 5;
A55:      rng f=[#]((TOP-REAL 2)|P) by A4,TOPS_2:def 5
            .=P by PRE_TOPC:def 10;
          h.s70=pro1.(f.s70) by A50,FUNCT_1:22
            .=pr1.(p7) by A53,A54,A55,FUNCT_1:72
            .=p7`1 by PSCOMP_1:def 28;
          then
A56:      p8`1-ee<p7`1 & p7`1<p8`1+ee by A34,A50,RCOMP_1:47;
          now
            assume
A57:        p7`1=e;
            now per cases;
              case
A58:            p8`1-e>=0;
                then p8`1-(p8`1-e)/2<e & e< p8`1+(p8`1-e)/2
                by A56,A57,ABSVALUE:def 1;
                then p8`1/2+e/2<e/2+e/2;
                then p8`1/2<e/2 by XREAL_1:9;
                then
A59:            p8`1/2-e/2<e/2-e/2 by REAL_1:92;
                (p8`1-e)/2>=0/2 by A58,REAL_1:73;
                hence contradiction by A59;
              end;
              case
A60:            p8`1-e<0;
                then p8`1-(-(p8`1-e))/2<e & e< p8`1+(-(p8`1-e))/2
                by A56,A57,ABSVALUE:def 1;
                then p8`1/2+e/2>e/2+e/2;
                then p8`1/2>e/2 by XREAL_1:9;
                then
A61:            p8`1/2-e/2>e/2-e/2 by REAL_1:92;
                (p8`1-e)/2<=0/2 by A60,REAL_1:73;
                hence contradiction by A61;
              end;
            end;
            hence contradiction;
          end;
          hence p7`1<>e;
        end;
        then consider s7 being Real such that
A62:    s8<s7 & 0<=s7 & s7<=s2 &
        (for p7 being Point of TOP-REAL 2 st p7=f.s7 holds p7`1<>e) by A52;
        s7 in R by A62;
        then s7 <= s0 by A21,SEQ_4:def 4;
        hence contradiction by A28,A62,XXREAL_0:2;
      end;
      hence p8`1=e;
    end;
    then consider p4 being Point of TOP-REAL 2 such that
A63: LE p4,p9,P,p1,p2 & p4<>p9 & ((for p5 being Point of TOP-REAL 2 st
    LE p4,p5,P,p1,p2 & LE p5,p9,P,p1,p2 holds p5`1<=e)or
    (for p6 being Point of TOP-REAL 2 st LE p4,p6,P,p1,p2 & LE p6,p9,P,p1,p2
    holds p6`1>=e)) by A1,A2,A22,Def5;
A64: p9 in P by A63,JORDAN5C:def 3;
    now per cases by A63;
      case
A65:    (for p5 being Point of TOP-REAL 2 st
        LE p4,p5,P,p1,p2 & LE p5,p9,P,p1,p2 holds p5`1<=e);
A66:    now
          assume ex p51 being Point of TOP-REAL 2 st
          LE p4,p51,P,p1,p2 & LE p51,p9,P,p1,p2 & p51`1<e;
          then consider p51 being Point of TOP-REAL 2 such that
A67:      LE p4,p51,P,p1,p2 & LE p51,p9,P,p1,p2 & p51`1<e;
A68:      LE p51,p,P,p1,p2 by A22,A67,JORDAN5C:13;
          (for p5 being Point of TOP-REAL 2 st
          LE p51,p5,P,p1,p2 & LE p5,p,P,p1,p2 holds p5`1<=e)
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A69:        LE p51,p5,P,p1,p2 & LE p5,p,P,p1,p2;
            then
A70:        LE p4,p5,P,p1,p2 by A67,JORDAN5C:13;
A71:        p5 in P by A69,JORDAN5C:def 3;
            then
A72:        p5=p9 implies LE p9,p5,P,p1,p2 by JORDAN5C:9;
            now per cases by A1,A64,A71,A72,JORDAN5C:14;
              case LE p5,p9,P,p1,p2;
                hence p5`1<=e by A65,A70;
              end;
              case LE p9,p5,P,p1,p2;
                hence p5`1<=e by A23,A69;
              end;
            end;
            hence p5`1<=e;
          end;
          hence p is_Lin P,p1,p2,e by A1,A67,A68,Def1;
        end;
        now
          assume
A73:      not ex p51 being Point of TOP-REAL 2 st
          LE p4,p51,P,p1,p2 & LE p51,p9,P,p1,p2 & p51`1<e;
A74:      for p51 being Point of TOP-REAL 2 st
          LE p4,p51,P,p1,p2 & LE p51,p9,P,p1,p2 holds p51`1=e
          proof
            let p51 be Point of TOP-REAL 2;
            assume
A75:        LE p4,p51,P,p1,p2 & LE p51,p9,P,p1,p2;
            then
A76:        p51`1>=e by A73;
            p51`1<=e by A65,A75;
            hence p51`1=e by A76,XXREAL_0:1;
          end;
          p4 in P by A63,JORDAN5C:def 3;
          then p4 in rng f by A6,PRE_TOPC:def 10;
          then consider xs4 being set such that
A77:      xs4 in dom f & p4=f.xs4 by FUNCT_1:def 5;
          reconsider s4=xs4 as Real by A6,A77,BORSUK_1:83;
A78:      0<=s4 & s4<=1 by A77,BORSUK_1:83,RCOMP_1:48;
          then
A79:      s4<= s0 by A4,A16,A20,A63,A77,JORDAN5C:def 3;
          now
            assume s4< s0;
            then s0-s4>0 by XREAL_1:52;
            then
A80:        (s0-s4)/2>0 by REAL_2:127;
            then
A81:        s4<s4+(s0-s4)/2 by XREAL_1:31;
            consider r being real number such that
A82:        r in R & s0-((s0-s4)/2)<r by A21,A80,SEQ_4:def 4;
A83:        r<=s0 by A21,A82,SEQ_4:def 4;
A84:        s4<r by A81,A82,XXREAL_0:2;
            consider s7 being Real such that
A85:        s7=r & 0<=s7 & s7<=s2 &
            (for q being Point of TOP-REAL 2 st q=f.s7 holds q`1<>e) by A82;
A86:        r<=1 by A9,A85,XXREAL_0:2;
            then
A87:        r in [.0,1.] by A78,A81,A82,RCOMP_1:48;
            reconsider rss=r as Real by XREAL_0:def 1;
            f.rss in rng f by A6,A87,BORSUK_1:83,FUNCT_1:def 5;
            then f.rss in P by A6,PRE_TOPC:def 10;
            then reconsider pss=f.rss as Point of TOP-REAL 2;
            LE p4,pss,P,p1,p2 & LE pss,p9,P,p1,p2
            by A1,A4,A20,A77,A78,A83,A84,A86,JORDAN5C:8;
            then pss`1=e by A74;
            hence contradiction by A85;
          end;
          hence contradiction by A63,A77,A79,XXREAL_0:1;
        end;
        hence p is_Lin P,p1,p2,e or p is_Rin P,p1,p2,e by A66;
      end;
      case
A88:    (for p6 being Point of TOP-REAL 2 st
        LE p4,p6,P,p1,p2 & LE p6,p9,P,p1,p2 holds p6`1>=e);
A89:    now
          assume ex p51 being Point of TOP-REAL 2 st
          LE p4,p51,P,p1,p2 & LE p51,p9,P,p1,p2 & p51`1>e;
          then consider p51 being Point of TOP-REAL 2 such that
A90:      LE p4,p51,P,p1,p2 & LE p51,p9,P,p1,p2 & p51`1>e;
A91:      LE p51,p,P,p1,p2 by A22,A90,JORDAN5C:13;
          (for p5 being Point of TOP-REAL 2 st
          LE p51,p5,P,p1,p2 & LE p5,p,P,p1,p2 holds p5`1>=e)
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A92:        LE p51,p5,P,p1,p2 & LE p5,p,P,p1,p2;
            then
A93:        LE p4,p5,P,p1,p2 by A90,JORDAN5C:13;
A94:        p5 in P by A92,JORDAN5C:def 3;
            then
A95:        p5=p9 implies LE p9,p5,P,p1,p2 by JORDAN5C:9;
            now per cases by A1,A64,A94,A95,JORDAN5C:14;
              case LE p5,p9,P,p1,p2;
                hence p5`1>=e by A88,A93;
              end;
              case LE p9,p5,P,p1,p2;
                hence p5`1>=e by A23,A92;
              end;
            end;
            hence p5`1>=e;
          end;
          hence p is_Rin P,p1,p2,e by A1,A90,A91,Def2;
        end;
        now
          assume
A96:      not ex p51 being Point of TOP-REAL 2 st
          LE p4,p51,P,p1,p2 & LE p51,p9,P,p1,p2 & p51`1>e;
A97:      for p51 being Point of TOP-REAL 2 st
          LE p4,p51,P,p1,p2 & LE p51,p9,P,p1,p2 holds p51`1=e
          proof
            let p51 be Point of TOP-REAL 2;
            assume
A98:        LE p4,p51,P,p1,p2 & LE p51,p9,P,p1,p2;
            then
A99:        p51`1<=e by A96;
            p51`1>=e by A88,A98;
            hence p51`1=e by A99,XXREAL_0:1;
          end;
          p4 in P by A63,JORDAN5C:def 3;
          then p4 in rng f by A6,PRE_TOPC:def 10;
          then consider xs4 being set such that
A100:     xs4 in dom f & p4=f.xs4 by FUNCT_1:def 5;
          reconsider s4=xs4 as Real by A6,A100,BORSUK_1:83;
A101:     0<=s4 & s4<=1 by A100,BORSUK_1:83,RCOMP_1:48;
          then
A102:     s4<=s0 by A4,A16,A20,A63,A100,JORDAN5C:def 3;
          now
            assume s4<s0;
            then s0-s4>0 by XREAL_1:52;
            then
A103:       (s0-s4)/2>0 by REAL_2:127;
            then
A104:       s4<s4+(s0-s4)/2 by XREAL_1:31;
            consider r being real number such that
A105:       r in R & s0-((s0-s4)/2)<r by A21,A103,SEQ_4:def 4;
A106:       r<=s0 by A21,A105,SEQ_4:def 4;
A107:       s4<r by A104,A105,XXREAL_0:2;
            consider s7 being Real such that
A108:       s7=r & 0<=s7 & s7<=s2 &
            (for q being Point of TOP-REAL 2 st q=f.s7 holds q`1<>e) by A105;
A109:       r<=1 by A9,A108,XXREAL_0:2;
            then
A110:       r in [.0,1.] by A101,A104,A105,RCOMP_1:48;
            reconsider rss=r as Real by XREAL_0:def 1;
            f.rss in rng f by A6,A110,BORSUK_1:83,FUNCT_1:def 5;
            then f.rss in P by A6,PRE_TOPC:def 10;
            then reconsider pss=f.rss as Point of TOP-REAL 2;
            LE p4,pss,P,p1,p2 & LE pss,p9,P,p1,p2
            by A1,A4,A20,A100,A101,A106,A107,A109,JORDAN5C:8;
            then pss`1=e by A97;
            hence contradiction by A108;
          end;
          hence contradiction by A63,A100,A102,XXREAL_0:1;
        end;
        hence p is_Lin P,p1,p2,e or p is_Rin P,p1,p2,e by A89;
      end;
    end;
    hence p is_Lin P,p1,p2,e or p is_Rin P,p1,p2,e;
  end;
  hence thesis;
end;

theorem
  for P being non empty Subset of TOP-REAL 2,
  p1,p2,p being Point of TOP-REAL 2,e being Real st
  P is_an_arc_of p1,p2 & p1`1<e & p2`1>e & p in P & p`1=e
  holds p is_Lout P,p1,p2,e or p is_Rout P,p1,p2,e or p is_OSout P,p1,p2,e
proof
  let P be non empty Subset of TOP-REAL 2,
  p1,p2,p be Point of TOP-REAL 2,e be Real;
  assume
A1: P is_an_arc_of p1,p2 & p1`1<e & p2`1>e & p in P & p`1=e;
  now
    assume
A2: not p is_OSout P,p1,p2,e;
    LE p1,p,P,p1,p2 by A1,JORDAN5C:10;
    then
A3: p1 in P & p in P & for g being Function of I[01], (TOP-REAL 2)|P,
    s1, s2 being Real st g is_homeomorphism & g.0 = p1 & g.1 = p2
    & g.s1 = p1 & 0 <= s1 & s1 <= 1 & g.s2 = p & 0 <= s2 & s2 <= 1
    holds s1 <= s2 by JORDAN5C:def 3;
    consider f being Function of I[01], (TOP-REAL 2)|P such that
A4: f is_homeomorphism & f.0 = p1 & f.1 = p2 by A1,TOPREAL1:def 2;
A5: f is continuous by A4,TOPS_2:def 5;
A6: dom f=[#](I[01]) & rng f=[#]((TOP-REAL 2)|P) by A4,TOPS_2:def 5;
    then
A7: rng f=P by PRE_TOPC:def 10;
    p in rng f by A3,A6,PRE_TOPC:def 10;
    then consider xs being set such that
A8: xs in dom f & p=f.xs by FUNCT_1:def 5;
    reconsider s2=xs as Real by A6,A8,BORSUK_1:83;
A9: 0<=s2 & s2<=1 by A8,BORSUK_1:83,RCOMP_1:48;
    reconsider pr1=proj1 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
    reconsider pro1=pr1|P as Function of (TOP-REAL 2)|P,R^1 by PRE_TOPC:30;
    for p7 being Point of (TOP-REAL 2)|P holds pro1.p7=proj1.p7
    proof
      let p7 be Point of (TOP-REAL 2)|P;
      the carrier of ((TOP-REAL 2)|P)=P by PRE_TOPC:29;
      hence pro1.p7=proj1.p7 by FUNCT_1:72;
    end;
    then
A10: pro1 is continuous by JGRAPH_2:39;
    reconsider h=pro1*f as Function of I[01],R^1;
A11: h is continuous by A5,A10,TOPS_2:58;
A12: dom h=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
    (for q being Point of TOP-REAL 2 st q=f.1 holds q`1<>e) by A1,A4;
    then
A13: 1 in {s where s is Real: 1>=s & s>=s2 &
    (for q being Point of TOP-REAL 2 st q=f.s holds q`1<>e)} by A9;
    {s where s is Real: 1>=s & s>=s2 &
    (for q being Point of TOP-REAL 2 st q=f.s holds q`1<>e)} c= REAL
    proof
      let x be set;
      assume x in {s where s is Real: 1>=s & s>=s2 &
      (for q being Point of TOP-REAL 2 st q=f.s holds q`1<>e)};
      then consider s being Real such that
A14:  s=x & 1>=s & s>=s2 &
      (for q being Point of TOP-REAL 2 st q=f.s holds q`1<>e);
      thus x in REAL by A14;
    end;
    then reconsider R={s where s is Real: 1>=s & s>=s2 &
    (for q being Point of TOP-REAL 2 st q=f.s holds q`1<>e)}
    as non empty Subset of REAL by A13;
    reconsider s0=inf R as Real;
    R c= [.0,1.]
    proof
      let x be set;
      assume x in R;
      then consider s being Real such that
A15:  s=x & 1>=s & s>=s2 &
      (for q being Point of TOP-REAL 2 st q=f.s holds q`1<>e);
      thus x in [.0,1.] by A9,A15,RCOMP_1:48;
    end;
    then
A16: 1 >= s0 by A13,BORSUK_1:83,BORSUK_4:51;
A17: for s being real number st s in R holds s > s2
    proof
      let s be real number;
      assume s in R;
      then consider s3 being Real such that
A18:  s3=s & 1>=s3 & s3>=s2 &
      (for q being Point of TOP-REAL 2 st q=f.s3 holds q`1<>e);
      s<>s2 by A1,A8,A18;
      hence thesis by A18,REAL_1:def 5;
    end;
    then for s being real number st s in R holds s >= s2;
    then
A19: s0 >= s2 by SEQ_4:60;
    then s0 in dom f by A6,A9,A16,BORSUK_1:83,RCOMP_1:48;
    then f.s0 in rng f by FUNCT_1:def 5;
    then f.s0 in P by A6,PRE_TOPC:def 10;
    then reconsider p9=f.s0 as Point of TOP-REAL 2;
    for s being real number st s in R holds s >= s2 by A17;
    then
A20: R is bounded_below by SEQ_4:def 2;
A21: LE p,p9,P,p1,p2 by A1,A4,A8,A9,A16,A19,JORDAN5C:8;
A22: for p8 being Point of TOP-REAL 2 st LE p8,p9,P,p1,p2 & LE p,p8,P,p1,p2
    holds p8`1=e
    proof
      let p8 be Point of TOP-REAL 2;
      assume
A23:  LE p8,p9,P,p1,p2 & LE p,p8,P,p1,p2;
      then
A24:  p8 in P by JORDAN5C:def 3;
      then consider x8 being set such that
A25:  x8 in dom f & p8=f.x8 by A7,FUNCT_1:def 5;
      reconsider s8=x8 as Real by A6,A25,BORSUK_1:83;
A26:  0<=s8 & s8<=1 & f.s8=p8 by A25,BORSUK_1:83,RCOMP_1:48;
      then
A27:  s0>=s8 by A4,A9,A16,A19,A23,JORDAN5C:def 3;
A28:  s8>=s2 by A4,A8,A9,A23,A26,JORDAN5C:def 3;
      now
        assume
A29:    p8`1<>e;
        then
A30:    s8>s2 by A1,A8,A25,A28,REAL_1:def 5;
        reconsider ee=abs(p8`1-e)/2 as Real;
        p8`1-e<>0 by A29;
        then abs(p8`1-e)>0 by COMPLEX1:133;
        then
A31:    ee>0 by REAL_2:127;
        reconsider w=p8`1 as Element of RealSpace by METRIC_1:def 14;
        reconsider B=Ball(w,ee) as Subset of R^1
        by METRIC_1:def 14,TOPMETR:24;
A32:    w in Ball(w,ee) by A31,GOBOARD6:4;
A33:    B={s7 where s7 is Real:p8`1-ee<s7 & s7<p8`1+ee} by A31,JORDAN2B:21
          .= ].p8`1-ee,p8`1+ee.[ by RCOMP_1:def 2;
A34:    h"B is open by A11,TOPMETR:def 7,UNIFORM1:3;
A35:    the carrier of Closed-Interval-MSpace(0,1)=[.0,1.] by TOPMETR:14;
        reconsider s8m=s8 as Point of Closed-Interval-MSpace(0,1)
        by A25,BORSUK_1:83,TOPMETR:14;
        reconsider s8n=s8 as Point of RealSpace by METRIC_1:def 14;
A36:    I[01]=TopSpaceMetr(Closed-Interval-MSpace(0,1)) by TOPMETR:27,def 8;
        h.s8=pro1.(f.s8) by A12,A25,BORSUK_1:83,FUNCT_1:22
          .=proj1.p8 by A24,A25,FUNCT_1:72
          .=p8`1 by PSCOMP_1:def 28;
        then s8 in h"B by A12,A25,A32,BORSUK_1:83,FUNCT_1:def 13;
        then consider r0 being real number such that
A37:    r0>0 & Ball(s8m,r0) c= h"B by A34,A36,TOPMETR:22;
        reconsider r0 as Real by XREAL_0:def 1;
        reconsider r01=min(s8-s2,r0) as Real;
        s8-s2>0 by A30,XREAL_1:52;
        then
A38:    r01>0 by A37,SQUARE_1:113;
        then Ball(s8n,r01)= (].s8-r01,s8+r01 .[) by FRECHET:7;
        then
A39:    Ball(s8m,r01)= (].s8-r01,s8+r01 .[) /\ [.0,1.] by A35,TOPMETR:13;
        s8-s2>=r01 by XXREAL_0:17;
        then -(s8-s2)<= -r01 by XREAL_1:26;
        then
A40:    s2-s8+s8<= -r01+s8 by XREAL_1:9;
A41:    Ball(s8m,r01) c= Ball(s8m,r0) by PCOMPS_1:1,XXREAL_0:17;
A42:    (].s8-r01,s8+r01 .[)/\ [.0,1.] c= h"B by A37,A39,A41,XBOOLE_1:1;
A43:    r01-r01/2+r01/2>0+r01/2 by A38,XREAL_1:8;
        then
A44:    s8-r01/2>s8-r01 by REAL_2:105;
A45:    r01/2>0 by A38,REAL_2:127;
        --(r01/2)> 0 by A38,REAL_2:127;
        then
A46:    -(r01/2) < 0 by XREAL_1:60;
A47:    s8+r01/2<s8+r01 by A43,XREAL_1:10;
        s8+-(r01/2)<s8+r01/2 by A45,A46,XREAL_1:10;
        then
A48:    s8-r01<s8-r01/2 & s8-r01/2<s8+r01 by A43,A47,REAL_2:105,XXREAL_0:2;
        then
A49:    s8-r01/2 in ].s8-r01,s8+r01 .[ by RCOMP_1:47;
        1-0>s8-r01/2 by A26,A45,REAL_1:92;
        then s8-r01/2 in [.0,1.] by A9,A40,A44,RCOMP_1:48;
        then s8-r01/2 in (].s8-r01,s8+r01 .[)/\ [.0,1.] by A49,XBOOLE_0:def 3;
        then
A50:    s8-r01/2 in dom h & h.(s8-r01/2) in B by A42,FUNCT_1:def 13;
        reconsider s70=s8-r01/2 as Real;
        s8+0>s8+-r01/2 by A46,XREAL_1:10;
        then
A51:    s8>s70 & 1>=s70 & s70>=s2 by A26,A40,A48,XXREAL_0:2;
        for p7 being Point of TOP-REAL 2 st p7=f.s70 holds p7`1<>e
        proof
          let p7 be Point of TOP-REAL 2;
          assume
A52:      p7=f.s70;
          s70 in [.0,1.] by A9,A51,RCOMP_1:48;
          then
A53:      p7 in rng f by A6,A52,BORSUK_1:83,FUNCT_1:def 5;
A54:      rng f=[#]((TOP-REAL 2)|P) by A4,TOPS_2:def 5
            .=P by PRE_TOPC:def 10;
          h.s70=pro1.(f.s70) by A50,FUNCT_1:22
            .=pr1.(p7) by A52,A53,A54,FUNCT_1:72
            .=p7`1 by PSCOMP_1:def 28;
          then
A55:      p8`1-ee<p7`1 & p7`1<p8`1+ee by A33,A50,RCOMP_1:47;
          now
            assume
A56:        p7`1=e;
            now per cases;
              case
A57:            p8`1-e>=0;
                then p8`1-(p8`1-e)/2<e & e< p8`1+(p8`1-e)/2
                by A55,A56,ABSVALUE:def 1;
                then p8`1/2+e/2<e/2+e/2;
                then p8`1/2<e/2 by XREAL_1:9;
                then
A58:            p8`1/2-e/2<e/2-e/2 by REAL_1:92;
                (p8`1-e)/2>=0/2 by A57,REAL_1:73;
                hence contradiction by A58;
              end;
              case
A59:            p8`1-e<0;
                then p8`1-(-(p8`1-e))/2<e & e< p8`1+(-(p8`1-e))/2
                by A55,A56,ABSVALUE:def 1;
                then p8`1/2+e/2>e/2+e/2;
                then p8`1/2>e/2 by XREAL_1:9;
                then
A60:            p8`1/2-e/2>e/2-e/2 by REAL_1:92;
                (p8`1-e)/2<=0/2 by A59,REAL_1:73;
                hence contradiction by A60;
              end;
            end;
            hence contradiction;
          end;
          hence p7`1<>e;
        end;
        then consider s7 being Real such that
A61:    s8>s7 & 1>=s7 & s7>=s2 &
        (for p7 being Point of TOP-REAL 2 st p7=f.s7 holds p7`1<>e) by A51;
        s7 in R by A61;
        then s7 >=s0 by A20,SEQ_4:def 5;
        hence contradiction by A27,A61,XXREAL_0:2;
      end;
      hence p8`1=e;
    end;
    then consider p4 being Point of TOP-REAL 2 such that
A62: LE p9,p4,P,p1,p2 & p4<>p9 & ((for p5 being Point of TOP-REAL 2 st
    LE p5,p4,P,p1,p2 & LE p9,p5,P,p1,p2 holds p5`1<=e)or
    (for p6 being Point of TOP-REAL 2 st LE p6,p4,P,p1,p2 & LE p9,p6,P,p1,p2
    holds p6`1>=e)) by A1,A2,A21,Def6;
A63: p9 in P by A62,JORDAN5C:def 3;
    now per cases by A62;
      case
A64:    (for p5 being Point of TOP-REAL 2 st
        LE p5,p4,P,p1,p2 & LE p9,p5,P,p1,p2 holds p5`1<=e);
A65:    now
          assume ex p51 being Point of TOP-REAL 2 st
          LE p51,p4,P,p1,p2 & LE p9,p51,P,p1,p2 & p51`1<e;
          then consider p51 being Point of TOP-REAL 2 such that
A66:      LE p51,p4,P,p1,p2 & LE p9,p51,P,p1,p2 & p51`1<e;
A67:      LE p,p51,P,p1,p2 by A21,A66,JORDAN5C:13;
          (for p5 being Point of TOP-REAL 2 st
          LE p5,p51,P,p1,p2 & LE p,p5,P,p1,p2 holds p5`1<=e)
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A68:        LE p5,p51,P,p1,p2 & LE p,p5,P,p1,p2;
            then
A69:        LE p5,p4,P,p1,p2 by A66,JORDAN5C:13;
A70:        p5 in P by A68,JORDAN5C:def 3;
            then
A71:        p5=p9 implies LE p9,p5,P,p1,p2 by JORDAN5C:9;
            now per cases by A1,A63,A70,A71,JORDAN5C:14;
              case LE p5,p9,P,p1,p2;
                hence p5`1<=e by A22,A68;
              end;
              case LE p9,p5,P,p1,p2;
                hence p5`1<=e by A64,A69;
              end;
            end;
            hence p5`1<=e;
          end;
          hence p is_Lout P,p1,p2,e by A1,A66,A67,Def3;
        end;
        now
          assume
A72:      not ex p51 being Point of TOP-REAL 2 st
          LE p51,p4,P,p1,p2 & LE p9,p51,P,p1,p2 & p51`1<e;
A73:      for p51 being Point of TOP-REAL 2 st
          LE p51,p4,P,p1,p2 & LE p9,p51,P,p1,p2 holds p51`1=e
          proof
            let p51 be Point of TOP-REAL 2;
            assume
A74:        LE p51,p4,P,p1,p2 & LE p9,p51,P,p1,p2;
            then
A75:        p51`1>=e by A72;
            p51`1<=e by A64,A74;
            hence p51`1=e by A75,XXREAL_0:1;
          end;
          p4 in P by A62,JORDAN5C:def 3;
          then p4 in rng f by A6,PRE_TOPC:def 10;
          then consider xs4 being set such that
A76:      xs4 in dom f & p4=f.xs4 by FUNCT_1:def 5;
          reconsider s4=xs4 as Real by A6,A76,BORSUK_1:83;
A77:      0<=s4 & s4<=1 by A76,BORSUK_1:83,RCOMP_1:48;
          then
A78:      s4>=s0 by A4,A16,A62,A76,JORDAN5C:def 3;
          now
            assume s4>s0;
            then --(s4-s0)>0 by XREAL_1:52;
            then -(s4-s0)<0 by XREAL_1:60;
            then
A79:        (s0-s4)/2<0 by REAL_2:128;
            then
A80:        -((s0-s4)/2)>0 by XREAL_1:60;
A81:        s4+0>s4+(s0-s4)/2 by A79,XREAL_1:10;
            consider r being real number such that
A82:        r in R & r<s0+(-((s0-s4)/2)) by A20,A80,SEQ_4:def 5;
A83:        r>=s0 by A20,A82,SEQ_4:def 5;
A84:        s4>r by A81,A82,XXREAL_0:2;
            then
A85:        1>r by A77,XXREAL_0:2;
            consider s7 being Real such that
A86:        s7=r & 1>=s7 & s7>=s2 &
            (for q being Point of TOP-REAL 2 st q=f.s7 holds q`1<>e) by A82;
A87:        r in [.0,1.] by A9,A86,RCOMP_1:48;
            reconsider rss=r as Real by XREAL_0:def 1;
            f.rss in rng f by A6,A87,BORSUK_1:83,FUNCT_1:def 5;
            then f.rss in P by A6,PRE_TOPC:def 10;
            then reconsider pss=f.rss as Point of TOP-REAL 2;
            LE pss,p4,P,p1,p2 & LE p9,pss,P,p1,p2
            by A1,A4,A9,A16,A19,A76,A77,A83,A84,A85,JORDAN5C:8;
            then pss`1=e by A73;
            hence contradiction by A86;
          end;
          hence contradiction by A62,A76,A78,XXREAL_0:1;
        end;
        hence p is_Lout P,p1,p2,e or p is_Rout P,p1,p2,e by A65;
      end;
      case
A88:    (for p6 being Point of TOP-REAL 2 st
        LE p6,p4,P,p1,p2 & LE p9,p6,P,p1,p2 holds p6`1>=e);
A89:    now
          assume ex p51 being Point of TOP-REAL 2 st
          LE p51,p4,P,p1,p2 & LE p9,p51,P,p1,p2 & p51`1>e;
          then consider p51 being Point of TOP-REAL 2 such that
A90:      LE p51,p4,P,p1,p2 & LE p9,p51,P,p1,p2 & p51`1>e;
A91:      LE p,p51,P,p1,p2 by A21,A90,JORDAN5C:13;
          (for p5 being Point of TOP-REAL 2 st
          LE p5,p51,P,p1,p2 & LE p,p5,P,p1,p2 holds p5`1>=e)
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A92:        LE p5,p51,P,p1,p2 & LE p,p5,P,p1,p2;
            then
A93:        LE p5,p4,P,p1,p2 by A90,JORDAN5C:13;
A94:        p5 in P by A92,JORDAN5C:def 3;
            then
A95:        p5=p9 implies LE p9,p5,P,p1,p2 by JORDAN5C:9;
            now per cases by A1,A63,A94,A95,JORDAN5C:14;
              case LE p9,p5,P,p1,p2;
                hence p5`1>=e by A88,A93;
              end;
              case LE p5,p9,P,p1,p2;
                hence p5`1>=e by A22,A92;
              end;
            end;
            hence p5`1>=e;
          end;
          hence p is_Rout P,p1,p2,e by A1,A90,A91,Def4;
        end;
        now
          assume
A96:      not ex p51 being Point of TOP-REAL 2 st
          LE p51,p4,P,p1,p2 & LE p9,p51,P,p1,p2 & p51`1>e;
A97:      for p51 being Point of TOP-REAL 2 st
          LE p51,p4,P,p1,p2 & LE p9,p51,P,p1,p2 holds p51`1=e
          proof
            let p51 be Point of TOP-REAL 2;
            assume
A98:        LE p51,p4,P,p1,p2 & LE p9,p51,P,p1,p2;
            then
A99:        p51`1<=e by A96;
            p51`1>=e by A88,A98;
            hence p51`1=e by A99,XXREAL_0:1;
          end;
          p4 in P by A62,JORDAN5C:def 3;
          then p4 in rng f by A6,PRE_TOPC:def 10;
          then consider xs4 being set such that
A100:     xs4 in dom f & p4=f.xs4 by FUNCT_1:def 5;
          reconsider s4=xs4 as Real by A6,A100,BORSUK_1:83;
A101:     0<=s4 & s4<=1 by A100,BORSUK_1:83,RCOMP_1:48;
          then
A102:     s4>=s0 by A4,A16,A62,A100,JORDAN5C:def 3;
          now
            assume s4>s0;
            then --(s4-s0)>0 by XREAL_1:52;
            then -(s4-s0)<0 by XREAL_1:60;
            then
A103:       (s0-s4)/2<0 by REAL_2:128;
            then
A104:       -((s0-s4)/2)>0 by XREAL_1:60;
A105:       s4+0>s4+(s0-s4)/2 by A103,XREAL_1:10;
            consider r being real number such that
A106:       r in R & r<s0+(-((s0-s4)/2)) by A20,A104,SEQ_4:def 5;
A107:       r>=s0 by A20,A106,SEQ_4:def 5;
A108:       s4>r by A105,A106,XXREAL_0:2;
            then
A109:       1>r by A101,XXREAL_0:2;
            consider s7 being Real such that
A110:       s7=r & 1>=s7 & s7>=s2 &
            (for q being Point of TOP-REAL 2 st q=f.s7 holds q`1<>e) by A106;
A111:       r in [.0,1.] by A9,A110,RCOMP_1:48;
            reconsider rss=r as Real by XREAL_0:def 1;
            f.rss in rng f by A6,A111,BORSUK_1:83,FUNCT_1:def 5;
            then f.rss in P by A6,PRE_TOPC:def 10;
            then reconsider pss=f.rss as Point of TOP-REAL 2;
            LE pss,p4,P,p1,p2 & LE p9,pss,P,p1,p2
            by A1,A4,A9,A16,A19,A100,A101,A107,A108,A109,JORDAN5C:8;
            then pss`1=e by A97;
            hence contradiction by A110;
          end;
          hence contradiction by A62,A100,A102,XXREAL_0:1;
        end;
        hence p is_Lout P,p1,p2,e or p is_Rout P,p1,p2,e by A89;
      end;
    end;
    hence p is_Lout P,p1,p2,e or p is_Rout P,p1,p2,e;
  end;
  hence thesis;
end;

theorem Th11:
  for P being Subset of I[01],s being Real st P=[.0,s.[ holds P is open
proof
  let P be Subset of I[01],s be Real;
  assume
A1: P=[.0,s.[;
A2: [#]I[01]=[.0,1.] by TOPMETR:25,27;
  per cases;
  suppose
A3: s in [.0,1.];
    then
A4: 0<=s & s<=1 by RCOMP_1:48;
    reconsider Q=].-1,s.[ as Subset of R^1 by TOPMETR:24;
A5: Q is open by JORDAN6:46;
    reconsider T=[.0,1.] as Subset of R^1 by TOPMETR:24;
A6: [.0,s.[ c= [.0,s.] by RCOMP_2:17;
    0 in [.0,1.] by RCOMP_1:15;
    then [.0,s.] c= [.0,1.] by A3,RCOMP_1:16;
    then [.0,s.[ c= [.0,1.] by A6,XBOOLE_1:1;
    then P c= [#](R^1|T) by A1,PRE_TOPC:def 10;
    then reconsider P2=P as Subset of R^1|T;
A7: ].-1,s.[ /\ [.0,1.] c= [.0,s.[
    proof
      let x be set;
      assume
A8:   x in ].-1,s.[ /\ [.0,1.];
      then
A9:   x in ].-1,s.[ & x in [.0,1.] by XBOOLE_0:def 3;
      reconsider sx=x as Real by A8;
A10:  -1<sx & sx<s by A9,RCOMP_1:47;
      0<=sx & sx<=1 by A9,RCOMP_1:48;
      hence x in [.0,s.[ by A10,RCOMP_2:3;
    end;
    [.0,s.[ c= ].-1,s.[ /\ [.0,1.]
    proof
      let x be set;
      assume
A11:  x in [.0,s.[;
      then reconsider sx=x as Real;
A12:  0<=sx & sx<s by A11,RCOMP_2:3;
      then
A13:  sx<=1 by A4,XXREAL_0:2;
      -1 < sx by A12,XXREAL_0:2;
      then x in ].-1,s.[ & x in [.0,1.] by A12,A13,RCOMP_1:47,48;
      hence x in ].-1,s.[ /\ [.0,1.] by XBOOLE_0:def 3;
    end;
    then [.0,s.[ = ].-1,s.[ /\ [.0,1.] by A7,XBOOLE_0:def 10;
    then
A14: P2=Q /\ [#](R^1|T) by A1,PRE_TOPC:def 10;
    Closed-Interval-TSpace(0,1) =R^1|T by TOPMETR:26;
    hence P is open by A5,A14,TOPMETR:27,TOPS_2:32;
  end;
  suppose
A15: not s in [.0,1.];
    now per cases by A15,RCOMP_1:48;
      case s<0;
        then [.0,s.[ ={} by RCOMP_2:9;
        then P in the topology of I[01] by A1,PRE_TOPC:5;
        hence P is open by PRE_TOPC:def 5;
      end;
      case s>1;
        then consider t being real number such that
A16:    1<t & t<s by XREAL_1:7;
A17:    for r being Real st 0<=r & r<s holds r<=1
        proof
          let r be Real;
          assume 0<=r & r<s;
          then r in [.0,s.[ by RCOMP_2:3;
          hence r<=1 by A1,A2,RCOMP_1:48;
        end;
        reconsider t as Real by XREAL_0:def 1;
        0<t by A16;
        hence contradiction by A16,A17;
      end;
    end;
    hence P is open;
  end;
end;

theorem Th12:
  for P being Subset of I[01],s being Real st P=].s,1.] holds P is open
proof
  let P be Subset of I[01],s be Real;
  assume
A1: P=].s,1.];
A2: [#]I[01]=[.0,1.] by TOPMETR:25,27;
  per cases;
  suppose
A3: s in [.0,1.];
    then
A4: 0<=s & s<=1 by RCOMP_1:48;
    reconsider Q=].s,2.[ as Subset of R^1 by TOPMETR:24;
A5: Q is open by JORDAN6:46;
    reconsider T=[.0,1.] as Subset of R^1 by TOPMETR:24;
A6: ].s,1.] c= [.s,1.] by RCOMP_2:17;
    1 in [.0,1.] by RCOMP_1:15;
    then [.s,1.] c= [.0,1.] by A3,RCOMP_1:16;
    then ].s,1.] c= [.0,1.] by A6,XBOOLE_1:1;
    then P c= [#](R^1|T) by A1,PRE_TOPC:def 10;
    then reconsider P2=P as Subset of R^1|T;
A7: ].s,2.[ /\ [.0,1.] c= ].s,1.]
    proof
      let x be set;
      assume
A8:   x in ].s,2.[ /\ [.0,1.];
      then
A9:   x in ].s,2.[ & x in [.0,1.] by XBOOLE_0:def 3;
      reconsider sx=x as Real by A8;
A10:  s<sx & sx<=2 by A9,RCOMP_1:47;
      0<=sx & sx<=1 by A9,RCOMP_1:48;
      hence x in ].s,1.] by A10,RCOMP_2:4;
    end;
    ].s,1.] c= ].s,2.[ /\ [.0,1.]
    proof
      let x be set;
      assume
A11:  x in ].s,1.];
      then reconsider sx=x as Real;
A12:  s<sx & sx<=1 by A11,RCOMP_2:4;
      then 2 > sx by XXREAL_0:2;
      then x in ].s,2.[ & x in [.0,1.] by A4,A12,RCOMP_1:47,48;
      hence x in ].s,2.[ /\ [.0,1.] by XBOOLE_0:def 3;
    end;
    then ].s,1.] = ].s,2.[ /\ [.0,1.] by A7,XBOOLE_0:def 10;
    then
A13: P2=Q /\ [#](R^1|T) by A1,PRE_TOPC:def 10;
    Closed-Interval-TSpace(0,1) =R^1|T by TOPMETR:26;
    hence P is open by A5,A13,TOPMETR:27,TOPS_2:32;
  end;
  suppose
A14: not s in [.0,1.];
    now per cases by A14,RCOMP_1:48;
      case s>1;
        then ].s,1.] ={} by RCOMP_2:10;
        then P in the topology of I[01] by A1,PRE_TOPC:5;
        hence P is open by PRE_TOPC:def 5;
      end;
      case s<0;
        then consider t being real number such that
A15:    s<t & t<0 by XREAL_1:7;
A16:    for r being Real st s<r & r<=1 holds r>=0
        proof
          let r be Real;
          assume s<r & r<=1;
          then r in ].s,1.] by RCOMP_2:4;
          hence r>=0 by A1,A2,RCOMP_1:48;
        end;
        reconsider t as Real by XREAL_0:def 1;
        t<=1 by A15;
        hence contradiction by A15,A16;
      end;
    end;
    hence P is open;
  end;
end;

theorem Th13:
  for P being non empty Subset of TOP-REAL 2,
  P1 being Subset of (TOP-REAL 2)|P,Q being Subset of I[01],
  f being Function of I[01],(TOP-REAL 2)|P,s being Real st s<=1 &
  P1= {q0 where q0 is Point of TOP-REAL 2:
  ex ss being Real st 0<=ss & ss<s & q0=f.ss} & Q=[.0,s.[ holds f.:Q=P1
proof
  let P be non empty Subset of TOP-REAL 2,
  P1 be Subset of (TOP-REAL 2)|P, Q be Subset of I[01],
  f be Function of I[01],(TOP-REAL 2)|P,s be Real;
  assume
A1: s<=1 & P1= {q0 where q0 is Point of TOP-REAL 2:
  ex ss being Real st 0<=ss & ss<s & q0=f.ss} & Q=[.0,s.[;
A2: the carrier of (TOP-REAL 2)|P=P by PRE_TOPC:29;
A3: P1 c= f.:Q
  proof
    let x be set;
    assume x in P1;
    then consider q0 being Point of TOP-REAL 2 such that
A4: q0=x & ex ss being Real st 0<=ss & ss<s & q0=f.ss by A1;
    consider ss being Real such that
A5: 0<=ss & ss<s & q0=f.ss by A4;
A6: ss<1 by A1,A5,XXREAL_0:2;
A7: ss in Q by A1,A5,RCOMP_2:3;
    dom f= [.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
    then ss in dom f by A5,A6,RCOMP_1:48;
    hence x in f.:Q by A4,A5,A7,FUNCT_1:def 12;
  end;
  f.:Q c= P1
  proof
    let y be set;
    assume y in f.:Q;
    then consider z being set such that
A8: z in dom f & z in Q & f.z=y by FUNCT_1:def 12;
    dom f= [.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
    then reconsider ss=z as Real by A8;
A9: 0<=ss & ss<s by A1,A8,RCOMP_2:3;
    y in rng f by A8,FUNCT_1:def 5;
    then y in P by A2;
    then reconsider q=y as Point of TOP-REAL 2;
    ex ss being Real st 0<=ss & ss<s & q=f.ss by A8,A9;
    hence y in P1 by A1;
  end;
  hence f.:Q=P1 by A3,XBOOLE_0:def 10;
end;

theorem Th14:
  for P being non empty Subset of TOP-REAL 2,
  P1 being Subset of (TOP-REAL 2)|P,Q being Subset of I[01],
  f being Function of I[01],(TOP-REAL 2)|P,s being Real st s>=0 &
  P1= {q0 where q0 is Point of TOP-REAL 2:
  ex ss being Real st s<ss & ss<=1 & q0=f.ss} & Q=].s,1.] holds f.:Q=P1
proof
  let P be non empty Subset of TOP-REAL 2,
  P1 be Subset of (TOP-REAL 2)|P, Q be Subset of I[01],
  f be Function of I[01],(TOP-REAL 2)|P,s be Real;
  assume
A1: s>=0 & P1= {q0 where q0 is Point of TOP-REAL 2:
  ex ss being Real st s<ss & ss<=1 & q0=f.ss} & Q=].s,1.];
A2: the carrier of (TOP-REAL 2)|P=P by PRE_TOPC:29;
A3: P1 c= f.:Q
  proof
    let x be set;
    assume x in P1;
    then consider q0 being Point of TOP-REAL 2 such that
A4: q0=x & ex ss being Real st s<ss & ss<=1 & q0=f.ss by A1;
    consider ss being Real such that
A5: s<ss & ss<=1 & q0=f.ss by A4;
A6: ss in Q by A1,A5,RCOMP_2:4;
    dom f= [.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
    then ss in dom f by A1,A5,RCOMP_1:48;
    hence x in f.:Q by A4,A5,A6,FUNCT_1:def 12;
  end;
  f.:Q c= P1
  proof
    let y be set;
    assume y in f.:Q;
    then consider z being set such that
A7: z in dom f & z in Q & f.z=y by FUNCT_1:def 12;
    dom f= [.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
    then reconsider ss=z as Real by A7;
A8: s<ss & ss<=1 by A1,A7,RCOMP_2:4;
    y in rng f by A7,FUNCT_1:def 5;
    then y in P by A2;
    then reconsider q=y as Point of TOP-REAL 2;
    ex ss being Real st s<ss & ss<=1 & q=f.ss by A7,A8;
    hence y in P1 by A1;
  end;
  hence f.:Q=P1 by A3,XBOOLE_0:def 10;
end;

Lm1: [#]I[01]<> {};

theorem Th15:
  for P being non empty Subset of TOP-REAL 2,
  P1 being Subset of (TOP-REAL 2)|P,
  f being Function of I[01],(TOP-REAL 2)|P,s being Real st s<=1 &
  f is_homeomorphism & P1= {q0 where q0 is Point of TOP-REAL 2:
  ex ss being Real st 0<=ss & ss<s & q0=f.ss} holds P1 is open
proof
  let P be non empty Subset of TOP-REAL 2, P1 be Subset of (TOP-REAL 2)|P,
  f be Function of I[01],(TOP-REAL 2)|P,s be Real;
  assume
A1: s<=1 & f is_homeomorphism & P1= {q0 where q0 is Point of TOP-REAL 2:
  ex ss being Real st 0<=ss & ss<s & q0=f.ss};
  [.0,s.[ c= [.0,1.]
  proof
    let x be set;
    assume
A2: x in [.0,s.[;
    then reconsider sx=x as Real;
    0<=sx & sx<s by A2,RCOMP_2:3;
    then 0<=sx & sx<1 by A1,XXREAL_0:2;
    hence x in [.0,1.] by RCOMP_1:48;
  end;
  then reconsider Q=[.0,s.[ as Subset of I[01] by TOPMETR:25,27;
A3: Q is open by Th11;
A4: P1=f.:Q by A1,Th13;
  f is one-to-one & rng f=[#]((TOP-REAL 2)|P) by A1,TOPS_2:def 5;
  then
A5: (f")"=f by TOPS_2:64;
A6: f" is_homeomorphism by A1,TOPS_2:70;
  then
A7: rng (f") =[#](I[01]) by TOPS_2:def 5;
A8: f" is one-to-one by A6,TOPS_2:def 5;
  then (f")"=(f" qua Function)" by A7,TOPS_2:def 4;
  then
A9: ((f")").:Q=(f")"Q by A8,FUNCT_1:155;
  f" is continuous by A1,TOPS_2:def 5;
  hence P1 is open by A3,A4,A5,A9,Lm1,TOPS_2:55;
end;

theorem Th16:
  for P being non empty Subset of TOP-REAL 2,
  P1 being Subset of (TOP-REAL 2)|P,
  f being Function of I[01],(TOP-REAL 2)|P,s being Real st s>=0 &
  f is_homeomorphism & P1= {q0 where q0 is Point of TOP-REAL 2:
  ex ss being Real st s<ss & ss<=1 & q0=f.ss} holds P1 is open
proof
  let P be non empty Subset of TOP-REAL 2, P1 be Subset of (TOP-REAL 2)|P,
  f be Function of I[01],(TOP-REAL 2)|P,s be Real;
A1: [#]I[01] <> {};
  assume
A2: s>=0 & f is_homeomorphism & P1= {q0 where q0 is Point of TOP-REAL 2:
  ex ss being Real st s<ss & ss<=1 & q0=f.ss};
  ].s,1.] c= [.0,1.]
  proof
    let x be set;
    assume
A3: x in ].s,1.];
    then reconsider sx=x as Real;
    0<sx & sx<=1 by A2,A3,RCOMP_2:4;
    hence x in [.0,1.] by RCOMP_1:48;
  end;
  then reconsider Q=].s,1.] as Subset of I[01] by TOPMETR:25,27;
A4: Q is open by Th12;
A5: P1=f.:Q by A2,Th14;
  f is one-to-one & rng f=[#]((TOP-REAL 2)|P) by A2,TOPS_2:def 5;
  then
A6: (f")"=f by TOPS_2:64;
A7: f" is_homeomorphism by A2,TOPS_2:70;
  then
A8: rng (f") =[#](I[01]) by TOPS_2:def 5;
A9: f" is one-to-one by A7,TOPS_2:def 5;
  then (f")"=(f" qua Function)" by A8,TOPS_2:def 4;
  then
A10: ((f")").:Q=(f")"Q by A9,FUNCT_1:155;
  f" is continuous by A2,TOPS_2:def 5;
  hence P1 is open by A1,A4,A5,A6,A10,TOPS_2:55;
end;

theorem Th17:
  for T being non empty TopStruct, Q1,Q2 being Subset of T,
  p1,p2 being Point of T st Q1 /\ Q2={} & Q1 \/ Q2=the carrier of T &
  p1 in Q1 & p2 in Q2 & Q1 is open & Q2 is open holds
  not ex P being Function of I[01],T st P is continuous & P.0=p1 & P.1=p2
proof
  let T be non empty TopStruct, Q1,Q2 be Subset of T, p1,p2 be Point of T;
A1: [#]T <> {};
  assume
A2: Q1 /\ Q2={} & Q1 \/ Q2=the carrier of T &
  p1 in Q1 & p2 in Q2 & Q1 is open & Q2 is open;
  assume ex P being Function of I[01],T st P is continuous & P.0=p1 & P.1=p2;
  then consider P being Function of I[01],T such that
A3: P is continuous & P.0=p1 & P.1=p2;
A4: P"Q1 is open by A1,A2,A3,TOPS_2:55;
A5: P"Q2 is open by A1,A2,A3,TOPS_2:55;
A6: [#]I[01]=the carrier of I[01];
A7: [#]I[01]=[.0,1.] by TOPMETR:25,27;
  then 0 in the carrier of I[01] by RCOMP_1:48;
  then 0 in dom P by FUNCT_2:def 1;
  then
A8: P"Q1 <> {}I[01] by A2,A3,FUNCT_1:def 13;
  1 in the carrier of I[01] by A7,RCOMP_1:48;
  then 1 in dom P by FUNCT_2:def 1;
  then
A9: P"Q2 <> {}I[01] by A2,A3,FUNCT_1:def 13;
A10: P"Q1 \/ P"Q2 =P"(Q1 \/ Q2) by RELAT_1:175
    .= the carrier of I[01] by A2,FUNCT_2:48;
  P"Q1 /\ P"Q2 =P"(Q1 /\ Q2) by FUNCT_1:137
    .={} by A2,RELAT_1:171;
  then not P"Q1 meets P"Q2 by XBOOLE_0:def 7;
  hence contradiction by A4,A5,A6,A8,A9,A10,CONNSP_1:12,TREAL_1:22;
end;

theorem Th18:
  for P being non empty Subset of TOP-REAL 2,
  Q being Subset of (TOP-REAL 2)|P, p1,p2,q being Point of TOP-REAL 2
  st P is_an_arc_of p1,p2 & q in P & q<>p1 & q<>p2 & Q=P\{q}
  holds not Q is connected &
  not ex R being Function of I[01],((TOP-REAL 2)|P)|Q
  st R is continuous & R.0=p1 & R.1=p2
proof
  let P be non empty Subset of TOP-REAL 2, Q be Subset of (TOP-REAL 2)|P,
  p1,p2,q be Point of TOP-REAL 2;
  assume
A1: P is_an_arc_of p1,p2 & q in P & q<>p1 & q<>p2 & Q=P\{q};
  then consider f being Function of I[01], (TOP-REAL 2)|P such that
A2: f is_homeomorphism & f.0 = p1 & f.1 = p2 by TOPREAL1:def 2;
A3: dom f=[#]I[01] & rng f=[#]((TOP-REAL 2)|P) by A2,TOPS_2:def 5;
A4: [#]((TOP-REAL 2)|P)=P by PRE_TOPC:def 10;
  then consider xs being set such that
A5: xs in dom f & f.xs=q by A1,A3,FUNCT_1:def 5;
A6: [#]I[01]=[.0,1.] by TOPMETR:25,27;
  then reconsider s=xs as Real by A3,A5;
A7: 0<=s & s<=1 by A5,A6,RCOMP_1:48;
  {q0 where q0 is Point of TOP-REAL 2:
  ex ss being Real st 0<=ss & ss<s & q0=f.ss} c= the carrier of (TOP-REAL 2)|P
  proof
    let z be set;
    assume z in {q0 where q0 is Point of TOP-REAL 2: ex ss being Real
    st 0<=ss & ss<s & q0=f.ss};
    then consider q0 being Point of TOP-REAL 2 such that
A8: q0=z & ex ss being Real st 0<=ss & ss<s & q0=f.ss;
    consider ss being Real such that
A9: 0<=ss & ss<s & q0=f.ss by A8;
    s<=1 by A5,A6,RCOMP_1:48;
    then ss<1 by A9,XXREAL_0:2;
    then ss in dom f by A3,A6,A9,RCOMP_1:48;
    then q0 in rng f by A9,FUNCT_1:def 5;
    hence z in the carrier of (TOP-REAL 2)|P by A8;
  end;
  then reconsider P1'= {q0 where q0 is Point of TOP-REAL 2:
  ex ss being Real st 0<=ss & ss<s & q0=f.ss} as Subset of (TOP-REAL 2)|P;
  {q0 where q0 is Point of TOP-REAL 2:
  ex ss being Real st s<ss & ss<=1 & q0=f.ss} c= the carrier of (TOP-REAL 2)|P
  proof
    let z be set;
    assume z in {q0 where q0 is Point of TOP-REAL 2: ex ss being Real
    st s<ss & ss<=1 & q0=f.ss};
    then consider q0 being Point of TOP-REAL 2 such that
A10: q0=z & ex ss being Real st s<ss & ss<=1 & q0=f.ss;
    consider ss being Real such that
A11: s<ss & ss<=1 & q0=f.ss by A10;
    ss>0 by A5,A6,A11,RCOMP_1:48;
    then ss in dom f by A3,A6,A11,RCOMP_1:48;
    then q0 in rng f by A11,FUNCT_1:def 5;
    hence z in the carrier of (TOP-REAL 2)|P by A10;
  end;
  then reconsider P2'= {q0 where q0 is Point of TOP-REAL 2:
  ex ss being Real st s<ss & ss<=1 & q0=f.ss} as Subset of (TOP-REAL 2)|P;
A12: P1' is open by A2,A7,Th15;
A13: P2' is open by A2,A7,Th16;
A14: Q c= P1' \/ P2'
  proof
    let x be set;
    assume
A15: x in Q;
    then
A16: x in P & not x in {q} by A1,XBOOLE_0:def 4;
    consider xt being set such that
A17: xt in dom f & f.xt=x by A3,A15,FUNCT_1:def 5;
    reconsider t=xt as Real by A3,A6,A17;
A18: 0<=t & t<=1 by A6,A17,RCOMP_1:48;
    reconsider qq=x as Point of TOP-REAL 2 by A1,A15;
A19: not x=q by A16,TARSKI:def 1;
    now per cases;
      case t<s;
        then qq=x & ex ss being Real st 0<=ss & ss<s & qq=f.ss by A17,A18;
        then x in P1';
        hence x in P1' \/ P2' by XBOOLE_0:def 2;
      end;
      case t>=s;
        then t>s by A5,A17,A19,REAL_1:def 5;
        then qq=x & ex ss being Real st s<ss & ss<=1 & qq=f.ss by A17,A18;
        then x in P2';
        hence x in P1' \/ P2' by XBOOLE_0:def 2;
      end;
    end;
    hence x in P1' \/ P2';
  end;
  s<>0 by A1,A2,A5;
  then
A20: p1 in {q0 where q0 is Point of TOP-REAL 2:
  ex ss being Real st 0<=ss & ss<s & q0=f.ss} by A2,A7;
A21: P1' c= Q
  proof
    let x be set;
    assume x in P1';
    then consider q00 being Point of TOP-REAL 2 such that
A22: q00=x & ex ss being Real st 0<=ss & ss<s & q00=f.ss;
    consider ss being Real such that
A23: 0<=ss & ss<s & q00=f.ss by A22;
    ss<1 by A7,A23,XXREAL_0:2;
    then
A24: ss in dom f by A3,A6,A23,RCOMP_1:48;
    then
A25: q00 in P by A3,A4,A23,FUNCT_1:def 5;
    now
      assume
A26:  q00=q;
      f is one-to-one by A2,TOPS_2:def 5;
      hence contradiction by A5,A23,A24,A26,FUNCT_1:def 8;
    end;
    then not q00 in {q} by TARSKI:def 1;
    hence x in Q by A1,A22,A25,XBOOLE_0:def 4;
  end;
  then (P1' /\ Q) <>{} by A20,XBOOLE_1:28;
  then
A27: P1' meets Q by XBOOLE_0:def 7;
  1>s & p2=f.1 by A1,A2,A5,A7,REAL_1:def 5;
  then
A28: p2 in {q0 where q0 is Point of TOP-REAL 2:
  ex ss being Real st s<ss & ss<=1 & q0=f.ss};
A29: P2' c= Q
  proof
    let x be set;
    assume x in P2';
    then consider q00 being Point of TOP-REAL 2 such that
A30: q00=x & ex ss being Real st s<ss & ss<=1 & q00=f.ss;
    consider ss being Real such that
A31: s<ss & ss<=1 & q00=f.ss by A30;
    ss>0 by A5,A6,A31,RCOMP_1:48;
    then
A32: ss in dom f by A3,A6,A31,RCOMP_1:48;
    then
A33: q00 in P by A3,A4,A31,FUNCT_1:def 5;
    now
      assume
A34:  q00=q;
      f is one-to-one by A2,TOPS_2:def 5;
      hence contradiction by A5,A31,A32,A34,FUNCT_1:def 8;
    end;
    then not q00 in {q} by TARSKI:def 1;
    hence x in Q by A1,A30,A33,XBOOLE_0:def 4;
  end;
  then P2' /\ Q<>{} by A28,XBOOLE_1:28;
  then
A35: P2' meets Q by XBOOLE_0:def 7;
  reconsider Q'=Q as non empty Subset of (TOP-REAL 2)|P by A28,A29;
A36: now
    assume P1' meets P2';
    then consider p0 being set such that
A37: p0 in P1' & p0 in P2' by XBOOLE_0:3;
    consider q00 being Point of TOP-REAL 2 such that
A38: q00=p0 & ex ss being Real st 0<=ss & ss<s & q00=f.ss by A37;
    consider ss1 being Real such that
A39: 0<=ss1 & ss1<s & q00=f.ss1 by A38;
    consider q01 being Point of TOP-REAL 2 such that
A40: q01=p0 & ex ss being Real st s<ss & ss<=1 & q01=f.ss by A37;
    consider ss2 being Real such that
A41: s<ss2 & ss2<=1 & q01=f.ss2 by A40;
    ss1<1 by A7,A39,XXREAL_0:2;
    then
A42: ss1 in dom f by A3,A6,A39,RCOMP_1:48;
    ss2>0 by A5,A6,A41,RCOMP_1:48;
    then
A43: ss2 in dom f by A3,A6,A41,RCOMP_1:48;
    f is one-to-one by A2,TOPS_2:def 5;
    hence contradiction by A38,A39,A40,A41,A42,A43,FUNCT_1:def 8;
  end;
  hence not Q is connected by A12,A13,A14,A27,A35,TOPREAL5:4;
  reconsider T=((TOP-REAL 2)|P)|Q' as non empty TopSpace;
A44: the carrier of T=[#]T;
  then
A45: the carrier of T =Q by PRE_TOPC:def 10;
  reconsider P1''=P1' as Subset of T by A21,A44,PRE_TOPC:def 10;
  P1''=P1' /\ (the carrier of T) by XBOOLE_1:28;
  then
A46: P1'' is open by A12,A44,TOPS_2:32;
  reconsider P2''=P2' as Subset of T by A29,A44,PRE_TOPC:def 10;
  P2''=P2' /\ (the carrier of T) by XBOOLE_1:28;
  then
A47: P2'' is open by A13,A44,TOPS_2:32;
A48: P1'' /\ P2''={} by A36,XBOOLE_0:def 7;
  P1'' \/ P2'' = the carrier of ((TOP-REAL 2)|P)|Q by A14,A45,XBOOLE_0:def 10;
  hence thesis by A20,A28,A46,A47,A48,Th17;
end;

theorem Th19:
  for P being non empty Subset of TOP-REAL 2,
  p1,p2,q1,q2 being Point of TOP-REAL 2 st
  P is_an_arc_of p1,p2 & q1 in P & q2 in P holds
  LE q1,q2,P,p1,p2 or LE q2,q1,P,p1,p2
proof
  let P be non empty Subset of TOP-REAL 2, p1,p2,q1,q2 be Point of TOP-REAL 2;
  assume
A1: P is_an_arc_of p1,p2 & q1 in P & q2 in P;
  per cases;
  suppose q1<>q2;
    hence LE q1,q2,P,p1,p2 or LE q2,q1,P,p1,p2 by A1,JORDAN5C:14;
  end;
  suppose q1=q2;
    hence LE q1,q2,P,p1,p2 or LE q2,q1,P,p1,p2 by A1,JORDAN5C:9;
  end;
end;

canceled;

theorem Th21:    :: Another version of TOPMETR3:18
  for n being Element of NAT,p1,p2 being Point of TOP-REAL n,
  P,P1 being non empty Subset of TOP-REAL n st
  P is_an_arc_of p1,p2 & P1 is_an_arc_of p1,p2 & P1 c= P holds P1=P
proof
  let n be Element of NAT,p1,p2 be Point of TOP-REAL n,
  P,P1 be non empty Subset of TOP-REAL n;
  assume
A1: P is_an_arc_of p1,p2 & P1 is_an_arc_of p1,p2 & P1 c= P;
  then P1 is_an_arc_of p2,p1 by JORDAN5B:14;
  hence P1=P by A1,TOPMETR3:18;
end;

theorem Th22:
  for P being non empty Subset of TOP-REAL 2,
  p1,p2,q1 being Point of TOP-REAL 2 st
  P is_an_arc_of p1,p2 & q1 in P & p2<>q1 holds
  Segment(P,p1,p2,q1,p2) is_an_arc_of q1,p2
proof
  let P be non empty Subset of TOP-REAL 2, p1,p2,q1 be Point of TOP-REAL 2;
  assume
A1: P is_an_arc_of p1,p2 & q1 in P & p2<>q1;
  then LE q1,p2,P,p1,p2 by JORDAN5C:10;
  hence thesis by A1,JORDAN16:36;
end;

theorem Th23:
  for P being non empty Subset of TOP-REAL 2,
  p1,p2,q1,q2,q3 being Point of TOP-REAL 2 st
  P is_an_arc_of p1,p2 & LE q1,q2,P,p1,p2 & LE q2,q3,P,p1,p2 holds
  Segment(P,p1,p2,q1,q2) \/ Segment(P,p1,p2,q2,q3) =Segment(P,p1,p2,q1,q3)
proof
  let P be non empty Subset of TOP-REAL 2,
  p1,p2,q1,q2,q3 be Point of TOP-REAL 2;
  assume
A1: P is_an_arc_of p1,p2 & LE q1,q2,P,p1,p2 & LE q2,q3,P,p1,p2;
  then
A2: q2 in P by JORDAN5C:def 3;
A3: Segment(P,p1,p2,q1,q2) \/ Segment(P,p1,p2,q2,q3) c= Segment(P,p1,p2,q1,q3)
  proof
    let x be set;
    assume
A4: x in Segment(P,p1,p2,q1,q2) \/ Segment(P,p1,p2,q2,q3);
    per cases by A4,XBOOLE_0:def 2;
    suppose x in Segment(P,p1,p2,q1,q2);
      then x in {p where p is Point of TOP-REAL 2:
      LE q1,p,P,p1,p2 & LE p,q2,P,p1,p2} by JORDAN6:29;
      then consider p being Point of TOP-REAL 2 such that
A5:   x=p & (LE q1,p,P,p1,p2 & LE p,q2,P,p1,p2);
      LE q1,p,P,p1,p2 & LE p,q3,P,p1,p2 by A1,A5,JORDAN5C:13;
      then x in {p3 where p3 is Point of TOP-REAL 2:
      LE q1,p3,P,p1,p2 & LE p3,q3,P,p1,p2} by A5;
      hence x in Segment(P,p1,p2,q1,q3) by JORDAN6:29;
    end;
    suppose x in Segment(P,p1,p2,q2,q3);
      then x in {p where p is Point of TOP-REAL 2:
      LE q2,p,P,p1,p2 & LE p,q3,P,p1,p2} by JORDAN6:29;
      then consider p being Point of TOP-REAL 2 such that
A6:   x=p & (LE q2,p,P,p1,p2 & LE p,q3,P,p1,p2);
      LE q1,p,P,p1,p2 & LE p,q3,P,p1,p2 by A1,A6,JORDAN5C:13;
      then x in {p3 where p3 is Point of TOP-REAL 2:
      LE q1,p3,P,p1,p2 & LE p3,q3,P,p1,p2} by A6;
      hence x in Segment(P,p1,p2,q1,q3) by JORDAN6:29;
    end;
  end;
  Segment(P,p1,p2,q1,q3) c= Segment(P,p1,p2,q1,q2) \/ Segment(P,p1,p2,q2,q3)
  proof
    let x be set;
    assume x in Segment(P,p1,p2,q1,q3);
    then x in {p3 where p3 is Point of TOP-REAL 2:
    LE q1,p3,P,p1,p2 & LE p3,q3,P,p1,p2} by JORDAN6:29;
    then consider p3 being Point of TOP-REAL 2 such that
A7: x=p3 &(LE q1,p3,P,p1,p2 & LE p3,q3,P,p1,p2);
A8: p3 in P by A7,JORDAN5C:def 3;
    now per cases;
      suppose p3=q2;
        then LE q1,p3,P,p1,p2 & LE p3,q2,P,p1,p2 by A1,A2,JORDAN5C:9;
        then x in {p31 where p31 is Point of TOP-REAL 2:
        LE q1,p31,P,p1,p2 & LE p31,q2,P,p1,p2} by A7;
        hence x in Segment(P,p1,p2,q1,q2) or x in Segment(P,p1,p2,q2,q3)
        by JORDAN6:29;
      end;
      suppose
A9:     p3<>q2;
        now per cases by A1,A2,A8,A9,JORDAN5C:14;
          case LE p3,q2,P,p1,p2 & not LE q2,p3,P,p1,p2;
            then x in {p31 where p31 is Point of TOP-REAL 2:
            LE q1,p31,P,p1,p2 & LE p31,q2,P,p1,p2} by A7;
            hence x in Segment(P,p1,p2,q1,q2) or x in Segment(P,p1,p2,q2,q3)
            by JORDAN6:29;
          end;
          case LE q2,p3,P,p1,p2 & not LE p3,q2,P,p1,p2;
            then x in {p31 where p31 is Point of TOP-REAL 2:
            LE q2,p31,P,p1,p2 & LE p31,q3,P,p1,p2} by A7;
            hence x in Segment(P,p1,p2,q1,q2) or x in Segment(P,p1,p2,q2,q3)
            by JORDAN6:29;
          end;
        end;
        hence x in Segment(P,p1,p2,q1,q2) or x in Segment(P,p1,p2,q2,q3);
      end;
    end;
    hence x in Segment(P,p1,p2,q1,q2) \/ Segment(P,p1,p2,q2,q3)
    by XBOOLE_0:def 2;
  end;
  hence thesis by A3,XBOOLE_0:def 10;
end;

theorem
  for P being non empty Subset of TOP-REAL 2,
  p1,p2,q1,q2,q3 being Point of TOP-REAL 2 st
  P is_an_arc_of p1,p2 & LE q1,q2,P,p1,p2 & LE q2,q3,P,p1,p2 holds
  Segment(P,p1,p2,q1,q2) /\ Segment(P,p1,p2,q2,q3) = {q2}
proof
  let P be non empty Subset of TOP-REAL 2,
  p1,p2,q1,q2,q3 be Point of TOP-REAL 2;
  assume
A1: P is_an_arc_of p1,p2 & LE q1,q2,P,p1,p2 & LE q2,q3,P,p1,p2;
  then
A2: q2 in P by JORDAN5C:def 3;
A3: Segment(P,p1,p2,q1,q2) /\ Segment(P,p1,p2,q2,q3) c= {q2}
  proof
    let x be set;
    assume x in Segment(P,p1,p2,q1,q2) /\ Segment(P,p1,p2,q2,q3);
    then
A4: x in Segment(P,p1,p2,q1,q2) & x in Segment(P,p1,p2,q2,q3)
    by XBOOLE_0:def 3;
    then x in {p where p is Point of TOP-REAL 2:
    LE q1,p,P,p1,p2 & LE p,q2,P,p1,p2} by JORDAN6:29;
    then consider p being Point of TOP-REAL 2 such that
A5: x=p & (LE q1,p,P,p1,p2 & LE p,q2,P,p1,p2);
    x in {p4 where p4 is Point of TOP-REAL 2:
    LE q2,p4,P,p1,p2 & LE p4,q3,P,p1,p2} by A4,JORDAN6:29;
    then consider p4 being Point of TOP-REAL 2 such that
A6: x=p4 & (LE q2,p4,P,p1,p2 & LE p4,q3,P,p1,p2);
    x=q2 by A1,A5,A6,JORDAN5C:12;
    hence x in {q2} by TARSKI:def 1;
  end;
  {q2} c= Segment(P,p1,p2,q1,q2) /\ Segment(P,p1,p2,q2,q3)
  proof
    let x be set;
    assume x in {q2};
    then
A7: x=q2 by TARSKI:def 1;
    set p3=q2;
    LE q1,p3,P,p1,p2 & LE p3,q2,P,p1,p2 by A1,A2,JORDAN5C:9;
    then x in {p31 where p31 is Point of TOP-REAL 2:
    LE q1,p31,P,p1,p2 & LE p31,q2,P,p1,p2} by A7;
    then
A8: x in Segment(P,p1,p2,q1,q2) by JORDAN6:29;
    LE q2,p3,P,p1,p2 & LE p3,q3,P,p1,p2 by A1,A2,JORDAN5C:9;
    then x in {p31 where p31 is Point of TOP-REAL 2:
    LE q2,p31,P,p1,p2 & LE p31,q3,P,p1,p2} by A7;
    then x in Segment(P,p1,p2,q2,q3) by JORDAN6:29;
    hence x in Segment(P,p1,p2,q1,q2) /\ Segment(P,p1,p2,q2,q3)
    by A8,XBOOLE_0:def 3;
  end;
  hence thesis by A3,XBOOLE_0:def 10;
end;

theorem Th25:
  for P being non empty Subset of TOP-REAL 2,
  p1,p2 being Point of TOP-REAL 2 st
  P is_an_arc_of p1,p2 holds Segment(P,p1,p2,p1,p2)=P
proof
  let P be non empty Subset of TOP-REAL 2, p1,p2 be Point of TOP-REAL 2;
  assume
A1: P is_an_arc_of p1,p2;
  then
A2: R_Segment(P,p1,p2,p1)=P by JORDAN6:27;
A3: L_Segment(P,p1,p2,p2)=P by A1,JORDAN6:25;
  R_Segment(P,p1,p2,p1) /\ L_Segment(P,p1,p2,p2)=Segment(P,p1,p2,p1,p2)
  by JORDAN6:def 5;
  hence Segment(P,p1,p2,p1,p2)=P by A2,A3;
end;

canceled 2;

theorem Th28:
  for P,Q1 being non empty Subset of TOP-REAL 2,
  p1,p2,q1,q2 being Point of TOP-REAL 2 st
  P is_an_arc_of p1,p2 & Q1 is_an_arc_of q1,q2 &
  LE q1,q2,P,p1,p2 & Q1 c= P holds Q1= Segment(P,p1,p2,q1,q2)
proof
  let P,Q1 be non empty Subset of TOP-REAL 2,
  p1,p2,q1,q2 be Point of TOP-REAL 2;
  assume
A1: P is_an_arc_of p1,p2 & Q1 is_an_arc_of q1,q2 & LE q1,q2,P,p1,p2 & Q1 c= P;
  then
A2: q1 in P by JORDAN5C:def 3;
A3: q2 in P by A1,JORDAN5C:def 3;
A4: p1 in P & p2 in P by A1,TOPREAL1:4;
A5: q1<>q2 by A1,JORDAN6:49;
  then
A6: Segment(P,p1,p2,q1,q2) is_an_arc_of q1,q2 by A1,JORDAN16:36;
A7: now
    assume
A8: q1=p2;
    LE q2,p2,P,p1,p2 by A1,A3,JORDAN5C:10;
    hence contradiction by A1,A8,JORDAN5C:12,JORDAN6:49;
  end;
A9: now
    assume
A10: q2=p1;
    LE p1,q1,P,p1,p2 by A1,A2,JORDAN5C:10;
    hence contradiction by A1,A10,JORDAN5C:12,JORDAN6:49;
  end;
  reconsider Q0=Segment(P,p1,p2,q1,q2) as non empty Subset of TOP-REAL 2
  by A1,JORDAN16:22;
  now
    assume not Q1 c= Q0;
    then consider x8 being set such that
A11: x8 in Q1 & not x8 in Q0 by TARSKI:def 3;
    Q0 is_an_arc_of q1,q2 by A1,A5,JORDAN16:36;
    then
A12: q1 in Q0 & q2 in Q0 by TOPREAL1:4;
    reconsider q=x8 as Point of TOP-REAL 2 by A11;
A13: q<>q1 by A1,A11,JORDAN16:9;
A14: [#]I[01]=the carrier of I[01];
A15: [#]((TOP-REAL 2)|P)=P by PRE_TOPC:def 10;
A16: LE p1,q1,P,p1,p2 by A1,A2,JORDAN5C:10;
    then
A17: Segment(P,p1,p2,p1,q1)\/ Segment(P,p1,p2,q1,q2)
    =Segment(P,p1,p2,p1,q2) by A1,Th23;
A18: LE p1,q2,P,p1,p2 by A1,A16,JORDAN5C:13;
    LE q2,p2,P,p1,p2 by A1,A3,JORDAN5C:10;
    then Segment(P,p1,p2,p1,q2)\/Segment(P,p1,p2,q2,p2)=Segment(P,p1,p2,p1
    ,p2) by A1,A18,Th23
      .=P by A1,Th25;
    then
A19: q in Segment(P,p1,p2,p1,q2) or q in Segment(P,p1,p2,q2,p2)
    by A1,A11,XBOOLE_0:def 2;
    now per cases by A11,A17,A19,XBOOLE_0:def 2;
      case q in Segment(P,p1,p2,p1,q1);
        then q in {p3 where p3 is Point of TOP-REAL 2:
        LE p1,p3,P,p1,p2 & LE p3,q1,P,p1,p2} by JORDAN6:29;
        then consider p3 being Point of TOP-REAL 2 such that
A20:    q=p3 & (LE p1,p3,P,p1,p2 & LE p3,q1,P,p1,p2);
        not q2 in {q1} by A5,TARSKI:def 1;
        then reconsider Qa=P\{q1} as non empty Subset of (TOP-REAL 2)|P
        by A3,A15,XBOOLE_0:def 4,XBOOLE_1:36;
        reconsider Qa'=Qa as Subset of TOP-REAL 2;
A21:    now
          assume
A22:      p1=q1;
          then q=p1 by A1,A20,JORDAN5C:12;
          hence contradiction by A6,A11,A22,TOPREAL1:4;
        end;
A23:    the carrier of ((TOP-REAL 2)|P)|Qa=Qa by PRE_TOPC:29;
A24:    not p1 in {q1} by A21,TARSKI:def 1;
A25:    not p2 in {q1} by A7,TARSKI:def 1;
A26:    not q2 in {q1} by A5,TARSKI:def 1;
        not q in {q1} by A13,TARSKI:def 1;

then reconsider p1'=p1,q'=q,q2'=q2,p2'=p2 as Point of ((TOP-REAL 2)|P)|Qa
        by A1,A3,A4,A11,A23,A24,A25,A26,XBOOLE_0:def 4;
        now per cases;
          case q<>p1;
            then
A27:        Segment(P,p1,p2,p1,q) is_an_arc_of p1,q by A1,A11,JORDAN16:39;
            then consider f1 being Function
            of I[01],(TOP-REAL 2)|Segment(P,p1,p2,p1,q) such that
A28:        f1 is_homeomorphism & f1.0=p1 & f1.1=q by TOPREAL1:def 2;
A29:        f1 is continuous by A28,TOPS_2:def 5;
A30:        dom f1=the carrier of I[01] by A14,A28,TOPS_2:def 5;
A31:        rng f1=[#]((TOP-REAL 2)|Segment(P,p1,p2,p1,q)) by A28,TOPS_2:def 5
              .=Segment(P,p1,p2,p1,q) by PRE_TOPC:def 10;
            {p where p is Point of TOP-REAL 2: LE p1,p,P,p1,p2 & LE p,q,P,p1,
            p2 } c= Qa
            proof
              let x be set;
              assume x in

{p where p is Point of TOP-REAL 2: LE p1,p,P,p1,p2 & LE p,q,P,p1,p2};
              then consider p being Point of TOP-REAL 2 such that
A32:          x=p & (LE p1,p,P,p1,p2 & LE p,q,P,p1,p2);
              x<>q1 by A1,A13,A20,A32,JORDAN5C:12;
              then x in P & not x in {q1} by A32,JORDAN5C:def 3,TARSKI:def 1;
              hence x in Qa by XBOOLE_0:def 4;
            end;
            then
A33:        Segment(P,p1,p2,p1,q) c= Qa by JORDAN6:29;
            then reconsider g1=f1 as Function
            of I[01],((TOP-REAL 2)|P)|Qa by A23,A30,A31,FUNCT_2:4;
A34:        [#](((TOP-REAL 2)|P)|Qa) <> {};
            for G being Subset of ((TOP-REAL 2)|P)|Qa st G is open
            holds g1"G is open
            proof
              let G be Subset of ((TOP-REAL 2)|P)|Qa;
              assume
A35:          G is open;
              ((TOP-REAL 2)|P)|Qa=(TOP-REAL 2)|Qa' by PRE_TOPC:28,XBOOLE_1:36;
              then consider G4 being Subset of (TOP-REAL 2) such that
A36:          G4 is open & G=G4 /\ [#]((TOP-REAL 2)|Qa') by A35,TOPS_2:32;
              reconsider G5=G4 /\ [#]((TOP-REAL 2)|Segment(P,p1,p2,p1,q))
              as Subset of ((TOP-REAL 2)|Segment(P,p1,p2,p1,q));
              p1 in Segment(P,p1,p2,p1,q) by A27,TOPREAL1:4;
              then
A37:          [#]((TOP-REAL 2)|Segment(P,p1,p2,p1,q)) is non empty
              by PRE_TOPC:def 10;
A38:          G5 is open by A36,TOPS_2:32;
A39:          f1"G5=g1"(G4 /\ Segment(P,p1,p2,p1,q)) by PRE_TOPC:def 10
                .=g1"(G4) /\ g1"(Segment(P,p1,p2,p1,q)) by FUNCT_1:137;
A40:          rng g1=[#]((TOP-REAL 2)|Segment(P,p1,p2,p1,q)) by A28,
              TOPS_2:def 5
                .= Segment(P,p1,p2,p1,q) by PRE_TOPC:def 10;
              g1"G=g1"G4 /\ g1"([#]((TOP-REAL 2)|Qa')) by A36,FUNCT_1:137
                .=g1"G4 /\ g1"Qa' by PRE_TOPC:def 10
                .=g1"G4 /\ g1"((rng g1) /\ Qa') by RELAT_1:168
                .=g1"G4 /\ g1"(Segment(P,p1,p2,p1,q)) by A33,A40,XBOOLE_1:28;
              hence g1"G is open by A29,A37,A38,A39,TOPS_2:55;
            end;
            then
A41:        g1 is continuous by A34,TOPS_2:55;
            then p1',q' are_connected by A28,BORSUK_2:def 1;
            then g1 is Path of p1',q' by A28,A41,BORSUK_2:def 2;
            hence ex G1 being Path of p1',q' st
            G1 is continuous & G1.0=p1' & G1.1=q' by A28,A41;
          end;
          case
A42:        q=p1;

consider g01 being Function of I[01],(((TOP-REAL 2)|P)|Qa) such that
A43:        g01 is continuous & g01.0=p1' & g01.1=p1' by BORSUK_2:4;
            p1',p1' are_connected;
            then g01 is Path of p1',p1' by A43,BORSUK_2:def 2;
            hence ex G1 being Path of p1',q' st
            G1 is continuous & G1.0=p1' & G1.1=q' by A42,A43;
          end;
        end;
        then consider G1 being Path of p1',q' such that
A44:    G1 is continuous & G1.0=p1' & G1.1=q';
A45:    Segment(Q1,q1,q2,q,q2) is_an_arc_of q,q2 by A1,A11,A12,Th22;
        then consider f2 being Function
        of I[01],(TOP-REAL 2)|Segment(Q1,q1,q2,q,q2) such that
A46:    f2 is_homeomorphism & f2.0=q & f2.1=q2 by TOPREAL1:def 2;
A47:    f2 is continuous by A46,TOPS_2:def 5;
A48:    dom f2=the carrier of I[01] by A14,A46,TOPS_2:def 5;
A49:    rng f2=[#]((TOP-REAL 2)|Segment(Q1,q1,q2,q,q2)) by A46,TOPS_2:def 5
          .=Segment(Q1,q1,q2,q,q2) by PRE_TOPC:def 10;
A50:    the carrier of ((TOP-REAL 2)|P)|Qa=Qa by PRE_TOPC:29;
        {p where p is Point of TOP-REAL 2: LE q,p,Q1,q1,q2 & LE p,q2,Q1,q1,
        q2} c= Qa
        proof
          let x be set;
          assume x in

{p where p is Point of TOP-REAL 2: LE q,p,Q1,q1,q2 & LE p,q2,Q1,q1,q2};
          then consider p being Point of TOP-REAL 2 such that
A51:      x=p & (LE q,p,Q1,q1,q2 & LE p,q2,Q1,q1,q2);
A52:      x in Q1 by A51,JORDAN5C:def 3;
          now
            assume
A53:        x=q1;
            LE q1,q,Q1,q1,q2 by A1,A11,JORDAN5C:10;
            hence contradiction by A1,A13,A51,A53,JORDAN5C:12;
          end;
          then x in P & not x in {q1} by A1,A52,TARSKI:def 1;
          hence x in Qa by XBOOLE_0:def 4;
        end;
        then
A54:    Segment(Q1,q1,q2,q,q2) c= Qa by JORDAN6:29;
        then reconsider g2=f2 as Function
        of I[01],((TOP-REAL 2)|P)|Qa by A48,A49,A50,FUNCT_2:4;
A55:    [#](((TOP-REAL 2)|P)|Qa) <> {};
        for G being Subset of ((TOP-REAL 2)|P)|Qa st G is open
        holds g2"G is open
        proof
          let G be Subset of ((TOP-REAL 2)|P)|Qa;
          assume
A56:      G is open;
          ((TOP-REAL 2)|P)|Qa=(TOP-REAL 2)|Qa' by PRE_TOPC:28,XBOOLE_1:36;
          then consider G4 being Subset of (TOP-REAL 2) such that
A57:      G4 is open & G=G4 /\ [#]((TOP-REAL 2)|Qa') by A56,TOPS_2:32;
          reconsider G5=G4 /\ [#]((TOP-REAL 2)|Segment(Q1,q1,q2,q,q2))
          as Subset of ((TOP-REAL 2)|Segment(Q1,q1,q2,q,q2));
          q2 in Segment(Q1,q1,q2,q,q2) by A45,TOPREAL1:4;
          then
A58:      [#]((TOP-REAL 2)|Segment(Q1,q1,q2,q,q2)) is non empty
          by PRE_TOPC:def 10;
A59:      G5 is open by A57,TOPS_2:32;
A60:      f2"G5=g2"(G4 /\ Segment(Q1,q1,q2,q,q2)) by PRE_TOPC:def 10
            .=g2"(G4) /\ g2"(Segment(Q1,q1,q2,q,q2)) by FUNCT_1:137;
A61:      rng g2=[#]((TOP-REAL 2)|Segment(Q1,q1,q2,q,q2)) by A46,TOPS_2:def 5
            .= Segment(Q1,q1,q2,q,q2) by PRE_TOPC:def 10;
          g2"G=g2"G4 /\ g2"([#]((TOP-REAL 2)|Qa')) by A57,FUNCT_1:137
            .=g2"G4 /\ g2"Qa' by PRE_TOPC:def 10
            .=g2"G4 /\ g2"((rng g2) /\ Qa') by RELAT_1:168
            .=g2"G4 /\ g2"(Segment(Q1,q1,q2,q,q2)) by A54,A61,XBOOLE_1:28;
          hence g2"G is open by A47,A58,A59,A60,TOPS_2:55;
        end;
        then
A62:    g2 is continuous by A55,TOPS_2:55;
        then q',q2' are_connected by A46,BORSUK_2:def 1;
        then reconsider G2=g2 as Path of q',q2' by A46,A62,BORSUK_2:def 2;
A63:    (G1+G2) is continuous & (G1+G2).0=p1' & (G1+G2).1=q2'
        by A44,A46,A62,BORSUK_2:17;
        now per cases;
          case q2<>p2;
            then
A64:        Segment(P,p1,p2,q2,p2) is_an_arc_of q2,p2 by A1,A3,Th22;
            then consider f3 being Function
            of I[01],(TOP-REAL 2)|Segment(P,p1,p2,q2,p2) such that
A65:        f3 is_homeomorphism & f3.0=q2 & f3.1=p2 by TOPREAL1:def 2;
A66:        f3 is continuous by A65,TOPS_2:def 5;
A67:        dom f3=the carrier of I[01] by A14,A65,TOPS_2:def 5;
A68:        rng f3=[#]((TOP-REAL 2)|Segment(P,p1,p2,q2,p2))
            by A65,TOPS_2:def 5
              .=Segment(P,p1,p2,q2,p2) by PRE_TOPC:def 10;
A69:        the carrier of ((TOP-REAL 2)|P)|Qa=Qa by PRE_TOPC:29;
            {p where p is Point of TOP-REAL 2: LE q2,p,P,p1,p2 & LE p,p2,P,p1,
            p2} c= Qa
            proof
              let x be set;
              assume x in

{p where p is Point of TOP-REAL 2: LE q2,p,P,p1,p2 & LE p,p2,P,p1,p2};
              then consider p being Point of TOP-REAL 2 such that
A70:          x=p & (LE q2,p,P,p1,p2 & LE p,p2,P,p1,p2);
              x<>q1 by A1,A70,JORDAN5C:12,JORDAN6:49;
              then x in P & not x in {q1} by A70,JORDAN5C:def 3,TARSKI:def 1;
              hence x in Qa by XBOOLE_0:def 4;
            end;
            then
A71:        Segment(P,p1,p2,q2,p2) c= Qa by JORDAN6:29;
            then reconsider g3=f3 as Function
            of I[01],((TOP-REAL 2)|P)|Qa by A67,A68,A69,FUNCT_2:4;
A72:        [#](((TOP-REAL 2)|P)|Qa) <> {};
            for G being Subset of ((TOP-REAL 2)|P)|Qa st G is open
            holds g3"G is open
            proof
              let G be Subset of ((TOP-REAL 2)|P)|Qa;
              assume
A73:          G is open;
              ((TOP-REAL 2)|P)|Qa=(TOP-REAL 2)|Qa' by PRE_TOPC:28,XBOOLE_1:36;
              then consider G4 being Subset of (TOP-REAL 2) such that
A74:          G4 is open & G=G4 /\ [#]((TOP-REAL 2)|Qa') by A73,TOPS_2:32;
              reconsider G5=G4 /\ [#]((TOP-REAL 2)|Segment(P,p1,p2,q2,p2))
              as Subset of ((TOP-REAL 2)|Segment(P,p1,p2,q2,p2));
              p2 in Segment(P,p1,p2,q2,p2) by A64,TOPREAL1:4;
              then
A75:          [#]((TOP-REAL 2)|Segment(P,p1,p2,q2,p2)) is non empty
              by PRE_TOPC:def 10;
A76:          G5 is open by A74,TOPS_2:32;
A77:          f3"G5=g3"(G4 /\ Segment(P,p1,p2,q2,p2)) by PRE_TOPC:def 10
                .=g3"(G4) /\ g3"(Segment(P,p1,p2,q2,p2)) by FUNCT_1:137;
A78:          rng g3=[#]((TOP-REAL 2)|Segment(P,p1,p2,q2,p2))
              by A65,TOPS_2:def 5
                .= Segment(P,p1,p2,q2,p2) by PRE_TOPC:def 10;
              g3"G=g3"G4 /\ g3"([#]((TOP-REAL 2)|Qa')) by A74,FUNCT_1:137
                .=g3"G4 /\ g3"Qa' by PRE_TOPC:def 10
                .=g3"G4 /\ g3"((rng g3) /\ Qa') by RELAT_1:168
                .=g3"G4 /\ g3"(Segment(P,p1,p2,q2,p2)) by A71,A78,XBOOLE_1:28;
              hence g3"G is open by A66,A75,A76,A77,TOPS_2:55;
            end;
            then
A79:        g3 is continuous by A72,TOPS_2:55;
            then q2',p2' are_connected by A65,BORSUK_2:def 1;
            then g3 is Path of q2',p2' by A65,A79,BORSUK_2:def 2;
            hence ex G3 being Path of q2',p2' st
            G3 is continuous & G3.0=q2' & G3.1=p2' by A65,A79;
          end;
          case
A80:        q2=p2;

consider g01 being Function of I[01],(((TOP-REAL 2)|P)|Qa) such that
A81:        g01 is continuous & g01.0=q2' & g01.1=q2' by BORSUK_2:4;
            q2',q2' are_connected;
            then g01 is Path of q2',q2' by A81,BORSUK_2:def 2;
            hence ex G3 being Path of q2',p2' st
            G3 is continuous & G3.0=q2' & G3.1=p2' by A80,A81;
          end;
        end;
        then consider G3 being Path of q2',p2' such that
A82:    G3 is continuous & G3.0=q2' & G3.1=p2';
        (G1+G2)+G3 is continuous & ((G1+G2)+G3).0=p1' & ((G1+G2)+G3).1=p2'
        by A63,A82,BORSUK_2:17;
        hence contradiction by A1,A2,A7,A21,Th18;
      end;
      case q in Segment(P,p1,p2,q2,p2);
        then q in {p3 where p3 is Point of TOP-REAL 2:
        LE q2,p3,P,p1,p2 & LE p3,p2,P,p1,p2} by JORDAN6:29;
        then consider p3 being Point of TOP-REAL 2 such that
A83:    q=p3 & (LE q2,p3,P,p1,p2 & LE p3,p2,P,p1,p2);
        not q1 in {q2} by A5,TARSKI:def 1;
        then reconsider Qa=P\{q2} as non empty Subset of (TOP-REAL 2)|P
        by A2,A15,XBOOLE_0:def 4,XBOOLE_1:36;
        reconsider Qa'=Qa as Subset of TOP-REAL 2;
A84:    now
          assume
A85:      p2=q2;
          then q=p2 by A1,A83,JORDAN5C:12;
          hence contradiction by A6,A11,A85,TOPREAL1:4;
        end;
A86:    the carrier of ((TOP-REAL 2)|P)|Qa=Qa by PRE_TOPC:29;
A87:    not p2 in {q2} by A84,TARSKI:def 1;
A88:    not p1 in {q2} by A9,TARSKI:def 1;
A89:    not q1 in {q2} by A5,TARSKI:def 1;
        not q in {q2} by A11,A12,TARSKI:def 1;

then reconsider p1'=p1,q'=q,q1'=q1,p2'=p2 as Point of ((TOP-REAL 2)|P)|Qa
        by A1,A2,A4,A11,A86,A87,A88,A89,XBOOLE_0:def 4;
        now per cases;
          case q<>p2;
            then
A90:        Segment(P,p1,p2,q,p2) is_an_arc_of q,p2 by A1,A11,Th22;
            then consider f1 being Function
            of I[01],(TOP-REAL 2)|Segment(P,p1,p2,q,p2) such that
A91:        f1 is_homeomorphism & f1.0=q & f1.1=p2 by TOPREAL1:def 2;
A92:        f1 is continuous by A91,TOPS_2:def 5;
A93:        dom f1=the carrier of I[01] by A14,A91,TOPS_2:def 5;
A94:        rng f1=[#]((TOP-REAL 2)|Segment(P,p1,p2,q,p2)) by A91,TOPS_2:def 5
              .=Segment(P,p1,p2,q,p2) by PRE_TOPC:def 10;
            {p where p is Point of TOP-REAL 2: LE q,p,P,p1,p2 & LE p,p2,P,p1,
            p2} c= Qa
            proof
              let x be set;
              assume x in

{p where p is Point of TOP-REAL 2: LE q,p,P,p1,p2 & LE p,p2,P,p1,p2};
              then consider p being Point of TOP-REAL 2 such that
A95:          x=p & (LE q,p,P,p1,p2 & LE p,p2,P,p1,p2);
              x<>q2 by A1,A11,A12,A83,A95,JORDAN5C:12;
              then x in P & not x in {q2} by A95,JORDAN5C:def 3,TARSKI:def 1;
              hence x in Qa by XBOOLE_0:def 4;
            end;
            then
A96:        Segment(P,p1,p2,q,p2) c= Qa by JORDAN6:29;
            then reconsider g1=f1 as Function
            of I[01],((TOP-REAL 2)|P)|Qa by A86,A93,A94,FUNCT_2:4;
A97:        [#](((TOP-REAL 2)|P)|Qa) <> {};
            for G being Subset of ((TOP-REAL 2)|P)|Qa st G is open
            holds g1"G is open
            proof
              let G be Subset of ((TOP-REAL 2)|P)|Qa;
              assume
A98:          G is open;
              ((TOP-REAL 2)|P)|Qa=(TOP-REAL 2)|Qa' by PRE_TOPC:28,XBOOLE_1:36;
              then consider G4 being Subset of (TOP-REAL 2) such that
A99:          G4 is open & G=G4 /\ [#]((TOP-REAL 2)|Qa') by A98,TOPS_2:32;
              reconsider G5=G4 /\ [#]((TOP-REAL 2)|Segment(P,p1,p2,q,p2))
              as Subset of ((TOP-REAL 2)|Segment(P,p1,p2,q,p2));
              p2 in Segment(P,p1,p2,q,p2) by A90,TOPREAL1:4;
              then
A100:         [#]((TOP-REAL 2)|Segment(P,p1,p2,q,p2)) is non empty
              by PRE_TOPC:def 10;
A101:         G5 is open by A99,TOPS_2:32;
A102:         f1"G5=g1"(G4 /\ Segment(P,p1,p2,q,p2)) by PRE_TOPC:def 10
                .=g1"(G4) /\ g1"(Segment(P,p1,p2,q,p2)) by FUNCT_1:137;
A103:         rng g1=[#]((TOP-REAL 2)|Segment(P,p1,p2,q,p2)) by A91,
              TOPS_2:def 5
                .= Segment(P,p1,p2,q,p2) by PRE_TOPC:def 10;
              g1"G=g1"G4 /\ g1"([#]((TOP-REAL 2)|Qa')) by A99,FUNCT_1:137
                .=g1"G4 /\ g1"Qa' by PRE_TOPC:def 10
                .=g1"G4 /\ g1"((rng g1) /\ Qa') by RELAT_1:168
                .=g1"G4 /\ g1"(Segment(P,p1,p2,q,p2)) by A96,A103,XBOOLE_1:28;
              hence g1"G is open by A92,A100,A101,A102,TOPS_2:55;
            end;
            then
A104:       g1 is continuous by A97,TOPS_2:55;
            then q',p2' are_connected by A91,BORSUK_2:def 1;
            then g1 is Path of q',p2' by A91,A104,BORSUK_2:def 2;
            hence ex G1 being Path of q',p2' st
            G1 is continuous & G1.0=q' & G1.1=p2' by A91,A104;
          end;
          case
A105:       q=p2;

consider g01 being Function of I[01],(((TOP-REAL 2)|P)|Qa) such that
A106:       g01 is continuous & g01.0=p2' & g01.1=p2' by BORSUK_2:4;
            p2',p2' are_connected;
            then g01 is Path of p2',p2' by A106,BORSUK_2:def 2;
            hence ex G1 being Path of q',p2' st
            G1 is continuous & G1.0=q' & G1.1=p2' by A105,A106;
          end;
        end;
        then consider G1 being Path of q',p2' such that
A107:   G1 is continuous & G1.0=q' & G1.1=p2';
A108:   Segment(Q1,q1,q2,q1,q) is_an_arc_of q1,q by A1,A11,A13,JORDAN16:39;
        then consider f2 being Function
        of I[01],(TOP-REAL 2)|Segment(Q1,q1,q2,q1,q) such that
A109:   f2 is_homeomorphism & f2.0=q1 & f2.1=q by TOPREAL1:def 2;
A110:   f2 is continuous by A109,TOPS_2:def 5;
A111:   dom f2=the carrier of I[01] by A14,A109,TOPS_2:def 5;
A112:   rng f2=[#]((TOP-REAL 2)|Segment(Q1,q1,q2,q1,q)) by A109,TOPS_2:def 5
          .=Segment(Q1,q1,q2,q1,q) by PRE_TOPC:def 10;
A113:   the carrier of ((TOP-REAL 2)|P)|Qa=Qa by PRE_TOPC:29;
        {p where p is Point of TOP-REAL 2: LE q1,p,Q1,q1,q2 & LE p,q,Q1,q1
        ,q2} c= Qa
        proof
          let x be set;
          assume x in

{p where p is Point of TOP-REAL 2: LE q1,p,Q1,q1,q2 & LE p,q,Q1,q1,q2};
          then consider p being Point of TOP-REAL 2 such that
A114:     x=p & (LE q1,p,Q1,q1,q2 & LE p,q,Q1,q1,q2);
A115:     x in Q1 by A114,JORDAN5C:def 3;
          now
            assume
A116:       x=q2;
            LE q,q2,Q1,q1,q2 by A1,A11,JORDAN5C:10;
            hence contradiction by A1,A11,A12,A114,A116,JORDAN5C:12;
          end;
          then x in P & not x in {q2} by A1,A115,TARSKI:def 1;
          hence x in Qa by XBOOLE_0:def 4;
        end;
        then
A117:   Segment(Q1,q1,q2,q1,q) c= Qa by JORDAN6:29;
        then reconsider g2=f2 as Function
        of I[01],((TOP-REAL 2)|P)|Qa by A111,A112,A113,FUNCT_2:4;
A118:   [#](((TOP-REAL 2)|P)|Qa) <> {};
        for G being Subset of ((TOP-REAL 2)|P)|Qa st G is open
        holds g2"G is open
        proof
          let G be Subset of ((TOP-REAL 2)|P)|Qa;
          assume
A119:     G is open;
          ((TOP-REAL 2)|P)|Qa=(TOP-REAL 2)|Qa' by PRE_TOPC:28,XBOOLE_1:36;
          then consider G4 being Subset of (TOP-REAL 2) such that
A120:     G4 is open & G=G4 /\ [#]((TOP-REAL 2)|Qa') by A119,TOPS_2:32;
          reconsider G5=G4 /\ [#]((TOP-REAL 2)|Segment(Q1,q1,q2,q1,q))
          as Subset of ((TOP-REAL 2)|Segment(Q1,q1,q2,q1,q));
          q1 in Segment(Q1,q1,q2,q1,q) by A108,TOPREAL1:4;
          then
A121:     [#]((TOP-REAL 2)|Segment(Q1,q1,q2,q1,q)) is non empty
          by PRE_TOPC:def 10;
A122:     G5 is open by A120,TOPS_2:32;
A123:     f2"G5=g2"(G4 /\ Segment(Q1,q1,q2,q1,q)) by PRE_TOPC:def 10
            .=g2"(G4) /\ g2"(Segment(Q1,q1,q2,q1,q)) by FUNCT_1:137;
A124:     rng g2=[#]((TOP-REAL 2)|Segment(Q1,q1,q2,q1,q)) by A109,TOPS_2:def 5
            .= Segment(Q1,q1,q2,q1,q) by PRE_TOPC:def 10;
          g2"G=g2"G4 /\ g2"([#]((TOP-REAL 2)|Qa')) by A120,FUNCT_1:137
            .=g2"G4 /\ g2"Qa' by PRE_TOPC:def 10
            .=g2"G4 /\ g2"((rng g2) /\ Qa') by RELAT_1:168
            .=g2"G4 /\ g2"(Segment(Q1,q1,q2,q1,q)) by A117,A124,XBOOLE_1:28;
          hence g2"G is open by A110,A121,A122,A123,TOPS_2:55;
        end;
        then
A125:   g2 is continuous by A118,TOPS_2:55;
        then q1',q' are_connected by A109,BORSUK_2:def 1;
        then reconsider G2=g2 as Path of q1',q' by A109,A125,BORSUK_2:def 2;
A126:   (G2+G1) is continuous & (G2+G1).0=q1' & (G2+G1).1=p2'
        by A107,A109,A125,BORSUK_2:17;
        now per cases;
          case q1<>p1;
            then
A127:       Segment(P,p1,p2,p1,q1) is_an_arc_of p1,q1 by A1,A2,JORDAN16:39;
            then consider f3 being Function
            of I[01],(TOP-REAL 2)|Segment(P,p1,p2,p1,q1) such that
A128:       f3 is_homeomorphism & f3.0=p1 & f3.1=q1 by TOPREAL1:def 2;
A129:       f3 is continuous by A128,TOPS_2:def 5;
A130:       dom f3=the carrier of I[01] by A14,A128,TOPS_2:def 5;
A131:       rng f3=[#]((TOP-REAL 2)|Segment(P,p1,p2,p1,q1))
            by A128,TOPS_2:def 5
              .=Segment(P,p1,p2,p1,q1) by PRE_TOPC:def 10;
A132:       the carrier of ((TOP-REAL 2)|P)|Qa=Qa by PRE_TOPC:29;
            {p where p is Point of TOP-REAL 2: LE p1,p,P,p1,p2 & LE p,q1,P,p1,
            p2} c= Qa
            proof
              let x be set;
              assume x in

{p where p is Point of TOP-REAL 2: LE p1,p,P,p1,p2 & LE p,q1,P,p1,p2};
              then consider p being Point of TOP-REAL 2 such that
A133:         x=p & (LE p1,p,P,p1,p2 & LE p,q1,P,p1,p2);
              x<>q2 by A1,A133,JORDAN5C:12,JORDAN6:49;
              then x in P & not x in {q2} by A133,JORDAN5C:def 3,TARSKI:def 1;
              hence x in Qa by XBOOLE_0:def 4;
            end;
            then
A134:       Segment(P,p1,p2,p1,q1) c= Qa by JORDAN6:29;
            then reconsider g3=f3 as Function
            of I[01],((TOP-REAL 2)|P)|Qa by A130,A131,A132,FUNCT_2:4;
A135:       [#](((TOP-REAL 2)|P)|Qa) <> {};
            for G being Subset of ((TOP-REAL 2)|P)|Qa st G is open
            holds g3"G is open
            proof
              let G be Subset of ((TOP-REAL 2)|P)|Qa;
              assume
A136:         G is open;
              ((TOP-REAL 2)|P)|Qa=(TOP-REAL 2)|Qa' by PRE_TOPC:28,XBOOLE_1:36;
              then consider G4 being Subset of (TOP-REAL 2) such that
A137:         G4 is open & G=G4 /\ [#]((TOP-REAL 2)|Qa') by A136,TOPS_2:32;
              reconsider G5=G4 /\ [#]((TOP-REAL 2)|Segment(P,p1,p2,p1,q1))
              as Subset of ((TOP-REAL 2)|Segment(P,p1,p2,p1,q1));
              p1 in Segment(P,p1,p2,p1,q1) by A127,TOPREAL1:4;
              then
A138:         [#]((TOP-REAL 2)|Segment(P,p1,p2,p1,q1)) is non empty
              by PRE_TOPC:def 10;
A139:         G5 is open by A137,TOPS_2:32;
A140:         f3"G5=g3"(G4 /\ Segment(P,p1,p2,p1,q1)) by PRE_TOPC:def 10
                .=g3"(G4) /\ g3"(Segment(P,p1,p2,p1,q1)) by FUNCT_1:137;
A141:         rng g3=[#]((TOP-REAL 2)|Segment(P,p1,p2,p1,q1))
              by A128,TOPS_2:def 5
                .= Segment(P,p1,p2,p1,q1) by PRE_TOPC:def 10;
              g3"G=g3"G4 /\ g3"([#]((TOP-REAL 2)|Qa')) by A137,FUNCT_1:137
                .=g3"G4 /\ g3"Qa' by PRE_TOPC:def 10
                .=g3"G4 /\ g3"((rng g3) /\ Qa') by RELAT_1:168

.=g3"G4 /\ g3"(Segment(P,p1,p2,p1,q1)) by A134,A141,XBOOLE_1:28;
              hence g3"G is open by A129,A138,A139,A140,TOPS_2:55;
            end;
            then
A142:       g3 is continuous by A135,TOPS_2:55;
            then p1',q1' are_connected by A128,BORSUK_2:def 1;
            then g3 is Path of p1',q1' by A128,A142,BORSUK_2:def 2;
            hence ex G3 being Path of p1',q1' st
            G3 is continuous & G3.0=p1' & G3.1=q1' by A128,A142;
          end;
          case
A143:       q1=p1;

consider g01 being Function of I[01],(((TOP-REAL 2)|P)|Qa) such that
A144:       g01 is continuous & g01.0=q1' & g01.1=q1' by BORSUK_2:4;
            q1',q1' are_connected;
            then g01 is Path of q1',q1' by A144,BORSUK_2:def 2;
            hence ex G3 being Path of p1',q1' st
            G3 is continuous & G3.0=p1' & G3.1=q1' by A143,A144;
          end;
        end;
        then consider G3 being Path of p1',q1' such that
A145:   G3 is continuous & G3.0=p1' & G3.1=q1';
        G3+(G2+G1) is continuous & (G3+(G2+G1)).0=p1' & (G3+(G2+G1)).1=p2'
        by A126,A145,BORSUK_2:17;
        hence contradiction by A1,A3,A9,A84,Th18;
      end;
    end;
    hence contradiction;
  end;
  hence thesis by A1,A6,Th21;
end;

theorem
  for P being non empty Subset of TOP-REAL 2,
  p1,p2,q1,q2,p being Point of TOP-REAL 2,e being Real st p1`1<e & p2`1>e &
  q1 is_Lin P,p1,p2,e & q2`1=e & LSeg(q1,q2) c= P
  & p in LSeg(q1,q2) holds p is_Lin P,p1,p2,e
proof
  let P be non empty Subset of TOP-REAL 2,
  p1,p2,q1,q2,p be Point of TOP-REAL 2,e be Real;
  assume
A1: p1`1<e & p2`1>e & q1 is_Lin P,p1,p2,e & q2`1=e & LSeg(q1,q2) c= P
  & p in LSeg(q1,q2);
  then
A2: P is_an_arc_of p1,p2 & q1 in P & q1`1=e &
  (ex p4 being Point of TOP-REAL 2 st p4`1<e & LE p4,q1,P,p1,p2 &
  (for p5 being Point of TOP-REAL 2 st
  LE p4,p5,P,p1,p2 & LE p5,q1,P,p1,p2 holds p5`1<=e)) by Def1;
  consider p4 being Point of TOP-REAL 2 such that
A3: p4`1<e & LE p4,q1,P,p1,p2 & (for p5 being Point of TOP-REAL 2 st
  LE p4,p5,P,p1,p2 & LE p5,q1,P,p1,p2 holds p5`1<=e) by A1,Def1;
A4: q1 in LSeg(q1,q2) & q2 in LSeg(q1,q2) by TOPREAL1:6;
A5: p4 in P by A3,JORDAN5C:def 3;
  now per cases by A1,A2,A4,Th19;
    case
A6:   LE q1,q2,P,p1,p2;
A7:   now per cases;
        case q1<>q2;
          then LSeg(q1,q2) is_an_arc_of q1,q2 by TOPREAL1:15;
          hence Segment(P,p1,p2,q1,q2) =LSeg(q1,q2) by A1,A2,A6,Th28;
        end;
        case
A8:       q1=q2;
          then LSeg(q1,q2)={q1} by TOPREAL1:7;
          hence Segment(P,p1,p2,q1,q2) =LSeg(q1,q2) by A2,A8,Th1;
        end;
      end;
      Segment(P,p1,p2,q1,q2) = {p3 where p3 is Point of TOP-REAL 2:
      LE q1,p3,P,p1,p2 & LE p3,q2,P,p1,p2} by JORDAN6:29;
      then consider p3 being Point of TOP-REAL 2 such that
A9:   p=p3 & (LE q1,p3,P,p1,p2 & LE p3,q2,P,p1,p2) by A1,A7;
A10:  p`1=e by A1,A2,GOBOARD7:5;
A11:  LE p4,p,P,p1,p2 by A3,A9,JORDAN5C:13;
      for p6 being Point of TOP-REAL 2 st
      LE p4,p6,P,p1,p2 & LE p6,p,P,p1,p2 holds p6`1<=e
      proof
        let p6 be Point of TOP-REAL 2;
        assume
A12:    LE p4,p6,P,p1,p2 & LE p6,p,P,p1,p2;
        then
A13:    p6 in P by JORDAN5C:def 3;
        now per cases by A2,A13,Th19;
          case LE p6,q1,P,p1,p2;
            hence p6`1<=e by A3,A12;
          end;
          case
A14:        LE q1,p6,P,p1,p2;
            LE p6,q2,P,p1,p2 by A9,A12,JORDAN5C:13;
            then p6 in {qq where qq is Point of TOP-REAL 2: LE q1,qq,P,p1,
            p2 & LE qq,q2,P,p1,p2} by A14;
            then p6 in LSeg(q1,q2) by A7,JORDAN6:29;
            hence p6`1<=e by A1,A2,GOBOARD7:5;
          end;
        end;
        hence p6`1<=e;
      end;
      hence p is_Lin P,p1,p2,e by A1,A2,A3,A10,A11,Def1;
    end;
    case
A15:  LE q2,q1,P,p1,p2;
A16:  now per cases;
        case q1<>q2;
          then LSeg(q2,q1) is_an_arc_of q2,q1 by TOPREAL1:15;
          hence Segment(P,p1,p2,q2,q1) =LSeg(q2,q1) by A1,A2,A15,Th28;
        end;
        case
A17:      q1=q2;
          then LSeg(q2,q1)={q1} by TOPREAL1:7;
          hence Segment(P,p1,p2,q2,q1) =LSeg(q2,q1) by A2,A17,Th1;
        end;
      end;
      Segment(P,p1,p2,q2,q1) = {p3 where p3 is Point of TOP-REAL 2:
      LE q2,p3,P,p1,p2 & LE p3,q1,P,p1,p2} by JORDAN6:29;
      then consider p3 being Point of TOP-REAL 2 such that
A18:  p=p3 & (LE q2,p3,P,p1,p2 & LE p3,q1,P,p1,p2) by A1,A16;
A19:  p`1=e by A1,A2,GOBOARD7:5;
A20:  LE q2,p4,P,p1,p2 or LE p4,q2,P,p1,p2 by A1,A2,A4,A5,Th19;
      now
        assume LE q2,p4,P,p1,p2;
        then p4 in {qq where qq is Point of TOP-REAL 2: LE q2,qq,P,p1,p2 &
        LE qq,q1,P,p1,p2} by A3;
        then p4 in Segment(P,p1,p2,q2,q1) by JORDAN6:29;
        hence contradiction by A1,A2,A3,A16,GOBOARD7:5;
      end;
      then
A21:  LE p4,p,P,p1,p2 by A18,A20,JORDAN5C:13;
      for p6 being Point of TOP-REAL 2 st
      LE p4,p6,P,p1,p2 & LE p6,p,P,p1,p2 holds p6`1<=e
      proof
        let p6 be Point of TOP-REAL 2;
        assume
A22:    LE p4,p6,P,p1,p2 & LE p6,p,P,p1,p2;
        then LE p6,q1,P,p1,p2 by A18,JORDAN5C:13;
        hence p6`1<=e by A3,A22;
      end;
      hence p is_Lin P,p1,p2,e by A1,A2,A3,A19,A21,Def1;
    end;
  end;
  hence p is_Lin P,p1,p2,e;
end;

theorem
  for P being non empty Subset of TOP-REAL 2,
  p1,p2,q1,q2,p being Point of TOP-REAL 2,e being Real st p1`1<e & p2`1>e &
  q1 is_Rin P,p1,p2,e & q2`1=e & LSeg(q1,q2) c= P
  & p in LSeg(q1,q2) holds p is_Rin P,p1,p2,e
proof
  let P be non empty Subset of TOP-REAL 2,
  p1,p2,q1,q2,p be Point of TOP-REAL 2,e be Real;
  assume
A1: p1`1<e & p2`1>e & q1 is_Rin P,p1,p2,e & q2`1=e & LSeg(q1,q2) c= P
  & p in LSeg(q1,q2);
  then
A2: P is_an_arc_of p1,p2 & q1 in P & q1`1=e &
  (ex p4 being Point of TOP-REAL 2 st p4`1>e & LE p4,q1,P,p1,p2 &
  (for p5 being Point of TOP-REAL 2 st
  LE p4,p5,P,p1,p2 & LE p5,q1,P,p1,p2 holds p5`1>=e)) by Def2;
  consider p4 being Point of TOP-REAL 2 such that
A3: p4`1>e & LE p4,q1,P,p1,p2 & (for p5 being Point of TOP-REAL 2 st
  LE p4,p5,P,p1,p2 & LE p5,q1,P,p1,p2 holds p5`1>=e) by A1,Def2;
A4: q1 in LSeg(q1,q2) & q2 in LSeg(q1,q2) by TOPREAL1:6;
A5: p4 in P by A3,JORDAN5C:def 3;
  now per cases by A1,A2,A4,Th19;
    case
A6:   LE q1,q2,P,p1,p2;
A7:   now per cases;
        case q1<>q2;
          then LSeg(q1,q2) is_an_arc_of q1,q2 by TOPREAL1:15;
          hence Segment(P,p1,p2,q1,q2) =LSeg(q1,q2) by A1,A2,A6,Th28;
        end;
        case
A8:       q1=q2;
          then LSeg(q1,q2)={q1} by TOPREAL1:7;
          hence Segment(P,p1,p2,q1,q2) =LSeg(q1,q2) by A2,A8,Th1;
        end;
      end;
      Segment(P,p1,p2,q1,q2) = {p3 where p3 is Point of TOP-REAL 2:
      LE q1,p3,P,p1,p2 & LE p3,q2,P,p1,p2} by JORDAN6:29;
      then consider p3 being Point of TOP-REAL 2 such that
A9:   p=p3 & (LE q1,p3,P,p1,p2 & LE p3,q2,P,p1,p2) by A1,A7;
A10:  p`1=e by A1,A2,GOBOARD7:5;
A11:  LE p4,p,P,p1,p2 by A3,A9,JORDAN5C:13;
      for p6 being Point of TOP-REAL 2 st
      LE p4,p6,P,p1,p2 & LE p6,p,P,p1,p2 holds p6`1>=e
      proof
        let p6 be Point of TOP-REAL 2;
        assume
A12:    LE p4,p6,P,p1,p2 & LE p6,p,P,p1,p2;
        then
A13:    p6 in P by JORDAN5C:def 3;
        now per cases by A2,A13,Th19;
          case LE p6,q1,P,p1,p2;
            hence p6`1>=e by A3,A12;
          end;
          case
A14:        LE q1,p6,P,p1,p2;
            LE p6,q2,P,p1,p2 by A9,A12,JORDAN5C:13;
            then p6 in {qq where qq is Point of TOP-REAL 2: LE q1,qq,P,p1,
            p2 & LE qq,q2,P,p1,p2} by A14;
            then p6 in LSeg(q1,q2) by A7,JORDAN6:29;
            hence p6`1>=e by A1,A2,GOBOARD7:5;
          end;
        end;
        hence p6`1>=e;
      end;
      hence p is_Rin P,p1,p2,e by A1,A2,A3,A10,A11,Def2;
    end;
    case
A15:  LE q2,q1,P,p1,p2;
A16:  now per cases;
        case q1<>q2;
          then LSeg(q2,q1) is_an_arc_of q2,q1 by TOPREAL1:15;
          hence Segment(P,p1,p2,q2,q1) =LSeg(q2,q1) by A1,A2,A15,Th28;
        end;
        case
A17:      q1=q2;
          then LSeg(q2,q1)={q1} by TOPREAL1:7;
          hence Segment(P,p1,p2,q2,q1) =LSeg(q2,q1) by A2,A17,Th1;
        end;
      end;
      Segment(P,p1,p2,q2,q1) = {p3 where p3 is Point of TOP-REAL 2:
      LE q2,p3,P,p1,p2 & LE p3,q1,P,p1,p2} by JORDAN6:29;
      then consider p3 being Point of TOP-REAL 2 such that
A18:  p=p3 & (LE q2,p3,P,p1,p2 & LE p3,q1,P,p1,p2) by A1,A16;
A19:  p`1=e by A1,A2,GOBOARD7:5;
A20:  LE q2,p4,P,p1,p2 or LE p4,q2,P,p1,p2 by A1,A2,A4,A5,Th19;
      now
        assume LE q2,p4,P,p1,p2;
        then p4 in {qq where qq is Point of TOP-REAL 2: LE q2,qq,P,p1,p2
        & LE qq,q1,P,p1,p2} by A3;
        then p4 in Segment(P,p1,p2,q2,q1) by JORDAN6:29;
        hence contradiction by A1,A2,A3,A16,GOBOARD7:5;
      end;
      then
A21:  LE p4,p,P,p1,p2 by A18,A20,JORDAN5C:13;
      for p6 being Point of TOP-REAL 2 st
      LE p4,p6,P,p1,p2 & LE p6,p,P,p1,p2 holds p6`1>=e
      proof
        let p6 be Point of TOP-REAL 2;
        assume
A22:    LE p4,p6,P,p1,p2 & LE p6,p,P,p1,p2;
        then LE p6,q1,P,p1,p2 by A18,JORDAN5C:13;
        hence p6`1>=e by A3,A22;
      end;
      hence p is_Rin P,p1,p2,e by A1,A2,A3,A19,A21,Def2;
    end;
  end;
  hence p is_Rin P,p1,p2,e;
end;

theorem
  for P being non empty Subset of TOP-REAL 2,
  p1,p2,q1,q2,p being Point of TOP-REAL 2,e being Real st p1`1<e & p2`1>e &
  q1 is_Lout P,p1,p2,e & q2`1=e & LSeg(q1,q2) c= P
  & p in LSeg(q1,q2) holds p is_Lout P,p1,p2,e
proof
  let P be non empty Subset of TOP-REAL 2,
  p1,p2,q1,q2,p be Point of TOP-REAL 2,e be Real;
  assume
A1: p1`1<e & p2`1>e & q1 is_Lout P,p1,p2,e & q2`1=e & LSeg(q1,q2) c= P
  & p in LSeg(q1,q2);
  then
A2: P is_an_arc_of p1,p2 & q1 in P & q1`1=e &
  (ex p4 being Point of TOP-REAL 2 st p4`1<e & LE q1,p4,P,p1,p2 &
  (for p5 being Point of TOP-REAL 2 st
  LE p5,p4,P,p1,p2 & LE q1,p5,P,p1,p2 holds p5`1<=e)) by Def3;
  consider p4 being Point of TOP-REAL 2 such that
A3: p4`1<e & LE q1,p4,P,p1,p2 & (for p5 being Point of TOP-REAL 2 st
  LE p5,p4,P,p1,p2 & LE q1,p5,P,p1,p2 holds p5`1<=e) by A1,Def3;
A4: q1 in LSeg(q1,q2) & q2 in LSeg(q1,q2) by TOPREAL1:6;
A5: p4 in P by A3,JORDAN5C:def 3;
  now per cases by A1,A2,A4,Th19;
    case
A6:   LE q2,q1,P,p1,p2;
A7:   now per cases;
        case q1<>q2;
          then LSeg(q2,q1) is_an_arc_of q2,q1 by TOPREAL1:15;
          hence Segment(P,p1,p2,q2,q1) =LSeg(q2,q1) by A1,A2,A6,Th28;
        end;
        case
A8:       q1=q2;
          then LSeg(q1,q2)={q1} by TOPREAL1:7;
          hence Segment(P,p1,p2,q2,q1) =LSeg(q2,q1) by A2,A8,Th1;
        end;
      end;
      Segment(P,p1,p2,q2,q1) = {p3 where p3 is Point of TOP-REAL 2:
      LE q2,p3,P,p1,p2 & LE p3,q1,P,p1,p2} by JORDAN6:29;
      then consider p3 being Point of TOP-REAL 2 such that
A9:   p=p3 & (LE q2,p3,P,p1,p2 & LE p3,q1,P,p1,p2) by A1,A7;
A10:  p`1=e by A1,A2,GOBOARD7:5;
A11:  LE p,p4,P,p1,p2 by A3,A9,JORDAN5C:13;
      for p6 being Point of TOP-REAL 2 st
      LE p6,p4,P,p1,p2 & LE p,p6,P,p1,p2 holds p6`1<=e
      proof
        let p6 be Point of TOP-REAL 2;
        assume
A12:    LE p6,p4,P,p1,p2 & LE p,p6,P,p1,p2;
        then
A13:    p6 in P by JORDAN5C:def 3;
        now per cases by A2,A13,Th19;
          case LE q1,p6,P,p1,p2;
            hence p6`1<=e by A3,A12;
          end;
          case
A14:        LE p6,q1,P,p1,p2;
            LE q2,p6,P,p1,p2 by A9,A12,JORDAN5C:13;
            then p6 in {qq where qq is Point of TOP-REAL 2: LE q2,qq,P,p1,
            p2 & LE qq,q1,P,p1,p2} by A14;
            then p6 in LSeg(q2,q1) by A7,JORDAN6:29;
            hence p6`1<=e by A1,A2,GOBOARD7:5;
          end;
        end;
        hence p6`1<=e;
      end;
      hence p is_Lout P,p1,p2,e by A1,A2,A3,A10,A11,Def3;
    end;
    case
A15:  LE q1,q2,P,p1,p2;
A16:  now per cases;
        case q1<>q2;
          then LSeg(q1,q2) is_an_arc_of q1,q2 by TOPREAL1:15;
          hence Segment(P,p1,p2,q1,q2) =LSeg(q1,q2) by A1,A2,A15,Th28;
        end;
        case
A17:      q1=q2;
          then LSeg(q2,q1)={q1} by TOPREAL1:7;
          hence Segment(P,p1,p2,q1,q2) =LSeg(q1,q2) by A2,A17,Th1;
        end;
      end;
      Segment(P,p1,p2,q1,q2) = {p3 where p3 is Point of TOP-REAL 2:
      LE q1,p3,P,p1,p2 & LE p3,q2,P,p1,p2} by JORDAN6:29;
      then consider p3 being Point of TOP-REAL 2 such that
A18:  p=p3 & (LE q1,p3,P,p1,p2 & LE p3,q2,P,p1,p2) by A1,A16;
A19:  p`1=e by A1,A2,GOBOARD7:5;
A20:  LE q2,p4,P,p1,p2 or LE p4,q2,P,p1,p2 by A1,A2,A4,A5,Th19;
      now
        assume LE p4,q2,P,p1,p2;
        then p4 in {qq where qq is Point of TOP-REAL 2: LE q1,qq,P,p1,p2 &
        LE qq,q2,P,p1,p2} by A3;
        then p4 in Segment(P,p1,p2,q1,q2) by JORDAN6:29;
        hence contradiction by A1,A2,A3,A16,GOBOARD7:5;
      end;
      then
A21:  LE p,p4,P,p1,p2 by A18,A20,JORDAN5C:13;
      for p6 being Point of TOP-REAL 2 st
      LE p6,p4,P,p1,p2 & LE p,p6,P,p1,p2 holds p6`1<=e
      proof
        let p6 be Point of TOP-REAL 2;
        assume
A22:    LE p6,p4,P,p1,p2 & LE p,p6,P,p1,p2;
        then LE q1,p6,P,p1,p2 by A18,JORDAN5C:13;
        hence p6`1<=e by A3,A22;
      end;
      hence p is_Lout P,p1,p2,e by A1,A2,A3,A19,A21,Def3;
    end;
  end;
  hence p is_Lout P,p1,p2,e;
end;

theorem
  for P being non empty Subset of TOP-REAL 2,
  p1,p2,q1,q2,p being Point of TOP-REAL 2,e being Real st p1`1<e & p2`1>e &
  q1 is_Rout P,p1,p2,e & q2`1=e & LSeg(q1,q2) c= P
  & p in LSeg(q1,q2) holds p is_Rout P,p1,p2,e
proof
  let P be non empty Subset of TOP-REAL 2,
  p1,p2,q1,q2,p be Point of TOP-REAL 2,e be Real;
  assume
A1: p1`1<e & p2`1>e & q1 is_Rout P,p1,p2,e & q2`1=e & LSeg(q1,q2) c= P
  & p in LSeg(q1,q2);
  then
A2: P is_an_arc_of p1,p2 & q1 in P & q1`1=e &
  (ex p4 being Point of TOP-REAL 2 st p4`1>e & LE q1,p4,P,p1,p2 &
  (for p5 being Point of TOP-REAL 2 st
  LE p5,p4,P,p1,p2 & LE q1,p5,P,p1,p2 holds p5`1>=e)) by Def4;
  consider p4 being Point of TOP-REAL 2 such that
A3: p4`1>e & LE q1,p4,P,p1,p2 & (for p5 being Point of TOP-REAL 2 st
  LE p5,p4,P,p1,p2 & LE q1,p5,P,p1,p2 holds p5`1>=e) by A1,Def4;
A4: q1 in LSeg(q1,q2) & q2 in LSeg(q1,q2) by TOPREAL1:6;
A5: p4 in P by A3,JORDAN5C:def 3;
  now per cases by A1,A2,A4,Th19;
    case
A6:   LE q2,q1,P,p1,p2;
A7:   now per cases;
        case q1<>q2;
          then LSeg(q2,q1) is_an_arc_of q2,q1 by TOPREAL1:15;
          hence Segment(P,p1,p2,q2,q1) =LSeg(q2,q1) by A1,A2,A6,Th28;
        end;
        case
A8:       q1=q2;
          then LSeg(q1,q2)={q1} by TOPREAL1:7;
          hence Segment(P,p1,p2,q2,q1) =LSeg(q2,q1) by A2,A8,Th1;
        end;
      end;
      Segment(P,p1,p2,q2,q1) = {p3 where p3 is Point of TOP-REAL 2:
      LE q2,p3,P,p1,p2 & LE p3,q1,P,p1,p2} by JORDAN6:29;
      then consider p3 being Point of TOP-REAL 2 such that
A9:   p=p3 & (LE q2,p3,P,p1,p2 & LE p3,q1,P,p1,p2) by A1,A7;
A10:  p`1=e by A1,A2,GOBOARD7:5;
A11:  LE p,p4,P,p1,p2 by A3,A9,JORDAN5C:13;
      for p6 being Point of TOP-REAL 2 st
      LE p6,p4,P,p1,p2 & LE p,p6,P,p1,p2 holds p6`1>=e
      proof
        let p6 be Point of TOP-REAL 2;
        assume
A12:    LE p6,p4,P,p1,p2 & LE p,p6,P,p1,p2;
        then
A13:    p6 in P by JORDAN5C:def 3;
        now per cases by A2,A13,Th19;
          case LE q1,p6,P,p1,p2;
            hence p6`1>=e by A3,A12;
          end;
          case
A14:        LE p6,q1,P,p1,p2;
            LE q2,p6,P,p1,p2 by A9,A12,JORDAN5C:13;
            then p6 in {qq where qq is Point of TOP-REAL 2: LE q2,qq,P,p1,
            p2 & LE qq,q1,P,p1,p2} by A14;
            then p6 in LSeg(q2,q1) by A7,JORDAN6:29;
            hence p6`1>=e by A1,A2,GOBOARD7:5;
          end;
        end;
        hence p6`1>=e;
      end;
      hence p is_Rout P,p1,p2,e by A1,A2,A3,A10,A11,Def4;
    end;
    case
A15:  LE q1,q2,P,p1,p2;
A16:  now per cases;
        case q1<>q2;
          then LSeg(q1,q2) is_an_arc_of q1,q2 by TOPREAL1:15;
          hence Segment(P,p1,p2,q1,q2) =LSeg(q1,q2) by A1,A2,A15,Th28;
        end;
        case
A17:      q1=q2;
          then LSeg(q2,q1)={q1} by TOPREAL1:7;
          hence Segment(P,p1,p2,q1,q2) =LSeg(q1,q2) by A2,A17,Th1;
        end;
      end;
      Segment(P,p1,p2,q1,q2) = {p3 where p3 is Point of TOP-REAL 2:
      LE q1,p3,P,p1,p2 & LE p3,q2,P,p1,p2} by JORDAN6:29;
      then consider p3 being Point of TOP-REAL 2 such that
A18:  p=p3 & (LE q1,p3,P,p1,p2 & LE p3,q2,P,p1,p2) by A1,A16;
A19:  p`1=e by A1,A2,GOBOARD7:5;
A20:  LE q2,p4,P,p1,p2 or LE p4,q2,P,p1,p2 by A1,A2,A4,A5,Th19;
      now
        assume LE p4,q2,P,p1,p2;
        then p4 in {qq where qq is Point of TOP-REAL 2: LE q1,qq,P,p1,p2 &
        LE qq,q2,P,p1,p2} by A3;
        then p4 in Segment(P,p1,p2,q1,q2) by JORDAN6:29;
        hence contradiction by A1,A2,A3,A16,GOBOARD7:5;
      end;
      then
A21:  LE p,p4,P,p1,p2 by A18,A20,JORDAN5C:13;
      for p6 being Point of TOP-REAL 2 st
      LE p6,p4,P,p1,p2 & LE p,p6,P,p1,p2 holds p6`1>=e
      proof
        let p6 be Point of TOP-REAL 2;
        assume
A22:    LE p6,p4,P,p1,p2 & LE p,p6,P,p1,p2;
        then LE q1,p6,P,p1,p2 by A18,JORDAN5C:13;
        hence p6`1>=e by A3,A22;
      end;
      hence p is_Rout P,p1,p2,e by A1,A2,A3,A19,A21,Def4;
    end;
  end;
  hence p is_Rout P,p1,p2,e;
end;

theorem
  for P being non empty Subset of TOP-REAL 2,
  p1,p2,p being Point of TOP-REAL 2,e being Real st
  P is_S-P_arc_joining p1,p2 & p1`1<e & p2`1>e & p in P & p`1=e
  holds p is_Lin P,p1,p2,e or p is_Rin P,p1,p2,e
proof
  let P be non empty Subset of TOP-REAL 2,
  p1,p2,p be Point of TOP-REAL 2,e be Real;
  assume
A1: P is_S-P_arc_joining p1,p2 & p1`1<e & p2`1>e & p in P & p`1=e;
  then
A2: P is_an_arc_of p1,p2 by TOPREAL4:3;
  consider f being FinSequence of (TOP-REAL 2) such that
A3: f is_S-Seq & P = L~f & p1=f/.1 & p2=f/.len f by A1,TOPREAL4:def 1;
  f is one-to-one & len f >= 2 & f is unfolded s.n.c. special
  by A3,TOPREAL1:def 10;
  then
A4: len f >1 by XXREAL_0:2;
A5: L~f = union { LSeg(f,i) where i is Element of NAT :
  1 <= i & i+1 <= len f } by TOPREAL1:def 6;
  then consider Y being set such that
A6: p in Y & Y in
  { LSeg(f,i) where i is Element of NAT : 1 <= i & i+1 <= len f }
  by A1,A3,TARSKI:def 4;
A7: Y c= L~f
  proof
    let x be set;
    assume x in Y;
    hence x in L~f by A5,A6,TARSKI:def 4;
  end;
  consider i being Element of NAT such that
A8: Y=LSeg(f,i) & 1 <= i & i+1 <= len f by A6;
A9: i<len f by A8,NAT_1:13;
  then
A10: i in dom f by A8,FINSEQ_3:27;
A11: 1<len f by A8,A9,XXREAL_0:2;
A12: 1<i+1 by A8,NAT_1:13;
  defpred P[Nat] means
  for p being Point of TOP-REAL 2 st p=f.(i-'$1) holds p`1<>e;
  1 in dom f by A11,FINSEQ_3:27;
  then f/.1=f.1 by PARTFUN1:def 8;
  then
A13: P[i-'1] by A1,A3,A8,JCT_MISC:7;
  then
A14: ex k being Nat st P[k];
  ex k being Nat st P[k] & for n being Nat st P[n]
  holds k <= n from NAT_1:sch 5(A14);
  then consider k being Nat such that
A15: P[k] & for n being Nat st P[n] holds k <= n;
  i-'k <=i by BINARITH:52;
  then
A16: i-'k <len f by A9,XXREAL_0:2;
A17: i-1>=0 by A8,XREAL_1:50;
  k<=i-'1 by A13,A15;
  then k<=i-1 by A17,BINARITH:def 3;
  then k+1<=i-1+1 by XREAL_1:9;
  then
A18: 1+k-k<=i-k by XREAL_1:11;
  then
A19: i-'k>=1 by BINARITH:def 3;
  then
A20: i-'k in dom f by A16,FINSEQ_3:27;
  then
A21: f/.(i-'k)=f.(i-'k) by PARTFUN1:def 8;
  then reconsider pk=f.(i-'k) as Point of TOP-REAL 2;
A22: i-'k=i-k by A18,BINARITH:def 3;
A23: pk`1<> e by A15;
  now per cases by A23,XXREAL_0:1;
    case
A24:  pk`1<e;
      now per cases;
        case
A25:      k=0;
          set p44=f/.i;
A26:      pk=f.i by A25,BINARITH:58
            .=p44 by A10,PARTFUN1:def 8;
A27:      LSeg(f,i)=LSeg(f/.i,f/.(i+1)) by A8,TOPREAL1:def 5;
          reconsider g=mid(f,i,len f) as FinSequence of (TOP-REAL 2);
A28:      len g=len f -'i+1 by A4,A8,A9,JORDAN3:27;
A29:      len f-i>0 by A9,XREAL_1:52;
          then len f-'i=len f-i by BINARITH:def 3;
          then
A30:      len f-'i+1>0+1 by A29,XREAL_1:10;
          then
A31:      1+1<=len g by A28,NAT_1:13;
          1+(1+i)<=1+len f by A8,XREAL_1:9;
          then
A32:      1+1+i-i<=len f+1-i by XREAL_1:11;
          then
A33:      1<=i & i<=len f & len f<=len f & 1<=1 &
          1<=len f+1-i by A8,NAT_1:13,XXREAL_0:2;
          1 in dom g by A28,A30,FINSEQ_3:27;
          then
A34:      g/.1=g.1 by PARTFUN1:def 8
            .=f.(1-1+i) by A33,JORDAN3:31
            .=f/.i by A10,PARTFUN1:def 8;
          reconsider ia=i+1 as Element of NAT;
          ia in Seg len f by A8,A12,FINSEQ_1:3;
          then
A35:      i+1 in dom f by FINSEQ_1:def 3;
          1+1 in Seg len g by A31,FINSEQ_1:3;
          then 1+1 in dom g by FINSEQ_1:def 3;
          then
A36:      g/.(1+1)=g.(1+1) by PARTFUN1:def 8
            .=f.(1+1-1+i) by A8,A9,A32,JORDAN3:31
            .=f/.(i+1) by A35,PARTFUN1:def 8;
          LSeg(f,i)=LSeg(f/.i,f/.(i+1)) by A8,TOPREAL1:def 5
            .=LSeg(g,1) by A31,A34,A36,TOPREAL1:def 5;
          then p in Y & Y in { LSeg(g,i2) where i2 is Element of NAT :
          1 <= i2 & i2+1 <= len g } by A6,A8,A31;
          then p in union{ LSeg(g,i2) where i2 is Element of NAT :
          1 <= i2 & i2+1 <= len g } by TARSKI:def 4;
          then
A37:      p in L~mid(f,i,len f) by TOPREAL1:def 6;
          then
A38:      LE p44,p,P,p1,p2 by A3,A8,A9,SPRECT_4:4;
          for p5 being Point of TOP-REAL 2 st
          LE p44,p5,P,p1,p2 & LE p5,p,P,p1,p2 holds p5`1<=e
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A39:        LE p44,p5,P,p1,p2 & LE p5,p,P,p1,p2;
            Segment(P,p1,p2,p44,p)={p8 where p8 is Point of TOP-REAL 2:
            LE p44,p8,P,p1,p2 & LE p8,p,P,p1,p2} by JORDAN6:29;
            then
A40:        p5 in Segment(P,p1,p2,p44,p) by A39;
            p44 in LSeg(f/.i,f/.(i+1)) by TOPREAL1:6;
            then LSeg(p44,p) c= LSeg(f,i) by A6,A8,A27,TOPREAL1:12;
            then
A41:        LSeg(p44,p) c= P by A3,A7,A8,XBOOLE_1:1;
            now per cases;
              case p44<>p;
                then LSeg(p44,p) is_an_arc_of p44,p by TOPREAL1:15;
                then Segment(P,p1,p2,p44,p)=LSeg(p44,p) by A2,A3,A8,A9,A37,A41,
                Th28,SPRECT_4:4;
                hence p5`1<=e by A1,A24,A26,A40,TOPREAL1:9;
              end;
              case p44=p;
                hence p5`1<=e by A1,A24,A26;
              end;
            end;
            hence p5`1<=e;
          end;

hence p is_Lin P,p1,p2,e or p is_Rin P,p1,p2,e by A1,A2,A24,A26,A38,Def1;
        end;
        case k<>0;
          then
A42:      k>0;
          then
A43:      k>=0+1 by NAT_1:13;
          set p44=f/.i;
A44:      i>i-'k by A19,A43,BINARITH:69;
          then
A45:      i>1 by A19,XXREAL_0:2;
A46:      now
            assume
A47:        (f/.i)`1<>e;
            f.i=f/.i by A10,PARTFUN1:def 8;
            then for p9 being Point of TOP-REAL 2 st p9=f.(i-'0)
            holds p9`1<>e by A47,BINARITH:58;
            hence contradiction by A15,A42;
          end;
A48:      LSeg(f,i)=LSeg(f/.i,f/.(i+1)) by A8,TOPREAL1:def 5;
          reconsider g=mid(f,i,len f) as FinSequence of (TOP-REAL 2);
A49:      len g=len f -'i+1 by A4,A8,A9,JORDAN3:27;
A50:      len f-i>0 by A9,XREAL_1:52;
          then len f-'i=len f-i by BINARITH:def 3;
          then
A51:      len f-'i+1>0+1 by A50,XREAL_1:10;
          then
A52:      1+1<=len g by A49,NAT_1:13;
          1+(1+i)<=1+len f by A8,XREAL_1:9;
          then
A53:      1+1+i-i<=len f+1-i by XREAL_1:11;
          then
A54:      1<=i & i<=len f & len f<=len f & 1<=1 &
          1<=len f+1-i by A8,NAT_1:13,XXREAL_0:2;
          1 in dom g by A49,A51,FINSEQ_3:27;
          then
A55:      g/.1=g.1 by PARTFUN1:def 8
            .=f.(1-1+i) by A54,JORDAN3:31
            .=f/.i by A10,PARTFUN1:def 8;
          reconsider ia=i+1 as Element of NAT;
          ia in Seg len f by A8,A12,FINSEQ_1:3;
          then
A56:      i+1 in dom f by FINSEQ_1:def 3;
          1+1 in Seg len g by A52,FINSEQ_1:3;
          then 1+1 in dom g by FINSEQ_1:def 3;
          then
A57:      g/.(1+1)=g.(1+1) by PARTFUN1:def 8
            .=f.(1+1-1+i) by A8,A9,A53,JORDAN3:31
            .=f/.(i+1) by A56,PARTFUN1:def 8;
          LSeg(f,i)=LSeg(f/.i,f/.(i+1)) by A8,TOPREAL1:def 5
            .=LSeg(g,1) by A52,A55,A57,TOPREAL1:def 5;
          then p in Y & Y in { LSeg(g,i2) where i2 is Element of NAT :
          1 <= i2 & i2+1 <= len g } by A6,A8,A52;
          then p in union{ LSeg(g,i2) where i2 is Element of NAT
          : 1 <= i2 & i2+1 <= len g} by TARSKI:def 4;
          then
A58:      p in L~mid(f,i,len f) by TOPREAL1:def 6;
          then
A59:      LE p44,p,P,p1,p2 by A3,A8,A9,SPRECT_4:4;
A60:      for p5 being Point of TOP-REAL 2 st
          LE p44,p5,P,p1,p2 & LE p5,p,P,p1,p2 holds p5`1<=e
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A61:        LE p44,p5,P,p1,p2 & LE p5,p,P,p1,p2;
            Segment(P,p1,p2,p44,p)={p8 where p8 is Point of TOP-REAL 2:
            LE p44,p8,P,p1,p2 & LE p8,p,P,p1,p2} by JORDAN6:29;
            then
A62:        p5 in Segment(P,p1,p2,p44,p) by A61;
            p44 in LSeg(f/.i,f/.(i+1)) by TOPREAL1:6;
            then LSeg(p44,p) c= LSeg(f,i) by A6,A8,A48,TOPREAL1:12;
            then
A63:        LSeg(p44,p) c= P by A3,A7,A8,XBOOLE_1:1;
            now per cases;
              case p44<>p;
                then LSeg(p44,p) is_an_arc_of p44,p by TOPREAL1:15;
                then Segment(P,p1,p2,p44,p)=LSeg(p44,p) by A2,A3,A8,A9,A58,A63,
                Th28,SPRECT_4:4;
                hence p5`1<=e by A1,A46,A62,TOPREAL1:9;
              end;
              case p44=p;
                then Segment(P,p1,p2,p44,p)={p44} by A1,Th1,TOPREAL4:3;
                hence p5`1<=e by A46,A62,TARSKI:def 1;
              end;
            end;
            hence p5`1<=e;
          end;
          reconsider g=mid(f,1,i) as FinSequence of (TOP-REAL 2);
A64:      len g=i -'1+1 by A8,A9,A11,JORDAN3:27;
          i-1>0 by A45,XREAL_1:52;
          then
A65:      i-'1=i-1 by BINARITH:def 3;
A66:      i-'k <i by A19,A43,BINARITH:69;
A67:      i-'k+1<=len g by A44,A64,A65,NAT_1:13;
A68:      1<=(i-'k) by A18,BINARITH:def 3;
A69:      1<=1 & 1<=i & i<=len f & 1<=i-'k &
          i-'k<=i+1-1 by A8,A19,A43,BINARITH:69,NAT_1:13;
A70:      i-'k+1<=i by A44,NAT_1:13;
          i-'k in Seg len g by A19,A64,A65,A66,FINSEQ_1:3;
          then i-'k in dom g by FINSEQ_1:def 3;
          then
A71:      g/.(i-'k)=g.(i-'k) by PARTFUN1:def 8
            .=f.(i-'k-1+1) by A69,JORDAN3:31
            .=f/.(i-'k) by A20,PARTFUN1:def 8;
          LSeg(g,i-'k)=LSeg(g/.(i-'k),g/.(i-'k+1)) by A19,A67,TOPREAL1:def 5;
          then pk in LSeg(g,i-'k) & LSeg(g,i-'k) in
          { LSeg(g,i2) where i2 is Element of NAT : 1 <= i2 & i2+1 <= len g }
          by A21,A64,A65,A68,A70,A71,TOPREAL1:6;
          then pk in union{ LSeg(g,i2) where i2 is Element of NAT :
          1 <= i2 & i2+1 <= len g } by TARSKI:def 4;
          then pk in L~mid(f,1,i) by TOPREAL1:def 6;
          then
A72:      LE pk,p44,P,p1,p2 by A3,A9,A45,SPRECT_3:33;
          then
A73:      LE pk,p,P,p1,p2 by A59,JORDAN5C:13;
A74:      p44 in P by A72,JORDAN5C:def 3;
A75:      now
            assume not for p51 being Point of TOP-REAL 2 st
            LE pk,p51,P,p1,p2 & LE p51,p44,P,p1,p2 holds p51`1<=e;
            then consider p51 being Point of TOP-REAL 2 such that
A76:        LE pk,p51,P,p1,p2 & LE p51,p44,P,p1,p2 & p51`1>e;
            p51 in P by A76,JORDAN5C:def 3;
            then consider Y3 being set such that
A77:        p51 in Y3 & Y3 in
            { LSeg(f,i5) where i5 is Element of NAT : 1 <= i5 & i5+1 <= len f }
            by A3,A5,TARSKI:def 4;
            consider kk being Element of NAT such that
A78:        Y3=LSeg(f,kk) & (1 <= kk & kk+1 <= len f) by A77;
A79:        kk<len f by A78,NAT_1:13;
            then kk in Seg len f by A78,FINSEQ_1:3;
            then
A80:        kk in dom f by FINSEQ_1:def 3;
            1<kk+1 by A78,NAT_1:13;
            then kk+1 in Seg len f by A78,FINSEQ_1:3;
            then
A81:        kk+1 in dom f by FINSEQ_1:def 3;
A82:        LSeg(f,kk)=LSeg(f/.kk,f/.(kk+1)) by A78,TOPREAL1:def 5;
A83:        LE p51,f/.(kk+1),L~f,f/.1,f/.(len f) by A3,A77,A78,JORDAN5C:26;
            now per cases by A76,A77,A78,A82,Th2;
              case
A84:            (f/.kk)`1>e;
                set k2=i-'kk;
                LE f/.kk,p51,L~f,f/.1,f/.(len f) by A3,A77,A78,JORDAN5C:25;
                then
A85:            LE f/.kk,p44,L~f,f/.1,f/.(len f) by A3,A76,JORDAN5C:13;
                now
                  assume i-kk<=0;
                  then i-kk+kk<=0+kk by XREAL_1:9;
                  then LE f/.i,f/.kk,L~f,f/.1,f/.(len f)
                  by A3,A45,A79,JORDAN5C:24;

hence contradiction by A1,A3,A46,A84,A85,JORDAN5C:12,TOPREAL4:3;
                end;
                then
A86:            i-'kk=i-kk by BINARITH:def 3;
                then i-k2>0 by A78;
                then
A87:            i-'k2>0 by BINARITH:def 3;
A88:            i-k2=i-'k2 by A86,BINARITH:def 3;
                i-'k2>=0+1 by A87,NAT_1:13;
                then P[k2] by A9,A84,A86,A88,BINARITH:68,FINSEQ_4:24;
                then k2>=k by A15;
                then i-k2<=i-k by REAL_2:106;
                then
A89:            LE f/.(i-'k2),f/.(i-'k),L~f,f/.1,f/.(len f )
                by A3,A16,A22,A78,A86,A88,JORDAN5C:24;
A90:            LE f/.(i-'k),p51,L~f,f/.1,f/.(len f) by A3,A20,A76,
                PARTFUN1:def 8;
A91:            LE f/.(i-'k),f/.(kk+1),L~f,f/.1,f/.(len f)
                by A3,A21,A76,A83,JORDAN5C:13;
                Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1))
                ={p8 where p8 is Point of TOP-REAL 2:
                LE f/.kk,p8,L~f,f/.1,f/.(len f)
                & LE p8,f/.(kk+1),L~f,f/.1,f/.(len f)} by JORDAN6:29;
                then
A92:            f/.(i-'k) in Segment(L~f,f/.1,f/.(len f),f /.kk,f/.(kk+ 1))
                by A86,A88,A89,A91;
A93:            LSeg(f/.kk,f/.(kk+1)) c= L~f
                proof
                  let z be set;
                  assume
A94:              z in LSeg(f/.kk,f/.(kk+1));
                  LSeg(f/.kk,f/.(kk+1)) in
                  { LSeg(f,i7) where i7 is Element of NAT :
                  1 <= i7 & i7+1 <= len f } by A78,A82;
                  hence z in L~f by A5,A94,TARSKI:def 4;
                end;
A95:            f is special by A3,TOPREAL1:def 10;
A96:            f is one-to-one by A3,TOPREAL1:def 10;
                kk<kk+1 by NAT_1:13;
                then
A97:            f.kk <> f.(kk+1) by A80,A81,A96,FUNCT_1:def 8;
A98:            f/.kk=f.kk by A80,PARTFUN1:def 8;
                f/.(kk+1)=f.(kk+1) by A81,PARTFUN1:def 8;
                then LSeg(f/.kk,f/.(kk+1)) is_an_arc_of f/.kk,f/.(kk+1)
                by A97,A98,TOPREAL1:15;
                then
A99:            Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1 ))
                =LSeg(f/.kk,f/.(kk+1)) by A2,A3,A86,A88,A89,A91,A93,Th28,
                JORDAN5C:13;
A100:           (f/.kk)`1=(f/.(kk+1))`1 or
                (f/.kk)`2=(f/.(kk+1))`2 by A78,A95,TOPREAL1:def 7;
                (f/.(kk+1))`1<e by A21,A24,A84,A92,A99,Th3;
                then (f/.kk)`1> (f/.(kk+1))`1 by A84,XXREAL_0:2;
                then (f/.(i-'k))`1>=p51`1
                by A3,A77,A78,A79,A82,A90,A92,A99,A100,Th6;
                hence contradiction by A21,A24,A76,XXREAL_0:2;
              end;
              case
A101:           (f/.(kk+1))`1 >e & (f/.kk)`1<=e;
                then
A102:           (f/.kk)`1<(f/.(kk+1))`1 by XXREAL_0:2;
                set k2=i-'kk-'1;
A103:           LSeg(f/.kk,f/.(kk+1)) c= L~f
                proof
                  let z be set;
                  assume
A104:             z in LSeg(f/.kk,f/.(kk+1));
                  LSeg(f/.kk,f/.(kk+1)) in
                  { LSeg(f,i7) where i7 is Element of NAT :
                  1 <= i7 & i7+1 <= len f } by A78,A82;
                  hence z in L~f by A5,A104,TARSKI:def 4;
                end;
A105:           Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1))
                ={p8 where p8 is Point of TOP-REAL 2:
                LE f/.kk,p8,L~f,f/.1,f/.(len f)
                & LE p8,f/.(kk+1),L~f,f/.1,f/.(len f)} by JORDAN6:29;
A106:           f is one-to-one by A3,TOPREAL1:def 10;
                kk<kk+1 by NAT_1:13;
                then
A107:           f.kk <> f.(kk+1) by A80,A81,A106,FUNCT_1:def 8;
A108:           f/.kk=f.kk by A80,PARTFUN1:def 8;
                f/.(kk+1)=f.(kk+1) by A81,PARTFUN1:def 8;
                then LSeg(f/.kk,f/.(kk+1)) is_an_arc_of f/.kk,f/.(kk+1)
                by A107,A108,TOPREAL1:15;
                then
A109:           Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1 ))
                =LSeg(f/.kk,f/.(kk+1)) by A2,A3,A78,A103,Th28,JORDAN5C:23;
                LE f/.kk,p51,L~f,f/.1,f/.(len f) by A3,A77,A78,JORDAN5C:25;
                then
A110:           LE f/.kk,p44,L~f,f/.1,f/.(len f) by A3,A76,JORDAN5C:13;
A111:           now
                  assume i-kk-1<=0;
                  then i-(kk+1)+(kk+1)<=0+(kk+1) by XREAL_1:9;
                  then LE f/.i,f/.(kk+1),L~f,f/.1,f/.(len f)
                  by A3,A45,A78,JORDAN5C:24;
                  then
A112:             f/.i in LSeg(f/.kk,f/.(kk+1)) by A105,A109,A110;
A113:             LSeg(f,kk)=LSeg(f/.kk,f/.(kk+1)) by A78,TOPREAL1:def 5;
                  f is special by A3,TOPREAL1:def 10;
                  then (f/.kk)`1=(f/.(kk+1))`1 or
                  (f/.kk)`2=(f/.(kk+1))`2 by A78,TOPREAL1:def 7;
                  hence contradiction
                  by A3,A46,A76,A77,A78,A79,A102,A112,A113,Th7;
                end;
                then i-kk-1+1>=0+1 by XREAL_1:9;
                then i-'kk=i-kk by BINARITH:def 3;
                then
A114:           i-k2=i-(i-kk-1) by A111,BINARITH:def 3
                  .=kk+1;
                then
A115:           i-'k2>0 by BINARITH:def 3;
A116:           i-k2=i-'k2 by A114,BINARITH:def 3;
A117:           i-'k2>=0+1 by A115,NAT_1:13;
                then P[k2] by A9,A101,A114,A116,BINARITH:68,FINSEQ_4:24;
                then k2>=k by A15;
                then i-k2<=i-k by REAL_2:106;
                then
A118:           LE f/.(kk+1),f/.(i-'k),L~f,f/.1,f/.(len f)
                by A3,A16,A22,A114,A116,A117,JORDAN5C:24;
                LE f/.(i-'k),f/.(kk+1),L~f,f/.1,f/.(len f)
                by A3,A21,A76,A83,JORDAN5C:13;
                hence contradiction by A1,A3,A21,A24,A101,A118,JORDAN5C:12
                ,TOPREAL4:3;
              end;
            end;
            hence contradiction;
          end;
          for p5 being Point of TOP-REAL 2 st
          LE pk,p5,P,p1,p2 & LE p5,p,P,p1,p2 holds p5`1<=e
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A119:       LE pk,p5,P,p1,p2 & LE p5,p,P,p1,p2;
            then
A120:       p5 in P by JORDAN5C:def 3;
            now per cases by A1,A74,A120,Th19,TOPREAL4:3;
              case LE p5,p44,P,p1,p2;
                hence p5`1<=e by A75,A119;
              end;
              case LE p44,p5,P,p1,p2;
                hence p5`1<=e by A60,A119;
              end;
            end;
            hence p5`1<=e;
          end;
          hence p is_Lin P,p1,p2,e or p is_Rin P,p1,p2,e by A1,A2,A24,A73,Def1;
        end;
      end;
      hence p is_Lin P,p1,p2,e or p is_Rin P,p1,p2,e;
    end;
    case
A121: pk`1>e;
      now per cases;
        case
A122:     k=0;
          set p44=f/.i;
A123:     pk=f.i by A122,BINARITH:58
            .=p44 by A10,PARTFUN1:def 8;
A124:     LSeg(f,i)=LSeg(f/.i,f/.(i+1)) by A8,TOPREAL1:def 5;
          reconsider g=mid(f,i,len f) as FinSequence of (TOP-REAL 2);
A125:     len g=len f -'i+1 by A4,A8,A9,JORDAN3:27;
A126:     len f-i>0 by A9,XREAL_1:52;
          then len f-'i=len f-i by BINARITH:def 3;
          then
A127:     len f-'i+1>0+1 by A126,XREAL_1:10;
          then
A128:     1+1<=len g by A125,NAT_1:13;
          1+(1+i)<=1+len f by A8,XREAL_1:9;
          then
A129:     1+1+i-i<=len f+1-i by XREAL_1:11;
          then
A130:     1<=i & i<=len f & len f<=len f & 1<=1 &
          1<=len f+1-i by A8,NAT_1:13,XXREAL_0:2;
          1 in Seg len g by A125,A127,FINSEQ_1:3;
          then 1 in dom g by FINSEQ_1:def 3;
          then
A131:     g/.1=g.1 by PARTFUN1:def 8
            .=f.(1-1+i) by A130,JORDAN3:31
            .=f/.i by A10,PARTFUN1:def 8;
          reconsider ia=i+1 as Element of NAT;
          ia in Seg len f by A8,A12,FINSEQ_1:3;
          then
A132:     i+1 in dom f by FINSEQ_1:def 3;
          1+1 in Seg len g by A128,FINSEQ_1:3;
          then 1+1 in dom g by FINSEQ_1:def 3;
          then
A133:     g/.(1+1)=g.(1+1) by PARTFUN1:def 8
            .=f.(1+1-1+i) by A8,A9,A129,JORDAN3:31
            .=f/.(i+1) by A132,PARTFUN1:def 8;
          LSeg(f,i)=LSeg(f/.i,f/.(i+1)) by A8,TOPREAL1:def 5
            .=LSeg(g,1) by A128,A131,A133,TOPREAL1:def 5;
          then p in Y & Y in { LSeg(g,i2) where i2 is Element of NAT :
          1 <= i2 & i2+1 <= len g } by A6,A8,A128;
          then p in union{ LSeg(g,i2) where i2 is Element of NAT :
          1 <= i2 & i2+1 <= len g } by TARSKI:def 4;
          then
A134:     p in L~mid(f,i,len f) by TOPREAL1:def 6;
          then
A135:     LE p44,p,P,p1,p2 by A3,A8,A9,SPRECT_4:4;
          for p5 being Point of TOP-REAL 2 st
          LE p44,p5,P,p1,p2 & LE p5,p,P,p1,p2 holds p5`1>=e
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A136:       LE p44,p5,P,p1,p2 & LE p5,p,P,p1,p2;
            Segment(P,p1,p2,p44,p)={p8 where p8 is Point of TOP-REAL 2:
            LE p44,p8,P,p1,p2 & LE p8,p,P,p1,p2} by JORDAN6:29;
            then
A137:       p5 in Segment(P,p1,p2,p44,p) by A136;
            p44 in LSeg(f/.i,f/.(i+1)) by TOPREAL1:6;
            then LSeg(p44,p) c= LSeg(f,i) by A6,A8,A124,TOPREAL1:12;
            then
A138:       LSeg(p44,p) c= P by A3,A7,A8,XBOOLE_1:1;
            now per cases;
              case p44<>p;
                then LSeg(p44,p) is_an_arc_of p44,p by TOPREAL1:15;

then Segment(P,p1,p2,p44,p)=LSeg(p44,p) by A2,A3,A8,A9,A134,A138,Th28,
                SPRECT_4:4;
                hence p5`1>=e by A1,A121,A123,A137,TOPREAL1:9;
              end;
              case p44=p;
                hence p5`1>=e by A1,A121,A123;
              end;
            end;
            hence p5`1>=e;
          end;

hence p is_Lin P,p1,p2,e or p is_Rin P,p1,p2,e by A1,A2,A121,A123,A135,Def2;
        end;
        case k<>0;
          then
A139:     k>0;
          then
A140:     k>=0+1 by NAT_1:13;
          set p44=f/.i;
A141:     i>i-'k by A19,A140,BINARITH:69;
          then
A142:     i>1 by A19,XXREAL_0:2;
A143:     now
            assume
A144:       (f/.i)`1<>e;
            f.i=f/.i by A10,PARTFUN1:def 8;
            then for p9 being Point of TOP-REAL 2 st p9=f.(i-'0)
            holds p9`1<>e by A144,BINARITH:58;
            hence contradiction by A15,A139;
          end;
A145:     LSeg(f,i)=LSeg(f/.i,f/.(i+1)) by A8,TOPREAL1:def 5;
          reconsider g=mid(f,i,len f) as FinSequence of (TOP-REAL 2);
A146:     len g=len f -'i+1 by A4,A8,A9,JORDAN3:27;
A147:     len f-i>0 by A9,XREAL_1:52;
          then len f-'i=len f-i by BINARITH:def 3;
          then
A148:     len f-'i+1>0+1 by A147,XREAL_1:10;
          then
A149:     1+1<=len g by A146,NAT_1:13;
          1+(1+i)<=1+len f by A8,XREAL_1:9;
          then
A150:     1+1+i-i<=len f+1-i by XREAL_1:11;
          then
A151:     1<=i & i<=len f & len f<=len f & 1<=1 &
          1<=len f+1-i by A8,NAT_1:13,XXREAL_0:2;
          1 in Seg len g by A146,A148,FINSEQ_1:3;
          then 1 in dom g by FINSEQ_1:def 3;
          then
A152:     g/.1=g.1 by PARTFUN1:def 8
            .=f.(1-1+i) by A151,JORDAN3:31
            .=f/.i by A10,PARTFUN1:def 8;
          reconsider ia=i+1 as Element of NAT;
          ia in Seg len f by A8,A12,FINSEQ_1:3;
          then
A153:     i+1 in dom f by FINSEQ_1:def 3;
          1+1 in Seg len g by A149,FINSEQ_1:3;
          then 1+1 in dom g by FINSEQ_1:def 3;
          then
A154:     g/.(1+1)=g.(1+1) by PARTFUN1:def 8
            .=f.(1+1-1+i) by A8,A9,A150,JORDAN3:31
            .=f/.(i+1) by A153,PARTFUN1:def 8;
          LSeg(f,i)=LSeg(f/.i,f/.(i+1)) by A8,TOPREAL1:def 5
            .=LSeg(g,1) by A149,A152,A154,TOPREAL1:def 5;
          then p in Y & Y in { LSeg(g,i2) where i2 is Element of NAT :
          1 <= i2 & i2+1 <= len g } by A6,A8,A149;
          then p in union{ LSeg(g,i2) where i2 is Element of NAT :
          1 <= i2 & i2+1 <= len g } by TARSKI:def 4;
          then
A155:     p in L~mid(f,i,len f) by TOPREAL1:def 6;
          then
A156:     LE p44,p,P,p1,p2 by A3,A8,A9,SPRECT_4:4;
A157:     for p5 being Point of TOP-REAL 2 st
          LE p44,p5,P,p1,p2 & LE p5,p,P,p1,p2 holds p5`1>=e
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A158:       LE p44,p5,P,p1,p2 & LE p5,p,P,p1,p2;
            Segment(P,p1,p2,p44,p)={p8 where p8 is Point of TOP-REAL 2:
            LE p44,p8,P,p1,p2 & LE p8,p,P,p1,p2} by JORDAN6:29;
            then
A159:       p5 in Segment(P,p1,p2,p44,p) by A158;
            p44 in LSeg(f/.i,f/.(i+1)) by TOPREAL1:6;
            then LSeg(p44,p) c= LSeg(f,i) by A6,A8,A145,TOPREAL1:12;
            then
A160:       LSeg(p44,p) c= P by A3,A7,A8,XBOOLE_1:1;
            now per cases;
              case p44<>p;
                then LSeg(p44,p) is_an_arc_of p44,p by TOPREAL1:15;

then Segment(P,p1,p2,p44,p)=LSeg(p44,p) by A2,A3,A8,A9,A155,A160,Th28,
                SPRECT_4:4;
                hence p5`1>=e by A1,A143,A159,TOPREAL1:9;
              end;
              case p44=p;
                then Segment(P,p1,p2,p44,p)={p44} by A1,Th1,TOPREAL4:3;
                hence p5`1>=e by A143,A159,TARSKI:def 1;
              end;
            end;
            hence p5`1>=e;
          end;
          reconsider g=mid(f,1,i) as FinSequence of (TOP-REAL 2);
A161:     len g=i -'1+1 by A8,A9,A11,JORDAN3:27;
          i-1>0 by A142,XREAL_1:52;
          then
A162:     i-'1=i-1 by BINARITH:def 3;
A163:     i-'k <i by A19,A140,BINARITH:69;
A164:     i-'k+1<=len g by A141,A161,A162,NAT_1:13;
A165:     1<=(i-'k) by A18,BINARITH:def 3;
A166:     1<=1 & 1<=i & i<=len f & 1<=i-'k &
          i-'k<=i+1-1 by A8,A19,A140,BINARITH:69,NAT_1:13;
A167:     i-'k+1<=i by A141,NAT_1:13;
          i-'k in Seg len g by A19,A161,A162,A163,FINSEQ_1:3;
          then i-'k in dom g by FINSEQ_1:def 3;
          then
A168:     g/.(i-'k)=g.(i-'k) by PARTFUN1:def 8
            .=f.(i-'k-1+1) by A166,JORDAN3:31
            .=f/.(i-'k) by A20,PARTFUN1:def 8;
          LSeg(g,i-'k)=LSeg(g/.(i-'k),g/.(i-'k+1)) by A19,A164,TOPREAL1:def 5;
          then pk in LSeg(g,i-'k) & LSeg(g,i-'k) in
          { LSeg(g,i2) where i2 is Element of NAT : 1 <= i2 & i2+1 <= len g }
          by A21,A161,A162,A165,A167,A168,TOPREAL1:6;
          then pk in union{ LSeg(g,i2) where i2 is Element of NAT :
          1 <= i2 & i2+1 <= len g } by TARSKI:def 4;
          then pk in L~mid(f,1,i) by TOPREAL1:def 6;
          then
A169:     LE pk,p44,P,p1,p2 by A3,A9,A142,SPRECT_3:33;
          then
A170:     LE pk,p,P,p1,p2 by A156,JORDAN5C:13;
A171:     p44 in P by A169,JORDAN5C:def 3;
A172:     now
            assume not for p51 being Point of TOP-REAL 2 st
            LE pk,p51,P,p1,p2 & LE p51,p44,P,p1,p2 holds p51`1>=e;
            then consider p51 being Point of TOP-REAL 2 such that
A173:       LE pk,p51,P,p1,p2 & LE p51,p44,P,p1,p2 & p51`1<e;
            p51 in P by A173,JORDAN5C:def 3;
            then consider Y3 being set such that
A174:       p51 in Y3 & Y3 in
            { LSeg(f,i5) where i5 is Element of NAT : 1 <= i5 & i5+1 <= len f }
            by A3,A5,TARSKI:def 4;
            consider kk being Element of NAT such that
A175:       Y3=LSeg(f,kk) & (1 <= kk & kk+1 <= len f) by A174;
A176:       kk<len f by A175,NAT_1:13;
            then kk in Seg len f by A175,FINSEQ_1:3;
            then
A177:       kk in dom f by FINSEQ_1:def 3;
            1<kk+1 by A175,NAT_1:13;
            then kk+1 in Seg len f by A175,FINSEQ_1:3;
            then
A178:       kk+1 in dom f by FINSEQ_1:def 3;
A179:       LSeg(f,kk)=LSeg(f/.kk,f/.(kk+1)) by A175,TOPREAL1:def 5;
A180:       LE p51,f/.(kk+1),L~f,f/.1,f/.(len f) by A3,A174,A175,JORDAN5C:26;
            now per cases by A173,A174,A175,A179,Th3;
              case
A181:           (f/.kk)`1<e;
                set k2=i-'kk;
                LE f/.kk,p51,L~f,f/.1,f/.(len f) by A3,A174,A175,JORDAN5C:25;
                then
A182:           LE f/.kk,p44,L~f,f/.1,f/.(len f) by A3,A173,JORDAN5C:13;
                now
                  assume i-kk<=0;
                  then i-kk+kk<=0+kk by XREAL_1:9;
                  then LE f/.i,f/.kk,L~f,f/.1,f/.(len f)
                  by A3,A142,A176,JORDAN5C:24;

hence contradiction by A1,A3,A143,A181,A182,JORDAN5C:12,TOPREAL4:3;
                end;
                then
A183:           i-k2=i-(i-kk) by BINARITH:def 3
                  .=kk;
                then
A184:           i-k2=i-'k2 by BINARITH:def 3;
                then P[k2] by A9,A175,A181,A183,BINARITH:68,FINSEQ_4:24;
                then k2>=k by A15;
                then i-k2<=i-k by REAL_2:106;
                then
A185:           LE f/.(i-'k2),f/.(i-'k),L~f,f/.1,f/.(len f )
                by A3,A16,A22,A175,A183,A184,JORDAN5C:24;
A186:           LE f/.(i-'k),p51,L~f,f/.1,f/.(len f) by A3,A20,A173,
                PARTFUN1:def 8;
A187:           LE f/.(i-'k),f/.(kk+1),L~f,f/.1,f/.(len f)
                by A3,A21,A173,A180,JORDAN5C:13;
                Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1))
                ={p8 where p8 is Point of TOP-REAL 2:
                LE f/.kk,p8,L~f,f/.1,f/.(len f)
                & LE p8,f/.(kk+1),L~f,f/.1,f/.(len f)} by JORDAN6:29;
                then
A188:           f/.(i-'k) in Segment(L~f,f/.1,f/.(len f),f /.kk,f/.(kk+ 1))
                by A183,A184,A185,A187;
A189:           LSeg(f/.kk,f/.(kk+1)) c= L~f
                proof
                  let z be set;
                  assume
A190:             z in LSeg(f/.kk,f/.(kk+1));
                  LSeg(f/.kk,f/.(kk+1)) in
                  { LSeg(f,i7) where i7 is Element of NAT :
                  1 <= i7 & i7+1 <= len f } by A175,A179;
                  hence z in L~f by A5,A190,TARSKI:def 4;
                end;
A191:           f is special by A3,TOPREAL1:def 10;
A192:           f is one-to-one by A3,TOPREAL1:def 10;
                kk<kk+1 by NAT_1:13;
                then
A193:           f.kk <> f.(kk+1) by A177,A178,A192,FUNCT_1:def 8;
A194:           f/.kk=f.kk by A177,PARTFUN1:def 8;
                f/.(kk+1)=f.(kk+1) by A178,PARTFUN1:def 8;
                then LSeg(f/.kk,f/.(kk+1)) is_an_arc_of f/.kk,f/.(kk+1)
                by A193,A194,TOPREAL1:15;
                then
A195:           Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1 ))
                =LSeg(f/.kk,f/.(kk+1)) by A2,A3,A183,A184,A185,A187,A189,Th28,
                JORDAN5C:13;
A196:           (f/.kk)`1=(f/.(kk+1))`1 or
                (f/.kk)`2=(f/.(kk+1))`2 by A175,A191,TOPREAL1:def 7;
                (f/.(kk+1))`1>e by A21,A121,A181,A188,A195,Th2;
                then (f/.kk)`1< (f/.(kk+1))`1 by A181,XXREAL_0:2;
                then (f/.(i-'k))`1<=p51`1
                by A3,A174,A175,A176,A179,A186,A188,A195,A196,Th7;
                hence contradiction by A21,A121,A173,XXREAL_0:2;
              end;
              case
A197:           (f/.(kk+1))`1 <e & (f/.kk)`1>=e;
                then
A198:           (f/.kk)`1>(f/.(kk+1))`1 by XXREAL_0:2;
                set k2=i-'kk-'1;
A199:           LSeg(f/.kk,f/.(kk+1)) c= L~f
                proof
                  let z be set;
                  assume
A200:             z in LSeg(f/.kk,f/.(kk+1));
                  LSeg(f/.kk,f/.(kk+1)) in
                  { LSeg(f,i7) where i7 is Element of NAT :
                  1 <= i7 & i7+1 <= len f } by A175,A179;
                  hence z in L~f by A5,A200,TARSKI:def 4;
                end;
A201:           Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1))
                ={p8 where p8 is Point of TOP-REAL 2:
                LE f/.kk,p8,L~f,f/.1,f/.(len f)
                & LE p8,f/.(kk+1),L~f,f/.1,f/.(len f)} by JORDAN6:29;
A202:           f is one-to-one by A3,TOPREAL1:def 10;
                kk<kk+1 by NAT_1:13;
                then
A203:           f.kk <> f.(kk+1) by A177,A178,A202,FUNCT_1:def 8;
A204:           f/.kk=f.kk by A177,PARTFUN1:def 8;
                f/.(kk+1)=f.(kk+1) by A178,PARTFUN1:def 8;
                then LSeg(f/.kk,f/.(kk+1)) is_an_arc_of f/.kk,f/.(kk+1)
                by A203,A204,TOPREAL1:15;
                then
A205:           Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1 ))
                =LSeg(f/.kk,f/.(kk+1)) by A2,A3,A175,A199,Th28,JORDAN5C:23;
                LE f/.kk,p51,L~f,f/.1,f/.(len f) by A3,A174,A175,JORDAN5C:25;
                then
A206:           LE f/.kk,p44,L~f,f/.1,f/.(len f) by A3,A173,JORDAN5C:13;
A207:           now
                  assume i-kk-1<=0;
                  then i-(kk+1)+(kk+1)<=0+(kk+1) by XREAL_1:9;
                  then LE f/.i,f/.(kk+1),L~f,f/.1,f/.(len f)
                  by A3,A142,A175,JORDAN5C:24;
                  then
A208:             f/.i in LSeg(f/.kk,f/.(kk+1)) by A201,A205,A206;
A209:             LSeg(f,kk)=LSeg(f/.kk,f/.(kk+1)) by A175,TOPREAL1:def 5;
                  f is special by A3,TOPREAL1:def 10;
                  then (f/.kk)`1=(f/.(kk+1))`1 or
                  (f/.kk)`2=(f/.(kk+1))`2 by A175,TOPREAL1:def 7;
                  hence contradiction
                  by A3,A143,A173,A174,A175,A176,A198,A208,A209,Th6;
                end;
                then i-kk-1+1>=0+1 by XREAL_1:9;
                then i-'kk=i-kk by BINARITH:def 3;
                then
A210:           i-k2=i-(i-kk-1) by A207,BINARITH:def 3
                  .=kk+1;
                then
A211:           i-'k2>0 by BINARITH:def 3;
A212:           i-k2=i-'k2 by A210,BINARITH:def 3;
A213:           i-'k2>=0+1 by A211,NAT_1:13;
                then P[k2] by A9,A197,A210,A212,BINARITH:68,FINSEQ_4:24;
                then k2>=k by A15;
                then i-k2<=i-k by REAL_2:106;
                then
A214:           LE f/.(kk+1),f/.(i-'k),L~f,f/.1,f/.(len f)
                by A3,A16,A22,A210,A212,A213,JORDAN5C:24;
                LE f/.(i-'k),f/.(kk+1),L~f,f/.1,f/.(len f)
                by A3,A21,A173,A180,JORDAN5C:13;
                hence contradiction by A1,A3,A21,A121,A197,A214,JORDAN5C:12
                ,TOPREAL4:3;
              end;
            end;
            hence contradiction;
          end;
          for p5 being Point of TOP-REAL 2 st
          LE pk,p5,P,p1,p2 & LE p5,p,P,p1,p2 holds p5`1>=e
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A215:       LE pk,p5,P,p1,p2 & LE p5,p,P,p1,p2;
            then
A216:       p5 in P by JORDAN5C:def 3;
            now per cases by A1,A171,A216,Th19,TOPREAL4:3;
              case LE p5,p44,P,p1,p2;
                hence p5`1>=e by A172,A215;
              end;
              case LE p44,p5,P,p1,p2;
                hence p5`1>=e by A157,A215;
              end;
            end;
            hence p5`1>=e;
          end;

hence p is_Lin P,p1,p2,e or p is_Rin P,p1,p2,e by A1,A2,A121,A170,Def2;
        end;
      end;
      hence p is_Lin P,p1,p2,e or p is_Rin P,p1,p2,e;
    end;
  end;
  hence thesis;
end;

theorem
  for P being non empty Subset of TOP-REAL 2,
  p1,p2,p being Point of TOP-REAL 2,e being Real st
  P is_S-P_arc_joining p1,p2 & p1`1<e & p2`1>e & p in P & p`1=e
  holds p is_Lout P,p1,p2,e or p is_Rout P,p1,p2,e
proof
  let P be non empty Subset of TOP-REAL 2,
  p1,p2,p be Point of TOP-REAL 2,e be Real;
  assume
A1: P is_S-P_arc_joining p1,p2 & p1`1<e & p2`1>e & p in P & p`1=e;
  then
A2: P is_an_arc_of p1,p2 by TOPREAL4:3;
  consider f being FinSequence of (TOP-REAL 2) such that
A3: f is_S-Seq & P = L~f & p1=f/.1 & p2=f/.len f by A1,TOPREAL4:def 1;
A4: L~f = union { LSeg(f,i) where i is Element of NAT :
  1 <= i & i+1 <= len f } by TOPREAL1:def 6;
  then consider Y being set such that
A5: p in Y & Y in
  { LSeg(f,i) where i is Element of NAT : 1 <= i & i+1 <= len f }
  by A1,A3,TARSKI:def 4;
A6: Y c= L~f
  proof
    let x be set;
    assume x in Y;
    hence x in L~f by A4,A5,TARSKI:def 4;
  end;
  consider i being Element of NAT such that
A7: Y=LSeg(f,i) & (1 <= i & i+1 <= len f) by A5;
A8: 1<i+1 by A7,NAT_1:13;
A9: i<len f by A7,NAT_1:13;
  i+1 in Seg len f by A7,A8,FINSEQ_1:3;
  then
A10: i+1 in dom f by FINSEQ_1:def 3;
A11: 1<len f by A7,A9,XXREAL_0:2;
A12: 1<i+1 by A7,NAT_1:13;
  defpred P[Nat] means for p being Point of TOP-REAL 2 st p=f.(i+1+$1)
  holds p`1<>e;
A13: len f - (i+1)>=0 by A7,XREAL_1:50;
  len f in Seg len f by A11,FINSEQ_1:3;
  then
A14: len f in dom f by FINSEQ_1:def 3;
  i+1+((len f)-'(i+1))=i+1+(len f -(i+1)) by A13,BINARITH:def 3
    .=len f;
  then
A15: P[(len f)-'(i+1)] by A1,A3,A14,PARTFUN1:def 8;
  then
A16: ex k being Nat st P[k];
  ex k being Nat st P[k] & for n being Nat st P[n]
  holds k <= n from NAT_1:sch 5(A16);
  then consider k being Nat such that
A17: P[k] & for n being Nat st P[n] holds k <= n;
A18: k<=len f -'(i+1) by A15,A17;
  len f -'(i+1)=len f -(i+1) by A13,BINARITH:def 3;
  then
A19: k+(i+1)<= len f -(i+1)+(i+1) by A18,XREAL_1:9;
  i+k >=i by NAT_1:11;
  then
A20: i+k+1 >=i+1 by XREAL_1:9;
  then
A21: k+i+1>1 by A12,XXREAL_0:2;
A22: i+1+k >1 by A12,A20,XXREAL_0:2;
  1<=i+1+k by A8,NAT_1:12;
  then i+1+k in Seg len f by A19,FINSEQ_1:3;
  then
A23: i+1+k in dom f by FINSEQ_1:def 3;
  then
A24: f/.(i+1+k)=f.(i+1+k) by PARTFUN1:def 8;
  then reconsider pk=f.(i+1+k) as Point of TOP-REAL 2;
A25: pk`1<> e by A17;
  now per cases by A25,XXREAL_0:1;
    case
A26:  pk`1<e;
      now per cases;
        case
A27:      k=0;
          set p44=f/.(i+1);
A28:      pk=p44 by A10,A27,PARTFUN1:def 8;
A29:      LSeg(f,i)=LSeg(f/.i,f/.(i+1)) by A7,TOPREAL1:def 5;
A30:      p44 in LSeg(p,f/.(i+1)) by TOPREAL1:6;
          then
A31:      LE p,p44,P,p1,p2 by A3,A5,A7,A9,SPRECT_4:5;
          for p5 being Point of TOP-REAL 2 st
          LE p5,p44,P,p1,p2 & LE p,p5,P,p1,p2 holds p5`1<=e
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A32:        LE p5,p44,P,p1,p2 & LE p,p5,P,p1,p2;
            Segment(P,p1,p2,p,p44)={p8 where p8 is Point of TOP-REAL 2:
            LE p,p8,P,p1,p2 & LE p8,p44,P,p1,p2} by JORDAN6:29;
            then
A33:        p5 in Segment(P,p1,p2,p,p44) by A32;
            p44 in LSeg(f/.i,f/.(i+1)) by TOPREAL1:6;
            then LSeg(p,p44) c= LSeg(f,i) by A5,A7,A29,TOPREAL1:12;
            then
A34:        LSeg(p,p44) c= P by A3,A6,A7,XBOOLE_1:1;
            now per cases;
              case p44<>p;
                then LSeg(p,p44) is_an_arc_of p,p44 by TOPREAL1:15;

then Segment(P,p1,p2,p,p44)=LSeg(p,p44) by A2,A3,A5,A7,A9,A30,A34,Th28,
                SPRECT_4:5;
                hence p5`1<=e by A1,A26,A28,A33,TOPREAL1:9;
              end;
              case p44=p;
                hence p5`1<=e by A1,A10,A26,A27,PARTFUN1:def 8;
              end;
            end;
            hence p5`1<=e;
          end;
          hence p is_Lout P,p1,p2,e or p is_Rout P,p1,p2,e
          by A1,A2,A26,A28,A31,Def3;
        end;
        case k<>0;
          then
A35:      k>0;
          set p44=f/.(i+1);
A36:      now
            assume (f/.(i+1))`1<>e;
            then for p9 being Point of TOP-REAL 2 st p9=f.(i+1+0)
            holds p9`1<>e by A10,PARTFUN1:def 8;
            hence contradiction by A17,A35;
          end;
A37:      LSeg(f,i)=LSeg(f/.i,f/.(i+1)) by A7,TOPREAL1:def 5;
A38:      p44 in LSeg(p,f/.(i+1)) by TOPREAL1:6;
          then
A39:      LE p,p44,P,p1,p2 by A3,A5,A7,A9,SPRECT_4:5;
A40:      for p5 being Point of TOP-REAL 2 st
          LE p,p5,P,p1,p2 & LE p5,p44,P,p1,p2 holds p5`1<=e
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A41:        LE p,p5,P,p1,p2 & LE p5,p44,P,p1,p2;
            Segment(P,p1,p2,p,p44)={p8 where p8 is Point of TOP-REAL 2:
            LE p,p8,P,p1,p2 & LE p8,p44,P,p1,p2} by JORDAN6:29;
            then
A42:        p5 in Segment(P,p1,p2,p,p44) by A41;
            p44 in LSeg(f/.i,f/.(i+1)) by TOPREAL1:6;
            then LSeg(p,p44) c= LSeg(f,i) by A5,A7,A37,TOPREAL1:12;
            then
A43:        LSeg(p,p44) c= P by A3,A6,A7,XBOOLE_1:1;
            now per cases;
              case p44<>p;
                then LSeg(p,p44) is_an_arc_of p,p44 by TOPREAL1:15;

then Segment(P,p1,p2,p,p44)=LSeg(p,p44) by A2,A3,A5,A7,A9,A38,A43,Th28,
                SPRECT_4:5;
                hence p5`1<=e by A1,A36,A42,TOPREAL1:9;
              end;
              case p44=p;
                then Segment(P,p1,p2,p,p44)={p44} by A1,Th1,TOPREAL4:3;
                hence p5`1<=e by A36,A42,TARSKI:def 1;
              end;
            end;
            hence p5`1<=e;
          end;
          i+1<=i+1+k by NAT_1:11;
          then
A44:      LE p44,pk,P,p1,p2 by A3,A8,A19,A24,JORDAN5C:24;
          then
A45:      LE p,pk,P,p1,p2 by A39,JORDAN5C:13;
A46:      p44 in P by A44,JORDAN5C:def 3;
A47:      now
            assume not for p51 being Point of TOP-REAL 2 st
            LE p44,p51,P,p1,p2 & LE p51,pk,P,p1,p2 holds p51`1<=e;
            then consider p51 being Point of TOP-REAL 2 such that
A48:        LE p44,p51,P,p1,p2 & LE p51,pk,P,p1,p2 & p51`1>e;
            p51 in P by A48,JORDAN5C:def 3;
            then consider Y3 being set such that
A49:        p51 in Y3 & Y3 in
            { LSeg(f,i5) where i5 is Element of NAT : 1 <= i5 & i5+1 <= len f }
            by A3,A4,TARSKI:def 4;
            consider kk being Element of NAT such that
A50:        Y3=LSeg(f,kk) & (1 <= kk & kk+1 <= len f) by A49;
A51:        kk-1>=0 by A50,XREAL_1:50;
A52:        kk<len f by A50,NAT_1:13;
            then
A53:        kk in dom f by A50,FINSEQ_3:27;
A54:        1<kk+1 by A50,NAT_1:13;
            then
A55:        kk+1 in dom f by A50,FINSEQ_3:27;
A56:        LSeg(f,kk)=LSeg(f/.kk,f/.(kk+1)) by A50,TOPREAL1:def 5;
A57:        LE p51,f/.(kk+1),L~f,f/.1,f/.(len f) by A3,A49,A50,JORDAN5C:26;
A58:        LE f/.kk,p51,L~f,f/.1,f/.(len f) by A3,A49,A50,JORDAN5C:25;
A59:        f is one-to-one by A3,TOPREAL1:def 10;
            kk<kk+1 by NAT_1:13;
            then
A60:        f.kk <> f.(kk+1) by A53,A55,A59,FUNCT_1:def 8;
A61:        f/.kk=f.kk by A53,PARTFUN1:def 8;
            now per cases by A48,A49,A50,A56,Th2;
              case
A62:            (f/.(kk+1))`1>e;
                set k2=kk-'i;
A63:            LE p44,f/.(kk+1),L~f,f/.1,f/.(len f)
                by A3,A48,A57,JORDAN5C:13;
A64:            now
                  assume kk-i<0;
                  then kk-i+i<0+i by XREAL_1:8;
                  then LE f/.(kk+1),f/.(i+1),L~f,f/.1,f/.(len f)
                  by A3,A7,A54,JORDAN5C:24,XREAL_1:9;

hence contradiction by A1,A3,A36,A62,A63,JORDAN5C:12,TOPREAL4:3;
                end;
A65:            1<kk+1 by A50,NAT_1:13;
A66:            i+1+k2=1+i+(kk-i) by A64,BINARITH:def 3
                  .=kk+1;
                then P[k2] by A50,A62,A65,FINSEQ_4:24;
                then k2>=k by A17;
                then
A67:            LE f/.(i+1+k),f/.(i+1+k2),L~f,f/.1,f/.(len f)
                by A3,A21,A50,A66,JORDAN5C:24,XREAL_1:9;
A68:            LE p51,f/.(i+1+k),L~f,f/.1,f/.(len f) by A3,A23,A48,
                PARTFUN1:def 8;
A69:            LE f/.(kk),f/.(i+1+k),L~f,f/.1,f/.(len f)
                by A3,A24,A48,A58,JORDAN5C:13;
                Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1))
                ={p8 where p8 is Point of TOP-REAL 2:
                LE f/.kk,p8,L~f,f/.1,f/.(len f)
                & LE p8,f/.(kk+1),L~f,f/.1,f/.(len f)} by JORDAN6:29;
                then
A70:            f/.(i+1+k) in Segment(L~f,f/.1,f/.(len f), f/.kk,f/.(kk + 1))
                by A66,A67,A69;
A71:            LSeg(f/.kk,f/.(kk+1)) c= L~f
                proof
                  let z be set;
                  assume
A72:              z in LSeg(f/.kk,f/.(kk+1));
                  LSeg(f/.kk,f/.(kk+1)) in
                  { LSeg(f,i7) where i7 is Element of NAT :
                  1 <= i7 & i7+1 <= len f } by A50,A56;
                  hence z in L~f by A4,A72,TARSKI:def 4;
                end;
A73:            f is special by A3,TOPREAL1:def 10;
A74:            f is one-to-one by A3,TOPREAL1:def 10;
                kk<kk+1 by NAT_1:13;
                then
A75:            f.kk <> f.(kk+1) by A53,A55,A74,FUNCT_1:def 8;
A76:            f/.kk=f.kk by A53,PARTFUN1:def 8;
                f/.(kk+1)=f.(kk+1) by A55,PARTFUN1:def 8;
                then LSeg(f/.kk,f/.(kk+1)) is_an_arc_of f/.kk,f/.(kk+1)
                by A75,A76,TOPREAL1:15;
                then
A77:            Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1 ))
                =LSeg(f/.kk,f/.(kk+1)) by A2,A3,A66,A67,A69,A71,Th28,
                JORDAN5C:13;
A78:            (f/.kk)`1=(f/.(kk+1))`1 or
                (f/.kk)`2=(f/.(kk+1))`2 by A50,A73,TOPREAL1:def 7;
                (f/.(kk))`1<e by A24,A26,A62,A70,A77,Th3;
                then (f/.kk)`1< (f/.(kk+1))`1 by A62,XXREAL_0:2;
                then (f/.(i+1+k))`1>=p51`1
                by A3,A49,A50,A52,A56,A68,A70,A77,A78,Th7;
                hence contradiction by A24,A26,A48,XXREAL_0:2;
              end;
              case
A79:            (f/.(kk))`1 >e & (f/.(kk+1))`1<=e;
                set k2=kk-'(i+1);
A80:            LSeg(f/.kk,f/.(kk+1)) c= L~f
                proof
                  let z be set;
                  assume
A81:              z in LSeg(f/.kk,f/.(kk+1));
                  LSeg(f/.kk,f/.(kk+1)) in
                  { LSeg(f,i7) where i7 is Element of NAT :
                  1 <= i7 & i7+1 <= len f } by A50,A56;
                  hence z in L~f by A4,A81,TARSKI:def 4;
                end;
A82:            Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1))
                ={p8 where p8 is Point of TOP-REAL 2:
                LE f/.kk,p8,L~f,f/.1,f/.(len f)
                & LE p8,f/.(kk+1),L~f,f/.1,f/.(len f)} by JORDAN6:29;
                f/.(kk+1)=f.(kk+1) by A55,PARTFUN1:def 8;
                then LSeg(f/.kk,f/.(kk+1)) is_an_arc_of f/.kk,f/.(kk+1)
                by A60,A61,TOPREAL1:15;
                then
A83:            Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1 ))
                =LSeg(f/.kk,f/.(kk+1)) by A2,A3,A50,A80,Th28,JORDAN5C:23;
                LE p51,f/.(kk+1),L~f,f/.1,f/.(len f)
                by A3,A49,A50,JORDAN5C:26;
                then
A84:            LE p44,f/.(kk+1),L~f,f/.1,f/.(len f) by A3,A48,JORDAN5C:13;
A85:            now
                  assume kk-(i+1)<0;
                  then kk-(i+1)+(i+1)<0+(i+1) by XREAL_1:8;
                  then kk<=i by NAT_1:13;
                  then
A86:              LE f/.kk,f/.i,L~f,f/.1,f/.(len f) by A3,A9,A50,JORDAN5C:24;
                  LE f/.i,p44,L~f,f/.1,f/.(len f) by A3,A7,JORDAN5C:23;
                  then LE f/.i,f/.(kk+1),L~f,f/.1,f/.(len f)
                  by A84,JORDAN5C:13;
                  then
A87:              f/.i in LSeg(f/.kk,f/.(kk+1)) by A82,A83,A86;
                  f/.i in LSeg(f/.i,f/.(i+1)) by TOPREAL1:6;
                  then LSeg(f/.kk,f/.(kk+1)) /\ LSeg(f/.i,f/.(i+1))<>{}
                  by A87,XBOOLE_0:def 3;
                  then
A88:              not (LSeg(f/.kk,f/.(kk+1)) misses LSeg (f/.i,f/.(i+1) ) )
                  by XBOOLE_0:def 7;
A89:              LSeg(f,kk)=LSeg(f/.kk,f/.(kk+1)) by A50,TOPREAL1:def 5;
A90:              LSeg(f,i)=LSeg(f/.i,f/.(i+1)) by A7,TOPREAL1:def 5;
A91:              f is s.n.c. by A3,TOPREAL1:def 10;
                  then
A92:              kk+1>=i by A88,A89,A90,TOPREAL1:def 9;
A93:              kk-1=kk-'1 by A51,BINARITH:def 3;
                  i+1>=kk by A88,A89,A90,A91,TOPREAL1:def 9;
                  then i+1-1>=kk-1 by XREAL_1:11;
                  then
A94:              i=kk-'1 or i=kk-'1+1 or i=kk-'1+2 by A92,A93,JORDAN2C:2;
A95:              now
                    assume
A96:                i=kk-'1+2;
                    then kk+1<i+1 by A93,NAT_1:13;
                    then LE f/.(kk+1),p44,L~f,f/.1,f/.(len f)
                    by A3,A7,A54,JORDAN5C:24;
                    then p44=f/.(kk+1) by A1,A3,A84,JORDAN5C:12,TOPREAL4:3;
                    then f.(i+1)=f/.(kk+1) by A10,PARTFUN1:def 8;
                    then
A97:                f.(i+1)=f.(kk+1) by A55,PARTFUN1:def 8;
                    f is one-to-one by A3,TOPREAL1:def 10;
                    then i+1=kk+1 by A10,A55,A97,FUNCT_1:def 8;
                    hence contradiction by A93,A96;
                  end;
A98:              now per cases by A93,A94,A95;
                    case i=kk;
                      hence p44 in LSeg(f,kk) by A37,TOPREAL1:6;
                    end;
                    case i=kk-1;
                      hence p44 in LSeg(f,kk) by A56,TOPREAL1:6;
                    end;
                  end;
                  f is special by A3,TOPREAL1:def 10;
                  then (f/.kk)`1=(f/.(kk+1))`1 or
                  (f/.kk)`2=(f/.(kk+1))`2 by A50,TOPREAL1:def 7;
                  hence contradiction by A3,A36,A48,A49,A50,A52,A79,A98,Th6;
                end;
                then
A99:            kk-'(i+1)=kk-(i+1) by BINARITH:def 3;
                i+1+k2=i+1+(kk-(i+1)) by A85,BINARITH:def 3
                  .=kk;
                then P[k2] by A50,A52,A79,FINSEQ_4:24;
                then k2>=k by A17;
                then kk-(i+1)+(i+1)>=k+(i+1) by A99,XREAL_1:9;
                then
A100:           LE f/.(i+1+k),f/.(kk),L~f,f/.1,f/.(len f)
                by A3,A22,A52,JORDAN5C:24;
                LE f/.(kk),f/.(i+1+k),L~f,f/.1,f/.(len f)
                by A3,A24,A48,A58,JORDAN5C:13;
                hence contradiction by A1,A3,A24,A26,A79,A100,JORDAN5C:12
                ,TOPREAL4:3;
              end;
            end;
            hence contradiction;
          end;
          for p5 being Point of TOP-REAL 2 st
          LE p5,pk,P,p1,p2 & LE p,p5,P,p1,p2 holds p5`1<=e
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A101:       LE p5,pk,P,p1,p2 & LE p,p5,P,p1,p2;
            then
A102:       p5 in P by JORDAN5C:def 3;
            now per cases by A1,A46,A102,Th19,TOPREAL4:3;
              case LE p44,p5,P,p1,p2;
                hence p5`1<=e by A47,A101;
              end;
              case LE p5,p44,P,p1,p2;
                hence p5`1<=e by A40,A101;
              end;
            end;
            hence p5`1<=e;
          end;
          hence p is_Lout P,p1,p2,e or p is_Rout P,p1,p2,e
          by A1,A2,A26,A45,Def3;
        end;
      end;
      hence p is_Lout P,p1,p2,e or p is_Rout P,p1,p2,e;
    end;
    case
A103: pk`1>e;
      now per cases;
        case
A104:     k=0;
          set p44=f/.(i+1);
A105:     pk=p44 by A10,A104,PARTFUN1:def 8;
A106:     LSeg(f,i)=LSeg(f/.i,f/.(i+1)) by A7,TOPREAL1:def 5;
A107:     p44 in LSeg(p,f/.(i+1)) by TOPREAL1:6;
          then
A108:     LE p,p44,P,p1,p2 by A3,A5,A7,A9,SPRECT_4:5;
          for p5 being Point of TOP-REAL 2 st
          LE p5,p44,P,p1,p2 & LE p,p5,P,p1,p2 holds p5`1>=e
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A109:       LE p5,p44,P,p1,p2 & LE p,p5,P,p1,p2;
            Segment(P,p1,p2,p,p44)={p8 where p8 is Point of TOP-REAL 2:
            LE p,p8,P,p1,p2 & LE p8,p44,P,p1,p2} by JORDAN6:29;
            then
A110:       p5 in Segment(P,p1,p2,p,p44) by A109;
            p44 in LSeg(f/.i,f/.(i+1)) by TOPREAL1:6;
            then LSeg(p,p44) c= LSeg(f,i) by A5,A7,A106,TOPREAL1:12;
            then
A111:       LSeg(p,p44) c= P by A3,A6,A7,XBOOLE_1:1;
            now per cases;
              case p44<>p;
                then LSeg(p,p44) is_an_arc_of p,p44 by TOPREAL1:15;
                then Segment(P,p1,p2,p,p44)=LSeg(p,p44) by A2,A3,A5,A7,A9,A107
                ,A111,Th28,SPRECT_4:5;
                hence p5`1>=e by A1,A103,A105,A110,TOPREAL1:9;
              end;
              case p44=p;
                hence p5`1>=e by A1,A10,A103,A104,PARTFUN1:def 8;
              end;
            end;
            hence p5`1>=e;
          end;
          hence p is_Lout P,p1,p2,e or p is_Rout P,p1,p2,e
          by A1,A2,A103,A105,A108,Def4;
        end;
        case k<>0;
          then
A112:     k>0;
          set p44=f/.(i+1);
A113:     now
            assume (f/.(i+1))`1<>e;
            then for p9 being Point of TOP-REAL 2 st p9=f.(i+1+0)
            holds p9`1<>e by A10,PARTFUN1:def 8;
            hence contradiction by A17,A112;
          end;
A114:     LSeg(f,i)=LSeg(f/.i,f/.(i+1)) by A7,TOPREAL1:def 5;
A115:     p44 in LSeg(p,f/.(i+1)) by TOPREAL1:6;
          then
A116:     LE p,p44,P,p1,p2 by A3,A5,A7,A9,SPRECT_4:5;
A117:     for p5 being Point of TOP-REAL 2 st
          LE p,p5,P,p1,p2 & LE p5,p44,P,p1,p2 holds p5`1>=e
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A118:       LE p,p5,P,p1,p2 & LE p5,p44,P,p1,p2;
            Segment(P,p1,p2,p,p44)={p8 where p8 is Point of TOP-REAL 2:
            LE p,p8,P,p1,p2 & LE p8,p44,P,p1,p2} by JORDAN6:29;
            then
A119:       p5 in Segment(P,p1,p2,p,p44) by A118;
            p44 in LSeg(f/.i,f/.(i+1)) by TOPREAL1:6;
            then LSeg(p,p44) c= LSeg(f,i) by A5,A7,A114,TOPREAL1:12;
            then
A120:       LSeg(p,p44) c= P by A3,A6,A7,XBOOLE_1:1;
            now per cases;
              case p44<>p;
                then LSeg(p,p44) is_an_arc_of p,p44 by TOPREAL1:15;
                then Segment(P,p1,p2,p,p44)=LSeg(p,p44) by A2,A3,A5,A7,A9,A115
                ,A120,Th28,SPRECT_4:5;
                hence p5`1>=e by A1,A113,A119,TOPREAL1:9;
              end;
              case p44=p;
                then Segment(P,p1,p2,p,p44)={p44} by A1,Th1,TOPREAL4:3;
                hence p5`1>=e by A113,A119,TARSKI:def 1;
              end;
            end;
            hence p5`1>=e;
          end;
          i+1<=i+1+k by NAT_1:11;
          then
A121:     LE p44,pk,P,p1,p2 by A3,A8,A19,A24,JORDAN5C:24;
          then
A122:     LE p,pk,P,p1,p2 by A116,JORDAN5C:13;
A123:     p44 in P by A121,JORDAN5C:def 3;
A124:     now
            assume not for p51 being Point of TOP-REAL 2 st
            LE p44,p51,P,p1,p2 & LE p51,pk,P,p1,p2 holds p51`1>=e;
            then consider p51 being Point of TOP-REAL 2 such that
A125:       LE p44,p51,P,p1,p2 & LE p51,pk,P,p1,p2 & p51`1<e;
            p51 in P by A125,JORDAN5C:def 3;
            then consider Y3 being set such that
A126:       p51 in Y3 & Y3 in
            { LSeg(f,i5) where i5 is Element of NAT : 1 <= i5 & i5+1 <= len f }
            by A3,A4,TARSKI:def 4;
            consider kk being Element of NAT such that
A127:       Y3=LSeg(f,kk) & (1 <= kk & kk+1 <= len f) by A126;
A128:       kk-1>=0 by A127,XREAL_1:50;
A129:       kk<len f by A127,NAT_1:13;
            then kk in Seg len f by A127,FINSEQ_1:3;
            then
A130:       kk in dom f by FINSEQ_1:def 3;
A131:       1<kk+1 by A127,NAT_1:13;
            then
A132:       kk+1 in dom f by A127,FINSEQ_3:27;
A133:       LSeg(f,kk)=LSeg(f/.kk,f/.(kk+1)) by A127,TOPREAL1:def 5;
A134:       LE p51,f/.(kk+1),L~f,f/.1,f/.(len f) by A3,A126,A127,JORDAN5C:26;
A135:       LE f/.kk,p51,L~f,f/.1,f/.(len f) by A3,A126,A127,JORDAN5C:25;
A136:       f is one-to-one by A3,TOPREAL1:def 10;
            kk<kk+1 by NAT_1:13;
            then
A137:       f.kk <> f.(kk+1) by A130,A132,A136,FUNCT_1:def 8;
A138:       f/.kk=f.kk by A130,PARTFUN1:def 8;
            now per cases by A125,A126,A127,A133,Th3;
              case
A139:           (f/.(kk+1))`1<e;
                set k2=kk-'i;
A140:           LE p44,f/.(kk+1),L~f,f/.1,f/.(len f)
                by A3,A125,A134,JORDAN5C:13;
A141:           now
                  assume kk-i<0;
                  then kk-i+i<0+i by XREAL_1:8;
                  then LE f/.(kk+1),f/.(i+1),L~f,f/.1,f/.(len f)
                  by A3,A7,A131,JORDAN5C:24,XREAL_1:9;

hence contradiction by A1,A3,A113,A139,A140,JORDAN5C:12,TOPREAL4:3;
                end;
A142:           1<kk+1 by A127,NAT_1:13;
A143:           i+1+k2=1+i+(kk-i) by A141,BINARITH:def 3
                  .=kk+1;
                then P[k2] by A127,A139,A142,FINSEQ_4:24;
                then k2>=k by A17;
                then
A144:           LE f/.(i+1+k),f/.(i+1+k2),L~f,f/.1,f/.(len f)
                by A3,A21,A127,A143,JORDAN5C:24,XREAL_1:9;
A145:           LE p51,f/.(i+1+k),L~f,f/.1,f/.(len f) by A3,A23,A125,
                PARTFUN1:def 8;
A146:           LE f/.(kk),f/.(i+1+k),L~f,f/.1,f/.(len f)
                by A3,A24,A125,A135,JORDAN5C:13;
                Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1))
                ={p8 where p8 is Point of TOP-REAL 2:
                LE f/.kk,p8,L~f,f/.1,f/.(len f)
                & LE p8,f/.(kk+1),L~f,f/.1,f/.(len f)} by JORDAN6:29;
                then
A147:           f/.(i+1+k) in Segment(L~f,f/.1,f/.(len f), f/.kk,f/.(kk +1))
                by A143,A144,A146;
A148:           LSeg(f/.kk,f/.(kk+1)) c= L~f
                proof
                  let z be set;
                  assume
A149:             z in LSeg(f/.kk,f/.(kk+1));
                  LSeg(f/.kk,f/.(kk+1)) in
                  { LSeg(f,i7) where i7 is Element of NAT :
                  1 <= i7 & i7+1 <= len f } by A127,A133;
                  hence z in L~f by A4,A149,TARSKI:def 4;
                end;
A150:           f is special by A3,TOPREAL1:def 10;
A151:           f is one-to-one by A3,TOPREAL1:def 10;
                kk<kk+1 by NAT_1:13;
                then
A152:           f.kk <> f.(kk+1) by A130,A132,A151,FUNCT_1:def 8;
A153:           f/.kk=f.kk by A130,PARTFUN1:def 8;
                f/.(kk+1)=f.(kk+1) by A132,PARTFUN1:def 8;
                then LSeg(f/.kk,f/.(kk+1)) is_an_arc_of f/.kk,f/.(kk+1)
                by A152,A153,TOPREAL1:15;
                then
A154:           Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1 ))
                =LSeg(f/.kk,f/.(kk+1)) by A2,A3,A143,A144,A146,A148,Th28,
                JORDAN5C:13;
A155:           (f/.kk)`1=(f/.(kk+1))`1 or
                (f/.kk)`2=(f/.(kk+1))`2 by A127,A150,TOPREAL1:def 7;
                (f/.(kk))`1>e by A24,A103,A139,A147,A154,Th2;
                then (f/.kk)`1> (f/.(kk+1))`1 by A139,XXREAL_0:2;
                then (f/.(i+1+k))`1<=p51`1
                by A3,A126,A127,A129,A133,A145,A147,A154,A155,Th6;
                hence contradiction by A24,A103,A125,XXREAL_0:2;
              end;
              case
A156:           (f/.(kk))`1 <e & (f/.(kk+1))`1>=e;
                set k2=kk-'(i+1);
A157:           LSeg(f/.kk,f/.(kk+1)) c= L~f
                proof
                  let z be set;
                  assume
A158:             z in LSeg(f/.kk,f/.(kk+1));
                  LSeg(f/.kk,f/.(kk+1)) in
                  { LSeg(f,i7) where i7 is Element of NAT :
                  1 <= i7 & i7+1 <= len f } by A127,A133;
                  hence z in L~f by A4,A158,TARSKI:def 4;
                end;
A159:           Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1))
                ={p8 where p8 is Point of TOP-REAL 2:
                LE f/.kk,p8,L~f,f/.1,f/.(len f)
                & LE p8,f/.(kk+1),L~f,f/.1,f/.(len f)} by JORDAN6:29;
                f/.(kk+1)=f.(kk+1) by A132,PARTFUN1:def 8;
                then LSeg(f/.kk,f/.(kk+1)) is_an_arc_of f/.kk,f/.(kk+1)
                by A137,A138,TOPREAL1:15;
                then
A160:           Segment(L~f,f/.1,f/.(len f),f/.kk,f/.(kk+1 ))
                =LSeg(f/.kk,f/.(kk+1)) by A2,A3,A127,A157,Th28,JORDAN5C:23;
                LE p51,f/.(kk+1),L~f,f/.1,f/.(len f)
                by A3,A126,A127,JORDAN5C:26;
                then
A161:           LE p44,f/.(kk+1),L~f,f/.1,f/.(len f) by A3,A125,JORDAN5C:13;
A162:           now
                  assume kk-(i+1)<0;
                  then kk-(i+1)+(i+1)<0+(i+1) by XREAL_1:8;
                  then kk<=i by NAT_1:13;
                  then
A163:             LE f/.kk,f/.i,L~f,f/.1,f/.(len f) by A3,A9,A127,JORDAN5C:24;
                  LE f/.i,p44,L~f,f/.1,f/.(len f) by A3,A7,JORDAN5C:23;
                  then LE f/.i,f/.(kk+1),L~f,f/.1,f/.(len f)
                  by A161,JORDAN5C:13;
                  then
A164:             f/.i in LSeg(f/.kk,f/.(kk+1)) by A159,A160,A163;
                  f/.i in LSeg(f/.i,f/.(i+1)) by TOPREAL1:6;
                  then LSeg(f/.kk,f/.(kk+1)) /\ LSeg(f/.i,f/.(i+1))<>{}
                  by A164,XBOOLE_0:def 3;
                  then
A165:             not (LSeg(f/.kk,f/.(kk+1)) misses LSeg (f/.i,f/.(i+1) ))
                  by XBOOLE_0:def 7;
A166:             LSeg(f,kk)=LSeg(f/.kk,f/.(kk+1)) by A127,TOPREAL1:def 5;
A167:             LSeg(f,i)=LSeg(f/.i,f/.(i+1)) by A7,TOPREAL1:def 5;
A168:             f is s.n.c. by A3,TOPREAL1:def 10;
                  then
A169:             kk+1>=i by A165,A166,A167,TOPREAL1:def 9;
A170:             kk-1=kk-'1 by A128,BINARITH:def 3;
                  i+1>=kk by A165,A166,A167,A168,TOPREAL1:def 9;
                  then i+1-1>=kk-1 by XREAL_1:11;
                  then
A171:             i=kk-'1 or i=kk-'1+1 or i=kk-'1+2 by A169,A170,JORDAN2C:2;
A172:             now
                    assume
A173:               i=kk-'1+2;
                    then kk+1<i+1 by A170,NAT_1:13;
                    then LE f/.(kk+1),p44,L~f,f/.1,f/.(len f)
                    by A3,A7,A131,JORDAN5C:24;
                    then p44=f/.(kk+1) by A1,A3,A161,JORDAN5C:12,TOPREAL4:3;
                    then f.(i+1)=f/.(kk+1) by A10,PARTFUN1:def 8;
                    then
A174:               f.(i+1)=f.(kk+1) by A132,PARTFUN1:def 8;
                    f is one-to-one by A3,TOPREAL1:def 10;
                    then i+1=kk+1 by A10,A132,A174,FUNCT_1:def 8;
                    hence contradiction by A170,A173;
                  end;
A175:             now per cases by A170,A171,A172;
                    case i=kk;
                      hence p44 in LSeg(f,kk) by A114,TOPREAL1:6;
                    end;
                    case i=kk-1;
                      hence p44 in LSeg(f,kk) by A133,TOPREAL1:6;
                    end;
                  end;
                  f is special by A3,TOPREAL1:def 10;
                  then (f/.kk)`1=(f/.(kk+1))`1 or
                  (f/.kk)`2=(f/.(kk+1))`2 by A127,TOPREAL1:def 7;
                  hence contradiction
                  by A3,A113,A125,A126,A127,A129,A156,A175,Th7;
                end;
                then
A176:           kk-'(i+1)=kk-(i+1) by BINARITH:def 3;
                i+1+k2=i+1+(kk-(i+1)) by A162,BINARITH:def 3
                  .=kk;
                then P[k2] by A127,A129,A156,FINSEQ_4:24;
                then k2>=k by A17;
                then kk-(i+1)+(i+1)>=k+(i+1) by A176,XREAL_1:9;
                then
A177:           LE f/.(i+1+k),f/.(kk),L~f,f/.1,f/.(len f)
                by A3,A22,A129,JORDAN5C:24;
                LE f/.(kk),f/.(i+1+k),L~f,f/.1,f/.(len f)
                by A3,A24,A125,A135,JORDAN5C:13;
                hence contradiction by A1,A3,A24,A103,A156,A177,JORDAN5C:12
                ,TOPREAL4:3;
              end;
            end;
            hence contradiction;
          end;
          for p5 being Point of TOP-REAL 2 st
          LE p5,pk,P,p1,p2 & LE p,p5,P,p1,p2 holds p5`1>=e
          proof
            let p5 be Point of TOP-REAL 2;
            assume
A178:       LE p5,pk,P,p1,p2 & LE p,p5,P,p1,p2;
            then
A179:       p5 in P by JORDAN5C:def 3;
            now per cases by A1,A123,A179,Th19,TOPREAL4:3;
              case LE p44,p5,P,p1,p2;
                hence p5`1>=e by A124,A178;
              end;
              case LE p5,p44,P,p1,p2;
                hence p5`1>=e by A117,A178;
              end;
            end;
            hence p5`1>=e;
          end;
          hence p is_Lout P,p1,p2,e or p is_Rout P,p1,p2,e
          by A1,A2,A103,A122,Def4;
        end;
      end;
      hence p is_Lout P,p1,p2,e or p is_Rout P,p1,p2,e;
    end;
  end;
  hence thesis;
end;

