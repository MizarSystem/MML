:: General {F}ashoda Meet Theorem for Unit Circle and Square
::  by Yatsuka Nakamura
::
:: Received February 25, 2003
:: Copyright (c) 2003 Association of Mizar Users

environ

 vocabularies NUMBERS, XREAL_0, ORDINAL1, XXREAL_0, CARD_1, RELAT_1, SQUARE_1,
      ARYTM_3, ARYTM_1, PRE_TOPC, EUCLID, RLTOPSP1, MCART_1, REAL_1, SUBSET_1,
      BORSUK_1, XXREAL_1, RCOMP_1, TOPMETR, STRUCT_0, XBOOLE_0, FUNCT_1,
      ORDINAL2, TARSKI, TOPS_1, METRIC_1, SUPINF_2, COMPLEX1, JGRAPH_3,
      PSCOMP_1, PCOMPS_1, JORDAN3, TOPS_2, JORDAN17, JGRAPH_2, TOPREAL2,
      TOPREAL1, SEQ_4, FINSEQ_1, PARTFUN1, NAT_1, JORDAN6, JORDAN5C, FUNCT_4,
      RELAT_2, JGRAPH_6;
 notations XBOOLE_0, ORDINAL1, XCMPLX_0, COMPLEX1, TARSKI, RELAT_1, TOPS_2,
      FUNCT_1, RELSET_1, PARTFUN1, FUNCT_2, SUBSET_1, FINSEQ_1, SEQ_4,
      STRUCT_0, TOPMETR, COMPTS_1, METRIC_1, SQUARE_1, RCOMP_1, PRE_TOPC,
      PCOMPS_1, RLVECT_1, RLTOPSP1, EUCLID, FUNCT_4, JGRAPH_3, JORDAN5C,
      JORDAN6, TOPREAL2, CONNSP_1, TOPS_1, JORDAN17, JGRAPH_2, NUMBERS,
      XREAL_0, TOPREAL1, PSCOMP_1, REAL_1, NAT_1, SPPOL_2, XXREAL_0;
 constructors FUNCT_4, REAL_1, SQUARE_1, NAT_1, COMPLEX1, RCOMP_1, FINSEQ_4,
      TOPS_1, CONNSP_1, TOPS_2, COMPTS_1, MONOID_0, TOPMETR, TOPREAL1, SPPOL_2,
      PSCOMP_1, JORDAN5C, JORDAN6, JGRAPH_2, JGRAPH_3, JORDAN17, SEQ_1,
      PCOMPS_1, XXREAL_2, SEQ_4, FUNCSDOM, CONVEX1, BINOP_2;
 registrations XBOOLE_0, RELSET_1, FUNCT_2, NUMBERS, XXREAL_0, XREAL_0,
      SQUARE_1, MEMBERED, STRUCT_0, PRE_TOPC, TOPS_1, BORSUK_1, EUCLID,
      TOPMETR, TOPREAL1, TOPREAL2, SPPOL_2, PSCOMP_1, JGRAPH_2, JGRAPH_3,
      XXREAL_2, COMPTS_1, RLTOPSP1, MEASURE6;
 requirements REAL, BOOLE, SUBSET, NUMERALS, ARITHM;
 definitions TARSKI, XBOOLE_0, TOPREAL1, EUCLID, SQUARE_1, STRUCT_0, RLTOPSP1;
 theorems TARSKI, XBOOLE_0, XBOOLE_1, RELAT_1, FUNCT_1, FUNCT_2, TOPS_1,
      TOPS_2, PRE_TOPC, TOPMETR, JORDAN6, EUCLID, JGRAPH_1, SQUARE_1, PSCOMP_1,
      METRIC_1, JGRAPH_2, RCOMP_1, COMPTS_1, BORSUK_1, TOPREAL1, TOPREAL3,
      TOPREAL5, JGRAPH_3, ABSVALUE, JORDAN7, HEINE, JGRAPH_4, JORDAN5C,
      JGRAPH_5, GOBOARD6, TOPREAL2, TREAL_1, FINSEQ_1, FINSEQ_3, FINSEQ_4,
      ZFMISC_1, NAT_1, ENUMSET1, UNIFORM1, BORSUK_4, TSEP_1, FUNCT_4, JORDAN17,
      GOBOARD7, XREAL_0, TOPRNS_1, COMPLEX1, XCMPLX_0, XCMPLX_1, SPPOL_2,
      SEQ_4, XREAL_1, XXREAL_0, XXREAL_1, XXREAL_2, RLTOPSP1, RLVECT_1;
 schemes FUNCT_2, JGRAPH_2, FRAENKEL, DOMAIN_1, CLASSES1;

begin

Lm1: for a,b being real number st b<=0 & a<=b
holds a*sqrt(1+b^2)<= b*sqrt(1+a^2)
proof
  let a,b be real number;
  assume that
A1: b<=0 and
A2: a<=b;
A3: a^2>=0 by XREAL_1:65;
  then
A4: (-b)*sqrt(1+a^2)=sqrt((-b)^2*(1+a^2)) by A1,SQUARE_1:124;
A5: (-a)*sqrt(1+b^2)=sqrt((-a)^2*(1+b^2)) by A1,A2,SQUARE_1:124;
  a<b or a=b by A2,XXREAL_0:1;
  then b^2<a^2 or a=b by A1,SQUARE_1:114;
  then
A6: b^2*1+b^2*a^2<=a^2*1+a^2*b^2 by XREAL_1:9;
  (b)^2>=0 by XREAL_1:65;
  then -(a*sqrt(1+b^2))>= -(b*sqrt(1+a^2)) by A3,A4,A5,A6,SQUARE_1:94;
  hence thesis by XREAL_1:26;
end;

Lm2: for a,b being real number st a<=0 & a<=b
holds a*sqrt(1+b^2)<= b*sqrt(1+a^2)
proof
  let a,b be real number;
  assume that
A1: a<=0 and
A2: a<=b;
  now per cases;
    case b<=0;
      hence thesis by A2,Lm1;
    end;
    case
A3:   b>0;
      (b)^2 >=0 by XREAL_1:65;
      then sqrt(1+(b)^2)>0 by SQUARE_1:93;
      then
A4:   a*sqrt(1+b^2)<=0 by A1;
      (a)^2 >=0 by XREAL_1:65;
      then sqrt(1+(a)^2)>0 by SQUARE_1:93;
      hence thesis by A3,A4;
    end;
  end;
  hence thesis;
end;

Lm3: for a,b being real number st a>=0 & a>=b
holds a*sqrt(1+b^2)>= b*sqrt(1+a^2)
proof
  let a,b be real number;
  assume that
A1: a>=0 and
A2: a>=b;
  -a <= -b by A2,XREAL_1:26;
  then (-a)*sqrt(1+(-b)^2)<= (-b)*sqrt(1+(-a)^2) by A1,Lm2;
  then -(a*sqrt(1+(b)^2))<= -(b*sqrt(1+(a)^2));
  hence thesis by XREAL_1:26;
end;

canceled 8;

theorem Th9:
  for a,c,d being real number,p being Point of TOP-REAL 2
  st c <=d & p in LSeg(|[a,c]|,|[a,d]|) holds p`1=a & c <=p`2 & p`2<=d
proof
  let a,c,d be real number,p be Point of TOP-REAL 2;
  assume that
A1: c <=d and
A2: p in LSeg(|[a,c]|,|[a,d]|);
  thus p`1=a by A2,TOPREAL3:17;
A3: (|[a,c]|)`2=c by EUCLID:56;
  (|[a,d]|)`2=d by EUCLID:56;
  hence thesis by A1,A2,A3,TOPREAL1:10;
end;

theorem Th10:
  for a,c,d being real number,p being Point of TOP-REAL 2
  st c <d & p`1=a & c <=p`2 & p`2<=d holds p in LSeg(|[a,c]|,|[a,d]|)
proof
  let a,c,d be real number,p be Point of TOP-REAL 2;
  assume that
A1: c <d and
A2: p`1=a and
A3: c <=p`2 and
A4: p`2<=d;
A5: d-c>0 by A1,XREAL_1:52;
  reconsider w=(p`2-c)/(d-c) as Real;
A6: (1-w)*(|[a,c]|)+w*(|[a,d]|) =|[(1-w)*a,(1-w)*c]|+w*(|[a,d]|) by EUCLID:62
    .=|[(1-w)*a,(1-w)*c]|+(|[w*a,w*d]|) by EUCLID:62
    .=|[(1-w)*a+w*a,(1-w)*c+w*d]| by EUCLID:60
    .= |[a,c+w*(d-c)]|
    .= |[a,c+(p`2-c)]| by A5,XCMPLX_1:88
    .= p by A2,EUCLID:57;
A7: p`2-c>=0 by A3,XREAL_1:50;
  p`2-c <=d-c by A4,XREAL_1:11;
  then w<=(d-c)/(d-c) by A5,XREAL_1:74;
  then w<=1 by A5,XCMPLX_1:60;
  hence thesis by A5,A6,A7;
end;

theorem Th11:
  for a,b,d being real number,p being Point of TOP-REAL 2
  st a <=b & p in LSeg(|[a,d]|,|[b,d]|) holds p`2=d & a <=p`1 & p`1<=b
proof
  let a,b,d be real number,p be Point of TOP-REAL 2;
  assume that
A1: a <=b and
A2: p in LSeg(|[a,d]|,|[b,d]|);
  thus p`2=d by A2,TOPREAL3:18;
A3: (|[a,d]|)`1=a by EUCLID:56;
  (|[b,d]|)`1=b by EUCLID:56;
  hence thesis by A1,A2,A3,TOPREAL1:9;
end;

theorem Th12: :: BORSUK_4:48
  for a,b being real number,B being Subset of I[01] st
  B=[.a,b.] holds B is closed
proof
  let a,b be real number,B be Subset of I[01];
  assume
A1: B=[.a,b.];
  reconsider B2=B as Subset of R^1 by BORSUK_1:83,TOPMETR:24,XBOOLE_1:1;
A2: B2 is closed by A1,TREAL_1:4;
  reconsider I1=[.0,1.] as Subset of R^1 by TOPMETR:24;
A3: [#](R^1|I1)=the carrier of I[01] by BORSUK_1:83,PRE_TOPC:def 10;
A4: I[01]=R^1|I1 by TOPMETR:26,27;
  B=B2 /\ [#](R^1|I1) by A3,XBOOLE_1:28;
  hence thesis by A2,A4,PRE_TOPC:43;
end;

theorem Th13:
  for X being TopStruct,Y,Z being non empty TopStruct,
  f being Function of X,Y, g being Function of X,Z holds dom f=dom g
  & dom f=the carrier of X & dom f=[#]X
proof
  let X be TopStruct,Y,Z be non empty TopStruct,
  f be Function of X,Y, g be Function of X,Z;
  dom f=the carrier of X by FUNCT_2:def 1;
  hence thesis by FUNCT_2:def 1;
end;

theorem Th14:
  for X being non empty TopSpace,B being non empty Subset of X
  ex f being Function of X|B,X st (for p being Point of X|B holds f.p=p) &
  f is continuous
proof
  let X be non empty TopSpace,B be non empty Subset of X;
  defpred P[set,set] means (for p being Point of X|B holds $2=$1);
A1: [#](X|B)= B by PRE_TOPC:def 10;
A2: for x being Element of X|B ex y being Element of X st P[x,y]
  proof
    let x be Element of X|B;
    x in B by A1;
    then reconsider px=x as Point of X;
    set y0=px;
    P[x,y0];
    hence thesis;
  end;
  ex g being Function of the carrier of X|B,the carrier of X st
  for x being Element of X|B holds P[x,g.x] from FUNCT_2:sch 3(A2);
  then consider g being Function of the carrier of X|B,the carrier of X such
  that
A3: for x being Element of X|B holds P[x,g.x];
A4: for p being Point of X|B holds g.p=p by A3;
A5: for r0 being Point of X|B,V being Subset of X
  st g.r0 in V & V is open holds
  ex W being Subset of X|B st r0 in W & W is open & g.:W c= V
  proof
    let r0 be Point of X|B,V be Subset of X;
    assume that
A6: g.r0 in V and
A7: V is open;
    reconsider W2=V /\ [#](X|B) as Subset of X|B;
    g.r0=r0 by A3;
    then
A8: r0 in W2 by A6,XBOOLE_0:def 4;
A9: W2 is open by A7,TOPS_2:32;
    g.:W2 c= V
    proof
      let y be set;
      assume y in g.:W2;
      then consider x being set such that
A10:  x in dom g and
A11:  x in W2 and
A12:  y=g.x by FUNCT_1:def 12;
      reconsider px=x as Point of X|B by A10;
      g.px=px by A3;
      hence thesis by A11,A12,XBOOLE_0:def 4;
    end;
    hence thesis by A8,A9;
  end;
  reconsider g1=g as Function of X|B,X;
  g1 is continuous by A5,JGRAPH_2:20;
  hence thesis by A4;
end;

theorem Th15:
  for X being non empty TopSpace,
  f1 being Function of X,R^1,a being real number st f1 is continuous
  holds ex g being Function of X,R^1
  st (for p being Point of X,r1 being real number st
  f1.p=r1 holds g.p=r1-a) & g is continuous
proof
  let X be non empty TopSpace, f1 be Function of X,R^1,a be real number;
  assume f1 is continuous;
  then consider g1 being Function of X,R^1 such that
A1: for p being Point of X,r1 being real number st f1.p=r1 holds g1.p=r1+-a and
A2: g1 is continuous by JGRAPH_2:34;
  for p being Point of X,r1 being real number st f1.p=r1 holds g1.p=r1-a
  proof
    let p be Point of X,r1 be real number;
    assume f1.p=r1;
    then g1.p=r1+-a by A1;
    hence thesis;
  end;
  hence thesis by A2;
end;

theorem Th16:
  for X being non empty TopSpace,
  f1 being Function of X,R^1,a being real number st f1 is continuous
  holds ex g being Function of X,R^1
  st (for p being Point of X,r1 being real number st
  f1.p=r1 holds g.p=a-r1) & g is continuous
proof
  let X be non empty TopSpace, f1 be Function of X,R^1,a be real number;
  assume f1 is continuous;
  then consider g1 being Function of X,R^1 such that
A1: for p being Point of X,r1 being real number st f1.p=r1 holds g1.p=r1-a and
A2: g1 is continuous by Th15;
  consider g2 being Function of X,R^1 such that
A3: for p being Point of X,r1 being real number st g1.p=r1 holds g2.p= -r1 and
A4: g2 is continuous by A2,JGRAPH_4:13;
  for p being Point of X,r1 being real number st f1.p=r1 holds g2.p=a-r1
  proof
    let p be Point of X,r1 be real number;
    assume f1.p=r1;
    then g1.p=r1-a by A1;
    then g2.p=-(r1-a) by A3
      .=a-r1;
    hence thesis;
  end;
  hence thesis by A4;
end;

theorem Th17:
  for X being non empty TopSpace, n being Element of NAT,
  p being Point of TOP-REAL n,
  f being Function of X,R^1 st f is continuous ex g being Function
  of X,TOP-REAL n st (for r being Point of X holds g.r=(f.r)*p) &
  g is continuous
proof
  let X be non empty TopSpace, n be Element of NAT, p be Point of TOP-REAL n,
  f be Function of X,R^1;
  assume
A1: f is continuous;
  defpred P[set,set] means $2=(f.$1)*p;
A2: for x being Element of X ex y being Element of TOP-REAL n st P[x,y];
  ex g being Function of the carrier of X,the carrier of TOP-REAL n st
  for x being Element of X holds P[x,g.x] from FUNCT_2:sch 3(A2);
  then consider g being Function of the carrier of X,the carrier of TOP-REAL n
  such that
A3: for x being Element of X holds P[x,g.x];
  reconsider g as Function of X,TOP-REAL n;
  for r0 being Point of X,V being Subset of TOP-REAL n
  st g.r0 in V & V is open holds
  ex W being Subset of X st r0 in W & W is open & g.:W c= V
  proof
    let r0 be Point of X,V be Subset of TOP-REAL n;
    assume that
A4: g.r0 in V and
A5: V is open;
A6: g.r0 in Int V by A4,A5,TOPS_1:55;
    reconsider u=g.r0 as Point of Euclid n by TOPREAL3:13;
    consider s being real number such that
A7: s>0 and
A8: Ball(u,s) c= V by A6,GOBOARD6:8;
    now per cases;
      case
A9:     p <> 0.TOP-REAL n;
        then
A10:    |.p.| <> 0 by TOPRNS_1:25;
        set r2=s/|.p.|;
        reconsider G1=].f.r0-r2,f.r0+r2.[ as Subset of R^1 by TOPMETR:24;
A11:    f.r0<f.r0+r2 by A7,A10,XREAL_1:31,141;
        then f.r0-r2<f.r0 by XREAL_1:21;
        then
A12:    f.r0 in G1 by A11,XXREAL_1:4;
        G1 is open by JORDAN6:46;
        then consider W2 being Subset of X such that
A13:    r0 in W2 and
A14:    W2 is open and
A15:    f.:W2 c= G1 by A1,A12,JGRAPH_2:20;
        g.:W2 c= V
        proof
          let y be set;
          assume y in g.:W2;
          then consider r being set such that
A16:      r in dom g and
A17:      r in W2 and
A18:      y=g.r by FUNCT_1:def 12;
          reconsider r as Point of X by A16;
          dom f=the carrier of X by FUNCT_2:def 1;
          then f.r in f.:W2 by A17,FUNCT_1:def 12;
          then
A19:      abs(f.r - f.r0) <r2 by A15,RCOMP_1:8;
          reconsider t=f.r,t0=f.r0 as Real by XREAL_0:def 1;
A20:      abs(t0 - t)=abs(t-t0) by UNIFORM1:13;
          reconsider v=g.r as Point of Euclid n by TOPREAL3:13;
          g.r0=(f.r0)*p by A3;
          then
A21:      |.g.r0 -g.r.| = |.(f.r0)*p -(f.r)*p.| by A3
            .= |.((f.r0)-(f.r))*p.| by EUCLID:54
            .=abs(t0-t)*|.p.| by TOPRNS_1:8;
          abs(f.r - f.r0)*|.p.| < r2*|.p.| by A10,A19,XREAL_1:70;
          then |.g.r0 -g.r .|<s by A9,A20,A21,TOPRNS_1:25,XCMPLX_1:88;
          then dist(u,v)<s by JGRAPH_1:45;
          then g.r in Ball(u,s) by METRIC_1:12;
          hence thesis by A8,A18;
        end;
        hence thesis by A13,A14;
      end;
      case
A22:    p =0.TOP-REAL n;
A23:    for r being Point of X holds g.r=0.TOP-REAL n
        proof
          let r be Point of X;
          thus g.r=(f.r)*p by A3
            .=0.TOP-REAL n by A22,EUCLID:32;
        end;
        then
A24:    0.TOP-REAL n in V by A4;
        set W2=[#]X;
        g.:W2 c= V
        proof
          let y be set;
          assume y in g.:W2;
          then ex x being set st ( x in dom g)&( x in W2)&( y=g.x) by
FUNCT_1:def 12;
          hence thesis by A23,A24;
        end;
        hence thesis;
      end;
    end;
    hence thesis;
  end;
  then g is continuous by JGRAPH_2:20;
  hence thesis by A3;
end;

theorem Th18:
  Sq_Circ.(|[-1,0]|)= |[-1,0]|
proof
  set p= |[-1,0]|;
A1: p`1=-1 by EUCLID:56;
A2: p`2=0 by EUCLID:56;
A3: p<>0.TOP-REAL 2 by A1,EUCLID:56,58;
  p`2<=-p`1 by A1,EUCLID:56;
  then Sq_Circ.p= |[p`1/sqrt(1+(p`2/p`1)^2),p`2/sqrt(1+(p`2/p`1)^2)]|
  by A1,A2,A3,JGRAPH_3:def 1;
  hence thesis by A2,EUCLID:56,SQUARE_1:83;
end;

theorem
  for P being compact non empty Subset of TOP-REAL 2
  st P={p where p is Point of TOP-REAL 2: |.p.|=1}
  holds Sq_Circ.(|[-1,0]|)=W-min(P) by Th18,JGRAPH_5:32;

theorem Th20:
  for X being non empty TopSpace, n being Element of NAT,
  g1,g2 being Function of X,TOP-REAL n st g1 is continuous & g2 is continuous
  ex g being Function of X,TOP-REAL n st
  (for r being Point of X holds g.r=g1.r + g2.r) & g is continuous
proof
  let X being non empty TopSpace,n be Element of NAT, g1,g2 be Function
  of X,TOP-REAL n;
  assume that
A1: g1 is continuous and
A2: g2 is continuous;
  defpred P[set,set] means (for r1,r2 being Element of TOP-REAL n
  st g1.$1=r1 & g2.$1=r2 holds $2=r1+r2);
A3: for x being Element of X ex y being Element of TOP-REAL n st P[x,y]
  proof
    let x be Element of X;
    set rr1=g1.x;
    set rr2=g2.x;
    set r3=rr1+rr2;
    for s1,s2 being Point of TOP-REAL n st g1.x=s1 & g2.x=s2 holds r3=s1+s2;
    hence thesis;
  end;
  ex f being Function of the carrier of X,the carrier of TOP-REAL n
  st for x being Element of X holds P[x,f.x] from FUNCT_2:sch 3(A3);
  then consider f being Function of the carrier of X,the carrier of TOP-REAL n
  such that
A4: for x being Element of X holds for r1,r2 being Element of TOP-REAL n
  st g1.x=r1 & g2.x=r2 holds f.x=r1+r2;
  reconsider g0=f as Function of X,TOP-REAL n;
A5: for r being Point of X holds g0.r=g1.r + g2.r by A4;
  for p being Point of X,V being Subset of TOP-REAL n
  st g0.p in V & V is open holds
  ex W being Subset of X st p in W & W is open & g0.:W c= V
  proof
    let p be Point of X,V be Subset of TOP-REAL n;
    assume that
A6: g0.p in V and
A7: V is open;
A8: g0.p in Int V by A6,A7,TOPS_1:55;
    reconsider r=g0.p as Point of Euclid n by TOPREAL3:13;
    consider r0 being real number such that
A9: r0>0 and
A10: Ball(r,r0) c= V by A8,GOBOARD6:8;
    reconsider r01=g1.p as Point of Euclid n by TOPREAL3:13;
    reconsider G1=Ball(r01,r0/2) as Subset of TOP-REAL n by TOPREAL3:13;
    reconsider r02=g2.p as Point of Euclid n by TOPREAL3:13;
    reconsider G2=Ball(r02,r0/2) as Subset of TOP-REAL n by TOPREAL3:13;
A11: g1.p in G1 by A9,GOBOARD6:4,XREAL_1:217;
A12: the TopStruct of TOP-REAL n = TopSpaceMetr Euclid n by EUCLID:def 8;
    then reconsider GG1 = G1, GG2 = G2 as Subset of TopSpaceMetr Euclid n;
    GG1 is open by TOPMETR:21;
    then G1 is open by A12,PRE_TOPC:60;
    then consider W1 being Subset of X such that
A13: p in W1 and
A14: W1 is open and
A15: g1.:W1 c= G1 by A1,A11,JGRAPH_2:20;
A16: g2.p in G2 by A9,GOBOARD6:4,XREAL_1:217;
    GG2 is open by TOPMETR:21;
    then G2 is open by A12,PRE_TOPC:60;
    then consider W2 being Subset of X such that
A17: p in W2 and
A18: W2 is open and
A19: g2.:W2 c= G2 by A2,A16,JGRAPH_2:20;
    set W=W1 /\ W2;
A20: p in W by A13,A17,XBOOLE_0:def 4;
    g0.:W c= Ball(r,r0)
    proof
      let x be set;
      assume x in g0.:W;
      then consider z being set such that
A21:  z in dom g0 and
A22:  z in W and
A23:  g0.z=x by FUNCT_1:def 12;
A24:  z in W1 by A22,XBOOLE_0:def 4;
      reconsider pz=z as Point of X by A21;
      dom g1=the carrier of X by FUNCT_2:def 1;
      then
A25:  g1.pz in g1.:W1 by A24,FUNCT_1:def 12;
      reconsider aa1=g1.pz as Point of TOP-REAL n;
      reconsider bb1=aa1 as Point of Euclid n by TOPREAL3:13;
      dist(r01,bb1)<r0/2 by A15,A25,METRIC_1:12;
      then
A26:  |.g1.p - g1.pz .|<r0/2 by JGRAPH_1:45;
A27:  z in W2 by A22,XBOOLE_0:def 4;
      dom g2=the carrier of X by FUNCT_2:def 1;
      then
A28:  g2.pz in g2.:W2 by A27,FUNCT_1:def 12;
      reconsider aa2=g2.pz as Point of TOP-REAL n;
      reconsider bb2=aa2 as Point of Euclid n by TOPREAL3:13;
      dist(r02,bb2)<r0/2 by A19,A28,METRIC_1:12;
      then
A29:  |.g2.p - g2.pz .|<r0/2 by JGRAPH_1:45;
A30:  aa1+aa2=x by A4,A23;
      reconsider bb0=aa1+aa2 as Point of Euclid n by TOPREAL3:13;
A31:  g0.pz= g1.pz+g2.pz by A4;
      (g1.p +g2.p)-(g1.pz+g2.pz)=g1.p+g2.p-g1.pz-g2.pz by EUCLID:50
        .= g1.p+g2.p+-g1.pz-g2.pz by EUCLID:45
        .= g1.p+g2.p+-g1.pz+-g2.pz by EUCLID:45
        .= g1.p+-g1.pz+g2.p+-g2.pz by EUCLID:30
        .= g1.p+-g1.pz+(g2.p+-g2.pz) by EUCLID:30
        .= g1.p-g1.pz+(g2.p+-g2.pz) by EUCLID:45
        .= g1.p-g1.pz+(g2.p-g2.pz) by EUCLID:45;
      then
A32:  |.(g1.p +g2.p)-(g1.pz+g2.pz).|
      <= |.g1.p-g1.pz.| + |.g2.p-g2.pz.| by TOPRNS_1:30;
      |.g1.p-g1.pz.| + |.g2.p-g2.pz.| < r0/2 +r0/2 by A26,A29,XREAL_1:10;
      then |.(g1.p +g2.p)-(g1.pz+g2.pz).|<r0 by A32,XXREAL_0:2;
      then |.g0.p - g0.pz .|<r0 by A4,A31;
      then dist(r,bb0)<r0 by A23,A30,JGRAPH_1:45;
      hence thesis by A30,METRIC_1:12;
    end;
    hence thesis by A10,A14,A18,A20,XBOOLE_1:1;
  end;
  then g0 is continuous by JGRAPH_2:20;
  hence thesis by A5;
end;

theorem Th21:
  for X being non empty TopSpace, n being Element of NAT,
  p1,p2 being Point of TOP-REAL n, f1,f2 being Function of X,R^1 st
  f1 is continuous & f2 is continuous ex g being Function of X,TOP-REAL n st
  (for r being Point of X holds g.r=(f1.r)*p1+(f2.r)*p2) & g is continuous
proof
  let X be non empty TopSpace, n be Element of NAT,
  p1,p2 be Point of TOP-REAL n, f1,f2 be Function of X,R^1;
  assume that
A1: f1 is continuous and
A2: f2 is continuous;
  consider g1 being Function of X,TOP-REAL n such that
A3: for r being Point of X holds g1.r=(f1.r)*p1 and
A4: g1 is continuous by A1,Th17;
  consider g2 being Function of X,TOP-REAL n such that
A5: for r being Point of X holds g2.r=(f2.r)*p2 and
A6: g2 is continuous by A2,Th17;
  consider g being Function of X,TOP-REAL n such that
A7: for r being Point of X holds g.r=g1.r + g2.r and
A8: g is continuous by A4,A6,Th20;
  for r being Point of X holds g.r=(f1.r)*p1+(f2.r)*p2
  proof
    let r be Point of X;
    g.r=g1.r+g2.r by A7;
    then g.r=g1.r+(f2.r)*p2 by A5;
    hence thesis by A3;
  end;
  hence thesis by A8;
end;

begin :: General Fashoda Theorem for Unit Circle

Lm4: (|[-1,0]|)`1 =-1 by EUCLID:56;

Lm5: (|[-1,0]|)`2=0 by EUCLID:56;

Lm6: (|[1,0]|)`1 =1 by EUCLID:56;

Lm7: (|[1,0]|)`2=0 by EUCLID:56;

Lm8: (|[0,-1]|)`1 =0 by EUCLID:56;

Lm9: (|[0,-1]|)`2=-1 by EUCLID:56;

Lm10: (|[0,1]|)`1 =0 by EUCLID:56;

Lm11: (|[0,1]|)`2=1 by EUCLID:56;

Lm12: now
  thus |.(|[-1,0]|).|=sqrt((-1)^2+0^2) by Lm4,Lm5,JGRAPH_3:10
    .=1 by SQUARE_1:83;
  thus |.(|[1,0]|).|=sqrt(1^2+0^2) by Lm6,Lm7,JGRAPH_3:10
    .=1 by SQUARE_1:83;
  thus |.(|[0,-1]|).|=sqrt(0^2+(-1)^2) by Lm8,Lm9,JGRAPH_3:10
    .=1 by SQUARE_1:83;
  thus |.(|[0,1]|).|=sqrt(0^2+1^2) by Lm10,Lm11,JGRAPH_3:10
    .=1 by SQUARE_1:83;
end;

Lm13: 0 in [.0,1.] by XXREAL_1:1;

Lm14: 1 in [.0,1.] by XXREAL_1:1;

reserve p,p1,p2,p3,q,q1,q2 for Point of TOP-REAL 2,
  i for Element of NAT,
  lambda for Real;

canceled;

theorem Th23:
  for f,g being Function of I[01],TOP-REAL 2,
  C0,KXP,KXN,KYP,KYN being Subset of TOP-REAL 2,
  O,I being Point of I[01] st O=0 & I=1 & f is continuous one-to-one &
  g is continuous one-to-one & C0={p: |.p.|<=1}&
  KXP={q1 where q1 is Point of TOP-REAL 2:
  |.q1.|=1 & q1`2<=q1`1 & q1`2>=-q1`1} &
  KXN={q2 where q2 is Point of TOP-REAL 2:
  |.q2.|=1 & q2`2>=q2`1 & q2`2<=-q2`1} &
  KYP={q3 where q3 is Point of TOP-REAL 2:
  |.q3.|=1 & q3`2>=q3`1 & q3`2>=-q3`1} &
  KYN={q4 where q4 is Point of TOP-REAL 2:
  |.q4.|=1 & q4`2<=q4`1 & q4`2<=-q4`1} & f.O in KXP & f.I in KXN &
  g.O in KYP & g.I in KYN & rng f c= C0 & rng g c= C0 holds rng f meets rng g
proof
  let f,g be Function of I[01],TOP-REAL 2,
  C0,KXP,KXN,KYP,KYN be Subset of TOP-REAL 2, O,I be Point of I[01];
  assume
A1: O=0 & I=1 & f is continuous & f is one-to-one &
  g is continuous & g is one-to-one & C0={p: |.p.|<=1}&
  KXP={q1 where q1 is Point of TOP-REAL 2:
  |.q1.|=1 & q1`2<=q1`1 & q1`2>=-q1`1} &
  KXN={q2 where q2 is Point of TOP-REAL 2:
  |.q2.|=1 & q2`2>=q2`1 & q2`2<=-q2`1} &
  KYP={q3 where q3 is Point of TOP-REAL 2:
  |.q3.|=1 & q3`2>=q3`1 & q3`2>=-q3`1} &
  KYN={q4 where q4 is Point of TOP-REAL 2:
  |.q4.|=1 & q4`2<=q4`1 & q4`2<=-q4`1} & f.O in KXP & f.I in KXN &
  g.O in KYP & g.I in KYN & rng f c= C0 & rng g c= C0;
  then ex f2 being Function of I[01],TOP-REAL 2 st ( f2.0=f.1)&( f2
  .1=f.0)&( rng f2=rng f)&( f2 is continuous)&( f2 is one-to-one) by
JGRAPH_5:15;
  hence thesis by A1,JGRAPH_5:16;
end;

theorem Th24:
  for f,g being Function of I[01],TOP-REAL 2,
  C0,KXP,KXN,KYP,KYN being Subset of TOP-REAL 2,
  O,I being Point of I[01] st O=0 & I=1 & f is continuous & f is one-to-one &
  g is continuous & g is one-to-one & C0={p: |.p.|<=1}&
  KXP={q1 where q1 is Point of TOP-REAL 2:
  |.q1.|=1 & q1`2<=q1`1 & q1`2>=-q1`1} &
  KXN={q2 where q2 is Point of TOP-REAL 2:
  |.q2.|=1 & q2`2>=q2`1 & q2`2<=-q2`1} &
  KYP={q3 where q3 is Point of TOP-REAL 2:
  |.q3.|=1 & q3`2>=q3`1 & q3`2>=-q3`1} &
  KYN={q4 where q4 is Point of TOP-REAL 2:
  |.q4.|=1 & q4`2<=q4`1 & q4`2<=-q4`1} & f.O in KXP & f.I in KXN &
  g.O in KYN & g.I in KYP & rng f c= C0 & rng g c= C0 holds rng f meets rng g
proof
  let f,g be Function of I[01],TOP-REAL 2,
  C0,KXP,KXN,KYP,KYN be Subset of TOP-REAL 2, O,I be Point of I[01];
  assume
A1: O=0 & I=1 & f is continuous & f is one-to-one &
  g is continuous & g is one-to-one & C0={p: |.p.|<=1}&
  KXP={q1 where q1 is Point of TOP-REAL 2:
  |.q1.|=1 & q1`2<=q1`1 & q1`2>=-q1`1} &
  KXN={q2 where q2 is Point of TOP-REAL 2:
  |.q2.|=1 & q2`2>=q2`1 & q2`2<=-q2`1} &
  KYP={q3 where q3 is Point of TOP-REAL 2:
  |.q3.|=1 & q3`2>=q3`1 & q3`2>=-q3`1} &
  KYN={q4 where q4 is Point of TOP-REAL 2:
  |.q4.|=1 & q4`2<=q4`1 & q4`2<=-q4`1} & f.O in KXP & f.I in KXN &
  g.O in KYN & g.I in KYP & rng f c= C0 & rng g c= C0;
  then ex g2 being Function of I[01],TOP-REAL 2 st ( g2.0=g.1)&( g2
  .1=g.0)&( rng g2=rng g)&( g2 is continuous)&( g2 is one-to-one) by
JGRAPH_5:15;
  hence thesis by A1,Th23;
end;

theorem Th25:
  for p1,p2,p3,p4 being Point of TOP-REAL 2,
  P being compact non empty Subset of TOP-REAL 2,C0 being Subset of TOP-REAL 2
  st P={p where p is Point of TOP-REAL 2: |.p.|=1}
  & LE p1,p2,P & LE p2,p3,P & LE p3,p4,P holds
  for f,g being Function of I[01],TOP-REAL 2 st
  f is continuous one-to-one & g is continuous one-to-one &
  C0={p8 where p8 is Point of TOP-REAL 2: |.p8.|<=1}&
  f.0=p3 & f.1=p1 & g.0=p2 & g.1=p4 &
  rng f c= C0 & rng g c= C0 holds rng f meets rng g
proof
  let p1,p2,p3,p4 be Point of TOP-REAL 2,
  P be compact non empty Subset of TOP-REAL 2,C0 be Subset of TOP-REAL 2;
  assume that
A1: P={p where p is Point of TOP-REAL 2: |.p.|=1} and
A2: LE p1,p2,P and
A3: LE p2,p3,P and
A4: LE p3,p4,P;
  let f,g be Function of I[01],TOP-REAL 2;
  assume that
A5: f is continuous one-to-one and
A6: g is continuous one-to-one and
A7: C0={p8 where p8 is Point of TOP-REAL 2: |.p8.|<=1} and
A8: f.0=p3 and
A9: f.1=p1 and
A10: g.0=p2 and
A11: g.1=p4 and
A12: rng f c= C0 and
A13: rng g c= C0;
A14: dom f=the carrier of I[01] by FUNCT_2:def 1;
A15: dom g=the carrier of I[01] by FUNCT_2:def 1;
  per cases;
  suppose
A16: not (p1<>p2 & p2<>p3 & p3<>p4);
    now per cases by A16;
      case
A17:    p1=p2;
A18:    p1 in rng f by A9,A14,Lm14,BORSUK_1:83,FUNCT_1:def 5;
        p2 in rng g by A10,A15,Lm13,BORSUK_1:83,FUNCT_1:def 5;
        hence rng f meets rng g by A17,A18,XBOOLE_0:3;
      end;
      case
A19:    p2=p3;
A20:    p3 in rng f by A8,A14,Lm13,BORSUK_1:83,FUNCT_1:def 5;
        p2 in rng g by A10,A15,Lm13,BORSUK_1:83,FUNCT_1:def 5;
        hence rng f meets rng g by A19,A20,XBOOLE_0:3;
      end;
      case
A21:    p3=p4;
A22:    p3 in rng f by A8,A14,Lm13,BORSUK_1:83,FUNCT_1:def 5;
        p4 in rng g by A11,A15,Lm14,BORSUK_1:83,FUNCT_1:def 5;
        hence rng f meets rng g by A21,A22,XBOOLE_0:3;
      end;
    end;
    hence thesis;
  end;
  suppose p1<>p2 & p2<>p3 & p3<>p4;
    then consider h being Function of TOP-REAL 2,TOP-REAL 2 such that
A23: h is being_homeomorphism and
A24: for q being Point of TOP-REAL 2 holds |.(h.q).|=|.q.| and
A25: |[-1,0]|=h.p1 and
A26: |[0,1]|=h.p2 and
A27: |[1,0]|=h.p3 and
A28: |[0,-1]|=h.p4 by A1,A2,A3,A4,JGRAPH_5:70;
A29: h is one-to-one by A23,TOPS_2:def 5;
    reconsider f2=h*f as Function of I[01],TOP-REAL 2;
    reconsider g2=h*g as Function of I[01],TOP-REAL 2;
A30: dom f2=the carrier of I[01] by FUNCT_2:def 1;
A31: dom g2=the carrier of I[01] by FUNCT_2:def 1;
A32: f2.1= |[-1,0]| by A9,A25,A30,Lm14,BORSUK_1:83,FUNCT_1:22;
A33: g2.1= |[0,-1]| by A11,A28,A31,Lm14,BORSUK_1:83,FUNCT_1:22;
A34: f2.0= |[1,0]| by A8,A27,A30,Lm13,BORSUK_1:83,FUNCT_1:22;
A35: g2.0= |[0,1]| by A10,A26,A31,Lm13,BORSUK_1:83,FUNCT_1:22;
A36: f2 is continuous one-to-one by A5,A23,JGRAPH_5:8,9;
A37: g2 is continuous one-to-one by A6,A23,JGRAPH_5:8,9;
A38: rng f2 c= C0
    proof
      let y be set;
      assume y in rng f2;
      then consider x being set such that
A39:  x in dom f2 and
A40:  y=f2.x by FUNCT_1:def 5;
A41:  f2.x=h.(f.x) by A39,FUNCT_1:22;
A42:  f.x in rng f by A14,A39,FUNCT_1:def 5;
      then
A43:  f.x in C0 by A12;
      reconsider qf=f.x as Point of TOP-REAL 2 by A42;
A44:  ex q5 being Point of TOP-REAL 2 st ( q5=f.x)&( |.q5.|<=1) by A7,A43;
      |.(h.qf).|=|.qf.| by A24;
      hence thesis by A7,A40,A41,A44;
    end;
A45: rng g2 c= C0
    proof
      let y be set;
      assume y in rng g2;
      then consider x being set such that
A46:  x in dom g2 and
A47:  y=g2.x by FUNCT_1:def 5;
A48:  g2.x=h.(g.x) by A46,FUNCT_1:22;
A49:  g.x in rng g by A15,A46,FUNCT_1:def 5;
      then
A50:  g.x in C0 by A13;
      reconsider qg=g.x as Point of TOP-REAL 2 by A49;
A51:  ex q5 being Point of TOP-REAL 2 st ( q5=g.x)&( |.q5.|<=1) by A7,A50;
      |.(h.qg).|=|.qg.| by A24;
      hence thesis by A7,A47,A48,A51;
    end;
    defpred Q[Point of TOP-REAL 2] means |.$1.|=1 & $1`2<=$1`1 & $1`2>=-$1`1;
    {q1 where q1 is Point of TOP-REAL 2:Q[q1]} is
    Subset of TOP-REAL 2 from JGRAPH_2:sch 1;
    then reconsider KXP={q1 where q1 is Point of TOP-REAL 2:
    |.q1.|=1 & q1`2<=q1`1 & q1`2>=-q1`1} as Subset of TOP-REAL 2;
    defpred Q[Point of TOP-REAL 2] means |.$1.|=1 & $1`2>=$1`1 & $1`2<=-$1`1;
    {q2 where q2 is Point of TOP-REAL 2:Q[q2]} is
    Subset of TOP-REAL 2 from JGRAPH_2:sch 1;
    then reconsider KXN={q2 where q2 is Point of TOP-REAL 2:
    |.q2.|=1 & q2`2>=q2`1 & q2`2<=-q2`1} as Subset of TOP-REAL 2;
    defpred Q[Point of TOP-REAL 2] means |.$1.|=1 & $1`2>=$1`1 & $1`2>=-$1`1;
    {q3 where q3 is Point of TOP-REAL 2:Q[q3]} is
    Subset of TOP-REAL 2 from JGRAPH_2:sch 1;
    then reconsider KYP={q3 where q3 is Point of TOP-REAL 2:
    |.q3.|=1 & q3`2>=q3`1 & q3`2>=-q3`1} as Subset of TOP-REAL 2;
    defpred Q[Point of TOP-REAL 2] means |.$1.|=1 & $1`2<=$1`1 & $1`2<=-$1`1;
    {q4 where q4 is Point of TOP-REAL 2:Q[q4]} is
    Subset of TOP-REAL 2 from JGRAPH_2:sch 1;
    then reconsider KYN={q4 where q4 is Point of TOP-REAL 2:
    |.q4.|=1 & q4`2<=q4`1 & q4`2<=-q4`1} as Subset of TOP-REAL 2;
    reconsider O=0,I=1 as Point of I[01] by BORSUK_1:83,XXREAL_1:1;
    -(|[-1,0]|)`1=1 by Lm4;
    then
A52: f2.I in KXN by A32,Lm5,Lm12;
A53: f2.O in KXP by A34,Lm6,Lm7,Lm12;
    -(|[0,-1]|)`1= 0 by Lm8;
    then
A54: g2.I in KYN by A33,Lm9,Lm12;
    -(|[0,1]|)`1= 0 by Lm10;
    then g2.O in KYP by A35,Lm11,Lm12;
    then rng f2 meets rng g2 by A7,A36,A37,A38,A45,A52,A53,A54,Th23;
    then consider x2 being set such that
A55: x2 in rng f2 and
A56: x2 in rng g2 by XBOOLE_0:3;
    consider z2 being set such that
A57: z2 in dom f2 and
A58: x2=f2.z2 by A55,FUNCT_1:def 5;
    consider z3 being set such that
A59: z3 in dom g2 and
A60: x2=g2.z3 by A56,FUNCT_1:def 5;
A61: dom h=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
A62: g.z3 in rng g by A15,A59,FUNCT_1:def 5;
A63: f.z2 in rng f by A14,A57,FUNCT_1:def 5;
    reconsider h1=h as Function;
A64: h1".x2=h1".(h.(f.z2)) by A57,A58,FUNCT_1:22
      .=f.z2 by A29,A61,A63,FUNCT_1:56;
A65: h1".x2=h1".(h.(g.z3)) by A59,A60,FUNCT_1:22
      .=g.z3 by A29,A61,A62,FUNCT_1:56;
A66: h1".x2 in rng f by A14,A57,A64,FUNCT_1:def 5;
    h1".x2 in rng g by A15,A59,A65,FUNCT_1:def 5;
    hence thesis by A66,XBOOLE_0:3;
  end;
end;

theorem Th26:
  for p1,p2,p3,p4 being Point of TOP-REAL 2,
  P being compact non empty Subset of TOP-REAL 2,C0 being Subset of TOP-REAL 2
  st P={p where p is Point of TOP-REAL 2: |.p.|=1}
  & LE p1,p2,P & LE p2,p3,P & LE p3,p4,P holds
  for f,g being Function of I[01],TOP-REAL 2 st
  f is continuous one-to-one & g is continuous one-to-one &
  C0={p8 where p8 is Point of TOP-REAL 2: |.p8.|<=1}&
  f.0=p3 & f.1=p1 & g.0=p4 & g.1=p2 &
  rng f c= C0 & rng g c= C0 holds rng f meets rng g
proof
  let p1,p2,p3,p4 be Point of TOP-REAL 2,
  P be compact non empty Subset of TOP-REAL 2,C0 be Subset of TOP-REAL 2;
  assume that
A1: P={p where p is Point of TOP-REAL 2: |.p.|=1} and
A2: LE p1,p2,P and
A3: LE p2,p3,P and
A4: LE p3,p4,P;
  let f,g be Function of I[01],TOP-REAL 2;
  assume that
A5: f is continuous one-to-one and
A6: g is continuous one-to-one and
A7: C0={p8 where p8 is Point of TOP-REAL 2: |.p8.|<=1} and
A8: f.0=p3 and
A9: f.1=p1 and
A10: g.0=p4 and
A11: g.1=p2 and
A12: rng f c= C0 and
A13: rng g c= C0;
A14: dom f=the carrier of I[01] by FUNCT_2:def 1;
A15: dom g=the carrier of I[01] by FUNCT_2:def 1;
  per cases;
  suppose
A16: not (p1<>p2 & p2<>p3 & p3<>p4);
    now per cases by A16;
      case
A17:    p1=p2;
A18:    p1 in rng f by A9,A14,Lm14,BORSUK_1:83,FUNCT_1:def 5;
        p2 in rng g by A11,A15,Lm14,BORSUK_1:83,FUNCT_1:def 5;
        hence rng f meets rng g by A17,A18,XBOOLE_0:3;
      end;
      case
A19:    p2=p3;
A20:    p3 in rng f by A8,A14,Lm13,BORSUK_1:83,FUNCT_1:def 5;
        p2 in rng g by A11,A15,Lm14,BORSUK_1:83,FUNCT_1:def 5;
        hence rng f meets rng g by A19,A20,XBOOLE_0:3;
      end;
      case
A21:    p3=p4;
A22:    p3 in rng f by A8,A14,Lm13,BORSUK_1:83,FUNCT_1:def 5;
        p4 in rng g by A10,A15,Lm13,BORSUK_1:83,FUNCT_1:def 5;
        hence rng f meets rng g by A21,A22,XBOOLE_0:3;
      end;
    end;
    hence thesis;
  end;
  suppose p1<>p2 & p2<>p3 & p3<>p4;
    then consider h being Function of TOP-REAL 2,TOP-REAL 2 such that
A23: h is being_homeomorphism and
A24: for q being Point of TOP-REAL 2 holds |.(h.q).|=|.q.| and
A25: |[-1,0]|=h.p1 and
A26: |[0,1]|=h.p2 and
A27: |[1,0]|=h.p3 and
A28: |[0,-1]|=h.p4 by A1,A2,A3,A4,JGRAPH_5:70;
A29: h is one-to-one by A23,TOPS_2:def 5;
    reconsider f2=h*f as Function of I[01],TOP-REAL 2;
    reconsider g2=h*g as Function of I[01],TOP-REAL 2;
A30: dom f2=the carrier of I[01] by FUNCT_2:def 1;
A31: dom g2=the carrier of I[01] by FUNCT_2:def 1;
A32: f2.1= |[-1,0]| by A9,A25,A30,Lm14,BORSUK_1:83,FUNCT_1:22;
A33: g2.1= |[0,1]| by A11,A26,A31,Lm14,BORSUK_1:83,FUNCT_1:22;
A34: f2.0= |[1,0]| by A8,A27,A30,Lm13,BORSUK_1:83,FUNCT_1:22;
A35: g2.0= |[0,-1]| by A10,A28,A31,Lm13,BORSUK_1:83,FUNCT_1:22;
A36: f2 is continuous one-to-one by A5,A23,JGRAPH_5:8,9;
A37: g2 is continuous one-to-one by A6,A23,JGRAPH_5:8,9;
A38: rng f2 c= C0
    proof
      let y be set;
      assume y in rng f2;
      then consider x being set such that
A39:  x in dom f2 and
A40:  y=f2.x by FUNCT_1:def 5;
A41:  f2.x=h.(f.x) by A39,FUNCT_1:22;
A42:  f.x in rng f by A14,A39,FUNCT_1:def 5;
      then
A43:  f.x in C0 by A12;
      reconsider qf=f.x as Point of TOP-REAL 2 by A42;
A44:  ex q5 being Point of TOP-REAL 2 st ( q5=f.x)&( |.q5.|<=1) by A7,A43;
      |.(h.qf).|=|.qf.| by A24;
      hence thesis by A7,A40,A41,A44;
    end;
A45: rng g2 c= C0
    proof
      let y be set;
      assume y in rng g2;
      then consider x being set such that
A46:  x in dom g2 and
A47:  y=g2.x by FUNCT_1:def 5;
A48:  g2.x=h.(g.x) by A46,FUNCT_1:22;
A49:  g.x in rng g by A15,A46,FUNCT_1:def 5;
      then
A50:  g.x in C0 by A13;
      reconsider qg=g.x as Point of TOP-REAL 2 by A49;
A51:  ex q5 being Point of TOP-REAL 2 st ( q5=g.x)&( |.q5.|<=1) by A7,A50;
      |.(h.qg).|=|.qg.| by A24;
      hence thesis by A7,A47,A48,A51;
    end;
    defpred P[Point of TOP-REAL 2] means |.$1.|=1 & $1`2<=$1`1 & $1`2>=-$1`1;
    {q1 where q1 is Point of TOP-REAL 2:P[q1]} is
    Subset of TOP-REAL 2 from JGRAPH_2:sch 1;
    then reconsider KXP={q1 where q1 is Point of TOP-REAL 2:
    |.q1.|=1 & q1`2<=q1`1 & q1`2>=-q1`1} as Subset of TOP-REAL 2;
    defpred P[Point of TOP-REAL 2] means |.$1.|=1 & $1`2>=$1`1 & $1`2<=-$1`1;
    {q2 where q2 is Point of TOP-REAL 2:P[q2]} is
    Subset of TOP-REAL 2 from JGRAPH_2:sch 1;
    then reconsider KXN={q2 where q2 is Point of TOP-REAL 2:
    |.q2.|=1 & q2`2>=q2`1 & q2`2<=-q2`1} as Subset of TOP-REAL 2;
    defpred P[Point of TOP-REAL 2] means |.$1.|=1 & $1`2>=$1`1 & $1`2>=-$1`1;
    {q3 where q3 is Point of TOP-REAL 2:P[q3]} is
    Subset of TOP-REAL 2 from JGRAPH_2:sch 1;
    then reconsider KYP={q3 where q3 is Point of TOP-REAL 2:
    |.q3.|=1 & q3`2>=q3`1 & q3`2>=-q3`1} as Subset of TOP-REAL 2;
    defpred P[Point of TOP-REAL 2] means |.$1.|=1 & $1`2<=$1`1 & $1`2<=-$1`1;
    {q4 where q4 is Point of TOP-REAL 2:P[q4]} is
    Subset of TOP-REAL 2 from JGRAPH_2:sch 1;
    then reconsider KYN={q4 where q4 is Point of TOP-REAL 2:
    |.q4.|=1 & q4`2<=q4`1 & q4`2<=-q4`1} as Subset of TOP-REAL 2;
    reconsider O=0,I=1 as Point of I[01] by BORSUK_1:83,XXREAL_1:1;
    -(|[-1,0]|)`1=1 by Lm4;
    then
A52: f2.I in KXN by A32,Lm5,Lm12;
A53: f2.O in KXP by A34,Lm6,Lm7,Lm12;
    -(|[0,-1]|)`1= 0 by Lm8;
    then
A54: g2.I in KYP by A33,Lm10,Lm11,Lm12;
    -(|[0,1]|)`1= 0 by Lm10;
    then g2.O in KYN by A35,Lm8,Lm9,Lm12;
    then rng f2 meets rng g2 by A7,A36,A37,A38,A45,A52,A53,A54,Th24;
    then consider x2 being set such that
A55: x2 in rng f2 and
A56: x2 in rng g2 by XBOOLE_0:3;
    consider z2 being set such that
A57: z2 in dom f2 and
A58: x2=f2.z2 by A55,FUNCT_1:def 5;
    consider z3 being set such that
A59: z3 in dom g2 and
A60: x2=g2.z3 by A56,FUNCT_1:def 5;
A61: dom h=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
A62: g.z3 in rng g by A15,A59,FUNCT_1:def 5;
A63: f.z2 in rng f by A14,A57,FUNCT_1:def 5;
    reconsider h1=h as Function;
A64: h1".x2=h1".(h.(f.z2)) by A57,A58,FUNCT_1:22
      .=f.z2 by A29,A61,A63,FUNCT_1:56;
A65: h1".x2=h1".(h.(g.z3)) by A59,A60,FUNCT_1:22
      .=g.z3 by A29,A61,A62,FUNCT_1:56;
A66: h1".x2 in rng f by A14,A57,A64,FUNCT_1:def 5;
    h1".x2 in rng g by A15,A59,A65,FUNCT_1:def 5;
    hence thesis by A66,XBOOLE_0:3;
  end;
end;

theorem Th27:
  for p1,p2,p3,p4 being Point of TOP-REAL 2,
  P being compact non empty Subset of TOP-REAL 2,
  C0 being Subset of TOP-REAL 2 st
  P={p where p is Point of TOP-REAL 2: |.p.|=1} &
  p1,p2,p3,p4 are_in_this_order_on P holds
  for f,g being Function of I[01],TOP-REAL 2 st
  f is continuous one-to-one & g is continuous one-to-one &
  C0={p8 where p8 is Point of TOP-REAL 2: |.p8.|<=1}&
  f.0=p1 & f.1=p3 & g.0=p2 & g.1=p4 &
  rng f c= C0 & rng g c= C0 holds rng f meets rng g
proof
  let p1,p2,p3,p4 be Point of TOP-REAL 2,
  P be compact non empty Subset of TOP-REAL 2,C0 be Subset of TOP-REAL 2;
  assume that
A1: P={p where p is Point of TOP-REAL 2: |.p.|=1} and
A2: p1,p2,p3,p4 are_in_this_order_on P;
  per cases by A2,JORDAN17:def 1;
  suppose LE p1,p2,P & LE p2,p3,P & LE p3,p4,P;
    hence thesis by A1,JGRAPH_5:71;
  end;
  suppose LE p2,p3,P & LE p3,p4,P & LE p4,p1,P;
    hence thesis by A1,JGRAPH_5:72;
  end;
  suppose LE p3,p4,P & LE p4,p1,P & LE p1,p2,P;
    hence thesis by A1,Th26;
  end;
  suppose LE p4,p1,P & LE p1,p2,P & LE p2,p3,P;
    hence thesis by A1,Th25;
  end;
end;

begin :: General Rectangles and Circles

notation
  let a,b,c,d be real number;
  synonym rectangle(a,b,c,d) for [.a,b,c,d.];
end;

Lm15: for a,b,c,d being real number st a <= b & c <= d holds
rectangle(a,b,c,d) =
{p: p`1=a & c <=p`2 & p`2<=d or p`2=d & a<=p`1 & p`1<=b or
p`1=b & c <=p`2 & p`2<=d or p`2=c & a<=p`1 & p`1<=b}
proof
  let a,b,c,d being real number;
  set X = {p: p`1=a & c <=p`2 & p`2<=d or p`2=d & a<=p`1 & p`1<=b or
  p`1=b & c <=p`2 & p`2<=d or p`2=c & a<=p`1 & p`1<=b};
  assume that
A1: a <= b and
A2: c <= d;
A3: rectangle(a,b,c,d) = {p2: p2`1 = a & p2`2 <= d & p2`2 >= c or
  p2`1 <= b & p2`1 >= a & p2`2 = d or p2`1 <= b & p2`1 >= a & p2`2 = c or
  p2`1 = b & p2`2 <= d & p2`2 >= c} by A1,A2,SPPOL_2:58;
  hereby
    let x be set;
    assume x in rectangle(a,b,c,d);
    then ex p2 st x = p2 & (p2`1 = a & p2`2 <= d & p2`2 >= c or
    p2`1 <= b & p2`1 >= a & p2`2 = d or p2`1 <= b & p2`1 >= a & p2`2 = c or
    p2`1 = b & p2`2 <= d & p2`2 >= c) by A3;
    hence x in X;
  end;
  let x be set;
  assume x in X;
  then ex p st x = p & (p`1=a & c <=p`2 & p`2<=d or p`2=d & a<=p`1 & p`1<=b or
  p`1=b & c <=p`2 & p`2<=d or p`2=c & a<=p`1 & p`1<=b);
  hence thesis by A3;
end;

theorem Th28:
  for a,b,c,d being real number, p being Point of TOP-REAL 2
  st a<=b & c <=d & p in rectangle(a,b,c,d) holds
  a<=p`1 & p`1<=b & c <=p`2 & p`2<=d
proof
  let a,b,c,d be real number, p be Point of TOP-REAL 2;
  assume that
A1: a<=b and
A2: c <=d and
A3: p in rectangle(a,b,c,d);
  p in {p2: p2`1 = a & p2`2 <= d & p2`2 >= c or
  p2`1 <= b & p2`1 >= a & p2`2 = d or p2`1 <= b & p2`1 >= a & p2`2 = c or
  p2`1 = b & p2`2 <= d & p2`2 >= c} by A1,A2,A3,SPPOL_2:58;
  then
A4: ex p2 st ( p2=p)&( p2`1 = a & p2`2 <= d & p2`2 >= c or p2`1
  <= b & p2`1 >= a & p2`2 = d or p2`1 <= b & p2`1 >= a & p2`2 = c or p2`1 = b &
  p2`2 <= d & p2`2 >= c);
  per cases by A4;
  suppose p`1=a & c <=p`2 & p`2<=d;
    hence thesis by A1;
  end;
  suppose p`2=d & a<=p`1 & p`1<=b;
    hence thesis by A2;
  end;
  suppose p`1=b & c <=p`2 & p`2<=d;
    hence thesis by A1;
  end;
  suppose p`2=c & a<=p`1 & p`1<=b;
    hence thesis by A2;
  end;
end;

definition
  let a,b,c,d be real number;
  func inside_of_rectangle(a,b,c,d) -> Subset of TOP-REAL 2 equals
  {p: a <p`1 & p`1< b & c <p`2 & p`2< d};
  coherence
  proof
    defpred P[Point of TOP-REAL 2] means
    a <$1`1 & $1`1< b & c <$1`2 & $1`2< d;
    {p: P[p]} c= the carrier of TOP-REAL 2 from FRAENKEL:sch 10;
    hence thesis;
  end;
end;

definition
  let a,b,c,d be real number;
  func closed_inside_of_rectangle(a,b,c,d) -> Subset of TOP-REAL 2 equals
  {p: a <=p`1 & p`1<= b & c <=p`2 & p`2<= d};
  coherence
  proof
    defpred P[Point of TOP-REAL 2] means
    a <=$1`1 & $1`1<= b & c <=$1`2 & $1`2<= d;
    {p: P[p]} c= the carrier of TOP-REAL 2 from FRAENKEL:sch 10;
    hence thesis;
  end;
end;

definition
  let a,b,c,d be real number;
  func outside_of_rectangle(a,b,c,d) -> Subset of TOP-REAL 2 equals
  {p: not(a <=p`1 & p`1<= b & c <=p`2 & p`2<= d)};
  coherence
  proof
    defpred P[Point of TOP-REAL 2] means
    not(a <=$1`1 & $1`1<= b & c <=$1`2 & $1`2<= d);
    {p: P[p] } c= the carrier of TOP-REAL 2 from FRAENKEL:sch 10;
    hence thesis;
  end;
end;

definition
  let a,b,c,d be real number;
  func closed_outside_of_rectangle(a,b,c,d) -> Subset of TOP-REAL 2 equals
  {p: not(a <p`1 & p`1< b & c <p`2 & p`2< d)};
  coherence
  proof
    defpred P[Point of TOP-REAL 2] means
    not(a <$1`1 & $1`1< b & c <$1`2 & $1`2< d);
    {p: P[p] } c= the carrier of TOP-REAL 2 from FRAENKEL:sch 10;
    hence thesis;
  end;
end;

theorem Th29:
  for a,b,r being real number,Kb,Cb being Subset of TOP-REAL 2 st
  r>=0 & Kb={q: |.q.|=1}&
  Cb={p2 where p2 is Point of TOP-REAL 2: |.(p2- |[a,b]|).|=r} holds
  AffineMap(r,a,r,b).:Kb=Cb
proof
  let a,b,r be real number,Kb,Cb be Subset of TOP-REAL 2;
  assume
A1: r>=0 & Kb={q: |.q.|=1}&
  Cb={p2 where p2 is Point of TOP-REAL 2: |.(p2- |[a,b]|).|=r};
  reconsider rr=r as Real by XREAL_0:def 1;
A2: AffineMap(r,a,r,b).:Kb c= Cb
  proof
    let y be set;
    assume y in AffineMap(r,a,r,b).:Kb;
    then consider x being set such that
    x in dom (AffineMap(r,a,r,b)) and
A3: x in Kb and
A4: y=(AffineMap(r,a,r,b)).x by FUNCT_1:def 12;
    consider p being Point of TOP-REAL 2 such that
A5: x=p and
A6: |.p.|=1 by A1,A3;
A7: (AffineMap(r,a,r,b)).p=|[r*(p`1)+a,r*(p`2)+b]| by JGRAPH_2:def 2;
    then reconsider q=y as Point of TOP-REAL 2 by A4,A5;
A8: q- |[a,b]|= |[r*(p`1)+a-a,r*(p`2)+b-b]| by A4,A5,A7,EUCLID:66
      .= r*(|[(p`1),(p`2)]|) by EUCLID:62
      .= r*p by EUCLID:57;
    |.r*p.|=abs(rr)*(|.p.|) by TOPRNS_1:8
      .=r by A1,A6,ABSVALUE:def 1;
    hence thesis by A1,A8;
  end;
  Cb c= AffineMap(r,a,r,b).:Kb
  proof
    let y be set;
    assume y in Cb;
    then consider p2 being Point of TOP-REAL 2 such that
A9: y=p2 and
A10: |.(p2- |[a,b]|).|=r by A1;
    now per cases by A1;
      case
A11:    r>0;
        set p1=(1/r)*(p2- |[a,b]|);
        |.p1.|=abs(1/rr)*|.(p2- |[a,b]|).| by TOPRNS_1:8
          .=(1/r)*r by A10,ABSVALUE:def 1
          .= 1 by A11,XCMPLX_1:88;
        then
A12:    p1 in Kb by A1;
A13:    p1=|[(1/r)*(p2- |[a,b]|)`1,(1/r)*(p2- |[a,b]|)`2]| by EUCLID:61;
        then
A14:    p1`1=(1/r)*(p2- |[a,b]|)`1 by EUCLID:56;
A15:    p1`2=(1/r)*(p2- |[a,b]|)`2 by A13,EUCLID:56;
A16:    r*p1`1=r*(1/r)*(p2- |[a,b]|)`1 by A14
          .=1*(p2- |[a,b]|)`1 by A11,XCMPLX_1:88
          .=p2`1 -(|[a,b]|)`1 by TOPREAL3:8
          .=p2`1 - a by EUCLID:56;
A17:    r*p1`2=r*(1/r)*(p2- |[a,b]|)`2 by A15
          .=1*(p2- |[a,b]|)`2 by A11,XCMPLX_1:88
          .=p2`2 -(|[a,b]|)`2 by TOPREAL3:8
          .=p2`2 - b by EUCLID:56;
A18:    (AffineMap(r,a,r,b)).p1= |[r*(p1`1)+a,r*(p1`2)+b]| by JGRAPH_2:def 2
          .=p2 by A16,A17,EUCLID:57;
        dom (AffineMap(r,a,r,b))=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
        hence thesis by A9,A12,A18,FUNCT_1:def 12;
      end;
      case
A19:    r=0;
        set p1= |[1,0]|;
A20:    p1`1=1 by EUCLID:56;
        p1`2=0 by EUCLID:56;
        then |.p1.|=sqrt(1^2+0^2) by A20,JGRAPH_3:10
          .=1 by SQUARE_1:89;
        then
A21:    p1 in Kb by A1;
A22:    (AffineMap(r,a,r,b)).p1= |[(0)*(p1`1)+a,(0)*(p1`2)+b]|
        by A19,JGRAPH_2:def 2
          .=p2 by A10,A19,TOPRNS_1:29;
        dom (AffineMap(r,a,r,b))=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
        hence thesis by A9,A21,A22,FUNCT_1:def 12;
      end;
    end;
    hence thesis;
  end;
  hence thesis by A2,XBOOLE_0:def 10;
end;

theorem Th30:
  for P,Q being Subset of TOP-REAL 2 st
  (ex f being Function of (TOP-REAL 2)|P,(TOP-REAL 2)|Q st
  f is being_homeomorphism) & P is being_simple_closed_curve holds
  Q is being_simple_closed_curve
proof
  let P,Q be Subset of TOP-REAL 2;
  assume that
A1: ex f being Function of (TOP-REAL 2)|P,(TOP-REAL 2)|Q st f is
  being_homeomorphism and
A2: P is being_simple_closed_curve;
  consider f being Function of (TOP-REAL 2)|P,(TOP-REAL 2)|Q such that
A3: f is being_homeomorphism by A1;
  consider g being Function of (TOP-REAL 2)|R^2-unit_square,
  (TOP-REAL 2)|P such that
A4: g is being_homeomorphism by A2,TOPREAL2:def 1;
A5: (|[1,0]|)`1=1 by EUCLID:56;
  (|[1,0]|)`2=0 by EUCLID:56;
  then
A6: |[1,0]| in R^2-unit_square by A5,TOPREAL1:20;
A7: dom g=[#]((TOP-REAL 2)|R^2-unit_square) by A4,TOPS_2:def 5;
A8: rng g=[#]((TOP-REAL 2)|P) by A4,TOPS_2:def 5;
  dom g= R^2-unit_square by A7,PRE_TOPC:def 10;
  then
A9: g.(|[1,0]|) in rng g by A6,FUNCT_1:12;
  then
A10: g.(|[1,0]|) in P by A8,PRE_TOPC:def 10;
  reconsider P1=P as non empty Subset of TOP-REAL 2 by A9;
  dom f=[#]((TOP-REAL 2)|P) by A3,TOPS_2:def 5;
  then dom f= P by PRE_TOPC:def 10;
  then f.(g.(|[1,0]|)) in rng f by A10,FUNCT_1:12;
  then reconsider Q1=Q as non empty Subset of TOP-REAL 2;
  reconsider f1=f as Function of (TOP-REAL 2)|P1,(TOP-REAL 2)|Q1;
  reconsider g1=g as Function of (TOP-REAL 2)|R^2-unit_square,(TOP-REAL 2)|P1;
  reconsider h=f1*g1 as Function of (TOP-REAL 2)|R^2-unit_square,
  (TOP-REAL 2)|Q1;
  h is being_homeomorphism by A3,A4,TOPS_2:71;
  hence thesis by TOPREAL2:def 1;
end;

theorem Th31:
  for P being Subset of TOP-REAL 2 st
  P is being_simple_closed_curve holds P is compact;

theorem Th32:
  for a,b,r be real number, Cb being Subset of TOP-REAL 2 st r>0 &
  Cb={p where p is Point of TOP-REAL 2: |.(p- |[a,b]|).|=r}
  holds Cb is being_simple_closed_curve
proof
  let a,b,r be real number, Cb be Subset of TOP-REAL 2;
  assume that
A1: r>0 and
A2: Cb={p where p is Point of TOP-REAL 2: |.(p- |[a,b]|).|=r};
A3: (|[r,0]|)`1=r by EUCLID:56;
A4: (|[r,0]|)`2=0 by EUCLID:56;
  |.(|[r+a,b]| - |[a,b]|).|=|.(|[r+a,0+b]| - |[a,b]|).|
    .=|.(|[r,0]|+|[a,b]|- |[a,b]|).| by EUCLID:60
    .= |.(|[r,0]|+(|[a,b]|- |[a,b]|)).| by EUCLID:49
    .=|.|[r,0]|+(0.TOP-REAL 2).| by EUCLID:46
    .=|.|[r,0]|.| by EUCLID:31
    .=sqrt(r^2+0^2) by A3,A4,JGRAPH_3:10
    .=r by A1,SQUARE_1:89;
  then |[r+a,b]| in Cb by A2;
  then reconsider Cbb=Cb as non empty Subset of TOP-REAL 2;
  set v= |[1,0]|;
A5: v`1=1 by EUCLID:56;
  v`2=0 by EUCLID:56;
  then |.v.|=sqrt(1^2+0^2) by A5,JGRAPH_3:10
    .=1 by SQUARE_1:89;
  then
A6: |[1,0]| in {q: |.q.|=1};
  defpred P[Point of TOP-REAL 2] means |.$1.|=1;
  {q where q is Element of TOP-REAL 2:P[q]}
  is Subset of TOP-REAL 2 from DOMAIN_1:sch 7;
  then reconsider Kb= {q: |.q.|=1} as non empty Subset of TOP-REAL 2 by A6;
A7: the carrier of (TOP-REAL 2)|Kb=Kb by PRE_TOPC:29;
  set SC= AffineMap(r,a,r,b);
A8: SC is one-to-one by A1,JGRAPH_2:54;
A9: dom SC = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
A10: dom (SC|Kb)=(dom SC)/\ Kb by RELAT_1:90
    .=the carrier of ((TOP-REAL 2)|Kb) by A7,A9,XBOOLE_1:28;
A11: rng (SC|Kb) c= (SC|Kb).:(the carrier of ((TOP-REAL 2)|Kb))
  proof
    let u be set;
    assume u in rng (SC|Kb);
    then ex z being set st ( z in dom ((SC|Kb)))&( u=(SC|Kb).z) by
FUNCT_1:def 5;
    hence thesis by A10,FUNCT_1:def 12;
  end;
  (SC|Kb).: (the carrier of ((TOP-REAL 2)|Kb)) = SC.:Kb by A7,RELAT_1:162
    .= Cb by A1,A2,Th29
    .=the carrier of (TOP-REAL 2)|Cbb by PRE_TOPC:29;
  then reconsider f0=SC|Kb
  as Function of (TOP-REAL 2)|Kb, (TOP-REAL 2)|Cbb by A10,A11,FUNCT_2:4;
  rng (SC|Kb) c= the carrier of (TOP-REAL 2);
  then reconsider f00=f0 as Function
  of (TOP-REAL 2)|Kb,TOP-REAL 2 by A10,FUNCT_2:4;
A12: rng f0 = (SC|Kb).: (the carrier of ((TOP-REAL 2)|Kb)) by FUNCT_2:45
    .= SC.:Kb by A7,RELAT_1:162
    .= Cb by A1,A2,Th29;
A13: f0 is one-to-one by A8,FUNCT_1:84;
  Kb is compact by Th31,JGRAPH_3:36;
  then ex f1 being Function of (TOP-REAL 2)|Kb,(TOP-REAL 2)|Cbb st
  f00=f1 & f1 is being_homeomorphism by A12,A13,JGRAPH_1:64,TOPMETR:10;
  hence thesis by Th30,JGRAPH_3:36;
end;

definition
  let a,b,r be real number;
  func circle(a,b,r) -> Subset of TOP-REAL 2 equals
  {p where p is Point of TOP-REAL 2: |.p- |[a,b]| .|=r};
  coherence
  proof
    defpred P[Point of TOP-REAL 2] means |.$1- |[a,b]| .|=r;
    {p where p is Point of TOP-REAL 2:P[p]}
    c= the carrier of TOP-REAL 2 from FRAENKEL:sch 10;
    hence thesis;
  end;
end;

registration
  let a,b,r be real number;
  cluster circle(a,b,r) -> compact;
  coherence
  proof
    set Cb = circle(a,b,r);
    per cases;
    suppose
A1:   r < 0;
      Cb = {}
      proof
        hereby
          let x be set;
          assume x in Cb;
          then ex p being Point of TOP-REAL 2 st x = p & |.p- |[a,b]| .| = r;
          hence x in {} by A1;
        end;
        thus thesis by XBOOLE_1:2;
      end;
      hence thesis;
    end;
    suppose r > 0;
      hence thesis by Th31,Th32;
    end;
    suppose
A2:   r = 0;
      Cb = {|[a,b]|}
      proof
        hereby
          let x be set;
          assume x in Cb;
          then consider p being Point of TOP-REAL 2 such that
A3:       x = p and
A4:       |.p- |[a,b]| .| = r;
          p = |[a,b]| by A2,A4,TOPRNS_1:29;
          hence x in {|[a,b]|} by A3,TARSKI:def 1;
        end;
        let x be set;
        assume x in {|[a,b]|};
        then
A5:     x = |[a,b]| by TARSKI:def 1;
        |. |[a,b]| - |[a,b]| .| = 0 by TOPRNS_1:29;
        hence thesis by A2,A5;
      end;
      hence thesis;
    end;
  end;
end;

registration
  let a,b be real number;
  let r be non negative (real number);
  cluster circle(a,b,r) -> non empty;
  coherence
  proof
    set Cb = circle(a,b,r);
A1: (|[r,0]|)`1=r by EUCLID:56;
A2: (|[r,0]|)`2=0 by EUCLID:56;
    |.(|[r+a,b]| - |[a,b]|).|=|.(|[r+a,0+b]| - |[a,b]|).|
      .=|.(|[r,0]|+|[a,b]|- |[a,b]|).| by EUCLID:60
      .= |.(|[r,0]|+(|[a,b]|- |[a,b]|)).| by EUCLID:49
      .=|.|[r,0]|+(0.TOP-REAL 2).| by EUCLID:46
      .=|.|[r,0]|.| by EUCLID:31
      .=sqrt(r^2+0^2) by A1,A2,JGRAPH_3:10
      .= r by SQUARE_1:89;
    then |[r+a,b]| in Cb;
    hence thesis;
  end;
end;

definition
  let a,b,r be real number;
  func inside_of_circle(a,b,r) -> Subset of TOP-REAL 2 equals
  {p where p is Point of TOP-REAL 2: |.p- |[a,b]| .|<r};
  coherence
  proof
    defpred P[Point of TOP-REAL 2] means |.$1- |[a,b]| .|<r;
    {p where p is Point of TOP-REAL 2: P[p]}
    c= the carrier of TOP-REAL 2 from FRAENKEL:sch 10;
    hence thesis;
  end;
end;

definition
  let a,b,r be real number;
  func closed_inside_of_circle(a,b,r) -> Subset of TOP-REAL 2 equals
  {p where p is Point of TOP-REAL 2: |.p- |[a,b]| .|<=r};
  coherence
  proof
    defpred P[Point of TOP-REAL 2] means |.$1- |[a,b]| .|<=r;
    {p where p is Point of TOP-REAL 2: P[p]}
    c= the carrier of TOP-REAL 2 from FRAENKEL:sch 10;
    hence thesis;
  end;
end;

definition
  let a,b,r be real number;
  func outside_of_circle(a,b,r) -> Subset of TOP-REAL 2 equals
  {p where p is Point of TOP-REAL 2: |.p- |[a,b]| .|>r};
  coherence
  proof
    defpred P[Point of TOP-REAL 2] means |.$1- |[a,b]| .|>r;
    {p where p is Point of TOP-REAL 2: P[p]}
    c= the carrier of TOP-REAL 2 from FRAENKEL:sch 10;
    hence thesis;
  end;
end;

definition
  let a,b,r be real number;
  func closed_outside_of_circle(a,b,r) -> Subset of TOP-REAL 2 equals
  {p where p is Point of TOP-REAL 2: |.p- |[a,b]| .|>=r};
  coherence
  proof
    defpred P[Point of TOP-REAL 2] means |.$1- |[a,b]| .|>=r;
    {p where p is Point of TOP-REAL 2: P[p]}
    c= the carrier of TOP-REAL 2 from FRAENKEL:sch 10;
    hence thesis;
  end;
end;

theorem Th33:
  for r being real number holds inside_of_circle(0,0,r)={p : |.p.|<r} &
  (r>0 implies circle(0,0,r)={p2 : |.p2.|=r}) &
  outside_of_circle(0,0,r)={p3 : |.p3.|>r} &
  closed_inside_of_circle(0,0,r)={q : |.q.|<=r} &
  closed_outside_of_circle(0,0,r)={q2 : |.q2.|>=r}
proof
  let r be real number;
  defpred P[Point of TOP-REAL 2] means |.$1- |[0,0]| .|<r;
  defpred Q[Point of TOP-REAL 2] means |.$1.|<r;
  deffunc F(set)=$1;
A1: for p holds P[p] iff Q[p] by EUCLID:58,RLVECT_1:26;
  inside_of_circle(0,0,r) = {F(p) where p is Point of TOP-REAL 2: P[p]}
    .= {F(p2) where p2 is Point of TOP-REAL 2: Q[p2]} from FRAENKEL:sch 3(A1
  );
  hence inside_of_circle(0,0,r)={p : |.p.|<r};
  defpred P[Point of TOP-REAL 2] means |.$1- |[0,0]| .|=r;
  defpred Q[Point of TOP-REAL 2] means |.$1.|=r;
A2: for p holds P[p] iff Q[p] by EUCLID:58,RLVECT_1:26;
  hereby
    assume r>0;
    circle(0,0,r)= {F(p): P[p]}
.= {F(p2) where p2 is Point of TOP-REAL 2: Q[p2]} from FRAENKEL:sch 3(A2);
    hence circle(0,0,r)={p2 : |.p2.|=r};
  end;
  defpred P[Point of TOP-REAL 2] means |.$1- |[0,0]| .|>r;
  defpred Q[Point of TOP-REAL 2] means |.$1.|>r;
A3: for p holds P[p] iff Q[p] by EUCLID:58,RLVECT_1:26;
  outside_of_circle(0,0,r)= {F(p): P[p]}
    .= {F(p2) where p2 is Point of TOP-REAL 2: Q[p2]} from FRAENKEL:sch 3(A3
  );
  hence outside_of_circle(0,0,r)={p3 : |.p3.|>r};
  defpred P[Point of TOP-REAL 2] means |.$1- |[0,0]| .|<=r;
  defpred Q[Point of TOP-REAL 2] means |.$1.|<=r;
A4: for p holds P[p] iff Q[p] by EUCLID:58,RLVECT_1:26;
  closed_inside_of_circle(0,0,r)= {F(p): P[p]}
    .= {F(p2) where p2 is Point of TOP-REAL 2: Q[p2]} from FRAENKEL:sch 3(A4
  );
  hence closed_inside_of_circle(0,0,r)={p : |.p.|<=r};
  defpred P[Point of TOP-REAL 2] means |.$1- |[0,0]| .|>=r;
  defpred Q[Point of TOP-REAL 2] means |.$1.|>=r;
A5: for p holds P[p] iff Q[p] by EUCLID:58,RLVECT_1:26;
  closed_outside_of_circle(0,0,r)= {F(p): P[p]}
    .= {F(p2) where p2 is Point of TOP-REAL 2: Q[p2]} from FRAENKEL:sch 3(A5
  );
  hence thesis;
end;

theorem Th34:
  for Kb,Cb being Subset of TOP-REAL 2 st
  Kb={p: -1 <p`1 & p`1< 1 & -1 <p`2 & p`2< 1}&
  Cb={p2 where p2 is Point of TOP-REAL 2: |.p2.|<1} holds Sq_Circ.:Kb=Cb
proof
  let Kb,Cb be Subset of TOP-REAL 2;
  assume
A1: Kb={p: -1 <p`1 & p`1< 1 & -1 <p`2 & p`2< 1}&
  Cb={p2 where p2 is Point of TOP-REAL 2: |.p2.|<1};
  thus Sq_Circ.:Kb c= Cb
  proof
    let y be set;
    assume y in Sq_Circ.:Kb;
    then consider x being set such that
    x in dom Sq_Circ and
A2: x in Kb and
A3: y=Sq_Circ.x by FUNCT_1:def 12;
    consider q being Point of TOP-REAL 2 such that
A4: q=x and
A5: -1 <q`1 and
A6: q`1< 1 and
A7: -1 <q`2 and
A8: q`2< 1 by A1,A2;
    now per cases;
      case
A9:     q=0.TOP-REAL 2;
        then
A10:    Sq_Circ.q=q by JGRAPH_3:def 1;
        |.q.|=0 by A9,TOPRNS_1:24;
        hence ex p2 being Point of TOP-REAL 2 st p2=y & |.p2.|<1 by A3,A4,A10;
      end;
      case
A11:    q<>0.TOP-REAL 2 & (q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
        then
        A12:    Sq_Circ.q=|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2 )]|
        by JGRAPH_3:def 1;
A13:    (|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|)`1 = q`1/sqrt(1+(q
        `2/q`1)^2) by EUCLID:56;
A14:    (|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|)`2 = q`2/sqrt(1+(q
        `2/q`1)^2) by EUCLID:56;
A15:    1+(q`2/q`1)^2>0 by XREAL_1:36,65;
A16:    now
          assume
A17:      q`1=0;
          then q`2=0 by A11;
          hence contradiction by A11,A17,EUCLID:57,58;
        end;
        then
A18:    (q`1)^2>0 by SQUARE_1:74;
        (q`1)^2<1^2 by A5,A6,SQUARE_1:120;
        then
A19:    sqrt((q`1)^2)<1 by A18,SQUARE_1:83,95;
        |.(|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|).|^2
        =((q`1)/sqrt(1+(q`2/(q`1))^2))^2+(q`2/sqrt(1+(q`2/(q`1))^2))^2
        by A13,A14,JGRAPH_3:10
          .=(q`1)^2/(sqrt(1+(q`2/(q`1))^2))^2+(q`2/sqrt(1+(q`2/(q`1))^2))^2
        by XCMPLX_1:77
          .=(q`1)^2/(sqrt(1+(q`2/(q`1))^2))^2
        +(q`2)^2/(sqrt(1+(q`2/(q`1))^2))^2 by XCMPLX_1:77
          .=(q`1)^2/(1+(q`2/q`1)^2)+(q`2)^2/(sqrt(1+(q`2/q`1)^2))^2
        by A15,SQUARE_1:def 4
          .=(q`1)^2/(1+(q`2/q`1)^2)+(q`2)^2/(1+(q`2/q`1)^2)
        by A15,SQUARE_1:def 4
          .=((q`1)^2+(q`2)^2)/(1+(q`2/q`1)^2) by XCMPLX_1:63
          .=((q`1)^2+(q`2)^2)/(1+(q`2)^2/(q`1)^2) by XCMPLX_1:77
          .=((q`1)^2+(q`2)^2)/((q`1)^2/(q`1)^2+(q`2)^2/(q`1)^2)
        by A18,XCMPLX_1:60
          .=((q`1)^2+(q`2)^2)/(((q`1)^2+(q`2)^2)/(q`1)^2)
        by XCMPLX_1:63
          .=(q`1)^2*(((q`1)^2+(q`2)^2)/((q`1)^2+(q`2)^2))
        by XCMPLX_1:82
          .=(q`1)^2*1 by A16,COMPLEX1:2,XCMPLX_1:60
          .=(q`1)^2;
        then |.(|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|).|<1
        by A19,SQUARE_1:89;
        hence ex p2 being Point of TOP-REAL 2 st p2=y & |.p2.|<1 by A3,A4,A12;
      end;
      case
A20:    q<>0.TOP-REAL 2 & not(q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
        then
A21:    Sq_Circ.q=|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2 )]|
        by JGRAPH_3:def 1;
A22:    (|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|)`1 = q`1/sqrt(1+(q
        `1/q`2)^2) by EUCLID:56;
A23:    (|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|)`2 = q`2/sqrt(1+(q
        `1/q`2)^2) by EUCLID:56;
A24:    1+(q`1/q`2)^2>0 by XREAL_1:36,65;
A25:    q`2 <> 0 by A20;
        then
A26:    (q`2)^2>0 by SQUARE_1:74;
        (q`2)^2<1^2 by A7,A8,SQUARE_1:120;
        then
A27:    sqrt((q`2)^2)<1 by A26,SQUARE_1:83,95;
        |.(|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|).|^2
        =((q`1)/sqrt(1+(q`1/(q`2))^2))^2+(q`2/sqrt(1+(q`1/(q`2))^2))^2
        by A22,A23,JGRAPH_3:10
          .=(q`1)^2/(sqrt(1+(q`1/(q`2))^2))^2+(q`2/sqrt(1+(q`1/(q`2))^2))^2
        by XCMPLX_1:77
          .=(q`1)^2/(sqrt(1+(q`1/(q`2))^2))^2
        +(q`2)^2/(sqrt(1+(q`1/(q`2))^2))^2 by XCMPLX_1:77
          .=(q`1)^2/(1+(q`1/q`2)^2)+(q`2)^2/(sqrt(1+(q`1/q`2)^2))^2
        by A24,SQUARE_1:def 4
          .=(q`1)^2/(1+(q`1/q`2)^2)+(q`2)^2/(1+(q`1/q`2)^2)
        by A24,SQUARE_1:def 4
          .=((q`1)^2+(q`2)^2)/(1+(q`1/q`2)^2) by XCMPLX_1:63
          .=((q`1)^2+(q`2)^2)/(1+(q`1)^2/(q`2)^2) by XCMPLX_1:77
          .=((q`1)^2+(q`2)^2)/((q`1)^2/(q`2)^2+(q`2)^2/(q`2)^2)
        by A26,XCMPLX_1:60
          .=((q`1)^2+(q`2)^2)/(((q`1)^2+(q`2)^2)/(q`2)^2)
        by XCMPLX_1:63
          .=(q`2)^2*(((q`1)^2+(q`2)^2)/((q`1)^2+(q`2)^2))
        by XCMPLX_1:82
          .=(q`2)^2*1 by A25,COMPLEX1:2,XCMPLX_1:60
          .=(q`2)^2;
        then |.(|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|).|<1
        by A27,SQUARE_1:89;
        hence ex p2 being Point of TOP-REAL 2 st p2=y & |.p2.|<1 by A3,A4,A21;
      end;
    end;
    hence thesis by A1;
  end;
  let y be set;
  assume y in Cb;
  then consider p2 being Point of TOP-REAL 2 such that
A28: p2=y and
A29: |.p2.|<1 by A1;
  set q=p2;
  now per cases;
    case
A30:  q=0.TOP-REAL 2;
      then
A31:  q`1=0 by EUCLID:56,58;
      q`2=0 by A30,EUCLID:56,58;
      then
A32:  y in Kb by A1,A28,A31;
A33:  Sq_Circ".y=y by A28,A30,JGRAPH_3:38;
A34:  dom Sq_Circ=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
      y=Sq_Circ.y by A28,A33,FUNCT_1:57,JGRAPH_3:54;
      hence ex x being set st x in dom Sq_Circ & x in Kb & y=Sq_Circ.x
      by A32,A34;
    end;
    case
A35:  q<>0.TOP-REAL 2 & (q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
      set px=|[q`1*sqrt(1+(q`2/q`1)^2),q`2*sqrt(1+(q`2/q`1)^2)]|;
A36:  px`1 = q`1*sqrt(1+(q`2/q`1)^2) by EUCLID:56;
A37:  px`2 = q`2*sqrt(1+(q`2/q`1)^2) by EUCLID:56;
      1+(q`2/q`1)^2>0 by XREAL_1:36,65;
      then
A38:  sqrt(1+(q`2/q`1)^2)>0 by SQUARE_1:93;
A39:  1+(px`2/px`1)^2>0 by XREAL_1:36,65;
A40:  px`2/px`1=q`2/q`1 by A36,A37,A38,XCMPLX_1:92;
A41:  q`1=q`1*sqrt(1+(q`2/q`1)^2)/(sqrt(1+(q`2/q`1)^2))by A38,XCMPLX_1:90
        .=px`1/(sqrt(1+(q`2/q`1)^2)) by EUCLID:56;
A42:  q`2=q`2*sqrt(1+(q`2/q`1)^2)/(sqrt(1+(q`2/q`1)^2))by A38,XCMPLX_1:90
        .=px`2/(sqrt(1+(q`2/q`1)^2)) by EUCLID:56;
A43:  |.q.|^2=q`1^2+q`2^2 by JGRAPH_3:10;
A44:  |.q.|^2<1^2 by A29,SQUARE_1:78;
A45:  now
        assume that
A46:    px`1=0 and
A47:    px`2=0;
A48:    q`1*sqrt(1+(q`2/q`1)^2)=0 by A46,EUCLID:56;
A49:    q`2*sqrt(1+(q`2/q`1)^2)=0 by A47,EUCLID:56;
A50:    q`1=0 by A38,A48,XCMPLX_1:6;
        q`2=0 by A38,A49,XCMPLX_1:6;
        hence contradiction by A35,A50,EUCLID:57,58;
      end;
      q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 &
      q`2*sqrt(1+(q`2/q`1)^2) <= (-q`1)*sqrt(1+(q`2/q`1)^2)
      by A35,A38,XREAL_1:66;
      then
A51:  q`2<=q`1 & (-q`1)*sqrt(1+(q`2/q`1)^2) <= q`2*sqrt(1+(q`2/q`1) ^2)
      or px`2>=px`1 & px`2<=-px`1 by A36,A37,A38,XREAL_1:66;
      then px`2<=px`1 & -px`1<=px`2 or px`2>=px`1 & px`2<=-px`1
      by A36,A37,A38,XREAL_1:66;
      then
      A52:  Sq_Circ
.px=|[px`1/sqrt(1+(px`2/px`1)^2),px`2/sqrt(1+(px`2/px`1 )^2) ]|
      by A45,JGRAPH_2:11,JGRAPH_3:def 1;
      px`2<=px`1 & --px`1>=-px`2 or px`2>=px`1 & px`2<=-px`1
      by A36,A37,A38,A51,XREAL_1:26,66;
      then
A53:  px`2<=px`1 & px`1>=-px`2 or px`2>=px`1 & -px`2>=--px`1 by XREAL_1:26;
A54:  px`1/sqrt(1+(px`2/px`1)^2)=q`1 by A36,A38,A40,XCMPLX_1:90;
A55:  px`2/sqrt(1+(px`2/px`1)^2)=q`2 by A37,A38,A40,XCMPLX_1:90;
A56:  dom Sq_Circ=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
      not px`1=0 by A36,A37,A38,A45,A51,XREAL_1:66;
      then
A57:  (px`1)^2>0 by SQUARE_1:74;
A58:  (px`2)^2>=0 by XREAL_1:65;
      (px`1)^2/(sqrt(1+(px`2/px`1)^2))^2+(px`2/sqrt(1+(px`2/px`1)^2)) ^2 < 1
      by A40,A41,A42,A43,A44,XCMPLX_1:77;
      then (px`1)^2/(sqrt(1+(px`2/px`1)^2))^2+(px`2)^2/(sqrt(1+(px`2/px`1)^2))
      ^2<1 by XCMPLX_1:77;
      then (px`1)^2/(1+(px`2/px`1)^2)+(px`2)^2/(sqrt(1+(px`2/px`1)^2))^2<1
      by A39,SQUARE_1:def 4;
      then (px`1)^2/(1+(px`2/px`1)^2)+(px`2)^2/(1+(px`2/px`1)^2)<1
      by A39,SQUARE_1:def 4;
      then ((px`1)^2/(1+(px`2/px`1)^2)
      +(px`2)^2/(1+(px`2/px`1)^2))*(1+(px`2/px`1)^2)<1 *(1+(px`2/px`1)^2)
      by A39,XREAL_1:70;
      then (px`1)^2/(1+(px`2/px`1)^2)*(1+(px`2/px`1)^2)
      +(px`2)^2/(1+(px`2/px`1)^2)*(1+(px`2/px`1)^2)<1 *(1+(px`2/px`1)^2);
      then (px`1)^2+(px`2)^2/(1+(px`2/px`1)^2)*(1+(px`2/px`1)^2)<1 *(1+(px`2/
      px `1)^2) by A39,XCMPLX_1:88;
      then
A59:  (px`1)^2+(px`2)^2<1 *(1+(px`2/px`1)^2) by A39,XCMPLX_1:88;
      1 *(1+(px`2/px`1)^2) =1+(px`2)^2/(px`1)^2 by XCMPLX_1:77;
      then (px`1)^2+(px`2)^2-1<1+(px`2)^2/(px`1)^2-1 by A59,XREAL_1:11;
      then ((px`1)^2+(px`2)^2-1)*(px`1)^2<((px`2)^2/(px`1)^2)*(px`1)^2
      by A57,XREAL_1:70;
      then
A60:  ((px`1)^2+((px`2)^2-1))*(px`1)^2<(px`2)^2 by A57,XCMPLX_1:88;
      (px`1)^2*(px`1)^2+((px`1)^2*(px`2)^2-(px`1)^2*1)-(px`2)^2
      = ((px`1)^2-1)*((px`1)^2+(px`2)^2);
      then (px`1)^2-1<0 or ((px`1)^2+(px`2)^2)<0 by A60,XREAL_1:51;
      then
A61:  (px`1)^2-1+1<0+1 by A58,XREAL_1:8;
      then
A62:  px`1<1^2 by SQUARE_1:118;
A63:  px`1>-1^2 by A61,SQUARE_1:118;
      px`2<1 & 1>-px`2 or px`2>=px`1 & -px`2>=px`1 by A53,A62,XXREAL_0:2;
      then px`2<1 & -1< --px`2 or px`2>-1 & -px`2> -1
      by A63,XREAL_1:26,XXREAL_0:2;
      then px`2<1 & -1<px`2 or px`2>-1 & --px`2< --1 by XREAL_1:26;
      then px in Kb by A1,A62,A63;
      hence ex x being set st x in dom Sq_Circ & x in Kb & y=Sq_Circ.x
      by A28,A52,A54,A55,A56,EUCLID:57;
    end;
    case
A64:  q<>0.TOP-REAL 2 & not(q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
      set px=|[q`1*sqrt(1+(q`1/q`2)^2),q`2*sqrt(1+(q`1/q`2)^2)]|;
A65:  q`1<=q`2 & -q`2<=q`1 or q`1>=q`2 & q`1<=-q`2 by A64,JGRAPH_2:23;
A66:  px`2 = q`2*sqrt(1+(q`1/q`2)^2) by EUCLID:56;
A67:  px`1 = q`1*sqrt(1+(q`1/q`2)^2) by EUCLID:56;
      1+(q`1/q`2)^2>0 by XREAL_1:36,65;
      then
A68:  sqrt(1+(q`1/q`2)^2)>0 by SQUARE_1:93;
A69:  1+(px`1/px`2)^2>0 by XREAL_1:36,65;
A70:  px`1/px`2=q`1/q`2 by A66,A67,A68,XCMPLX_1:92;
A71:  q`2=q`2*sqrt(1+(q`1/q`2)^2)/(sqrt(1+(q`1/q`2)^2))by A68,XCMPLX_1:90
        .=px`2/(sqrt(1+(q`1/q`2)^2)) by EUCLID:56;
A72:  q`1=q`1*sqrt(1+(q`1/q`2)^2)/(sqrt(1+(q`1/q`2)^2))by A68,XCMPLX_1:90
        .=px`1/(sqrt(1+(q`1/q`2)^2)) by EUCLID:56;
A73:  |.q.|^2=q`2^2+q`1^2 by JGRAPH_3:10;
A74:  |.q.|^2<1^2 by A29,SQUARE_1:78;
A75:  now
        assume that
A76:    px`2=0 and
A77:    px`1=0;
A78:    q`2*sqrt(1+(q`1/q`2)^2)=0 by A76,EUCLID:56;
        q`1*sqrt(1+(q`1/q`2)^2)=0 by A77,EUCLID:56;
        then q`1=0 by A68,XCMPLX_1:6;
        hence contradiction by A64,A68,A78,XCMPLX_1:6;
      end;
      q`1<=q`2 & -q`2<=q`1 or q`1>=q`2 &
      q`1*sqrt(1+(q`1/q`2)^2) <= (-q`2)*sqrt(1+(q`1/q`2)^2)
      by A65,A68,XREAL_1:66;
      then
A79:  q`1<=q`2 & (-q`2)*sqrt(1+(q`1/q`2)^2) <= q`1*sqrt(1+(q`1/q`2) ^2)
      or px`1>=px`2 & px`1<=-px`2 by A66,A67,A68,XREAL_1:66;
      then px`1<=px`2 & -px`2<=px`1 or px`1>=px`2 & px`1<=-px`2
      by A66,A67,A68,XREAL_1:66;
      then
      A80:  Sq_Circ
.px=|[px`1/sqrt(1+(px`1/px`2)^2),px`2/sqrt(1+(px`1/px`2 )^2) ]|
      by A75,JGRAPH_2:11,JGRAPH_3:14;
      px`1<=px`2 & --px`2>=-px`1 or px`1>=px`2 & px`1<=-px`2
      by A66,A67,A68,A79,XREAL_1:26,66;
      then
A81:  px`1<=px`2 & px`2>=-px`1 or px`1>=px`2 & -px`1>=--px`2 by XREAL_1:26;
A82:  px`2/sqrt(1+(px`1/px`2)^2)=q`2 by A66,A68,A70,XCMPLX_1:90;
A83:  px`1/sqrt(1+(px`1/px`2)^2)=q`1 by A67,A68,A70,XCMPLX_1:90;
A84:  dom Sq_Circ=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
      not px`2=0 by A66,A67,A68,A75,A79,XREAL_1:66;
      then
A85:  (px`2)^2>0 by SQUARE_1:74;
A86:  (px`1)^2>=0 by XREAL_1:65;
      (px`2)^2/(sqrt(1+(px`1/px`2)^2))^2+(px`1/sqrt(1+(px`1/px`2)^2)) ^2 < 1
      by A70,A71,A72,A73,A74,XCMPLX_1:77;
      then (px`2)^2/(sqrt(1+(px`1/px`2)^2))^2+(px`1)^2/(sqrt(1+(px`1/px`2)^2))
      ^2<1 by XCMPLX_1:77;
      then (px`2)^2/(1+(px`1/px`2)^2)+(px`1)^2/(sqrt(1+(px`1/px`2)^2))^2<1
      by A69,SQUARE_1:def 4;
      then (px`2)^2/(1+(px`1/px`2)^2)+(px`1)^2/(1+(px`1/px`2)^2)<1
      by A69,SQUARE_1:def 4;
      then ((px`2)^2/(1+(px`1/px`2)^2)
      +(px`1)^2/(1+(px`1/px`2)^2))*(1+(px`1/px`2)^2)<1 *(1+(px`1/px`2)^2)
      by A69,XREAL_1:70;
      then (px`2)^2/(1+(px`1/px`2)^2)*(1+(px`1/px`2)^2)
      +(px`1)^2/(1+(px`1/px`2)^2)*(1+(px`1/px`2)^2)<1 *(1+(px`1/px`2)^2);
      then (px`2)^2+(px`1)^2/(1+(px`1/px`2)^2)*(1+(px`1/px`2)^2)<1 *(1+(px`1/
      px `2)^2) by A69,XCMPLX_1:88;
      then
A87:  (px`2)^2+(px`1)^2<1 *(1+(px`1/px`2)^2) by A69,XCMPLX_1:88;
      1 *(1+(px`1/px`2)^2) =1+(px`1)^2/(px`2)^2 by XCMPLX_1:77;
      then (px`2)^2+(px`1)^2-1<1+(px`1)^2/(px`2)^2-1 by A87,XREAL_1:11;
      then ((px`2)^2+(px`1)^2-1)*(px`2)^2<((px`1)^2/(px`2)^2)*(px`2)^2
      by A85,XREAL_1:70;
      then
A88:  ((px`2)^2+((px`1)^2-1))*(px`2)^2<(px`1)^2 by A85,XCMPLX_1:88;
      (px`2)^2*(px`2)^2+((px`2)^2*(px`1)^2-(px`2)^2*1)-(px`1)^2
      = ((px`2)^2-1)*((px`2)^2+(px`1)^2);
      then (px`2)^2-1<0 or ((px`2)^2+(px`1)^2)<0 by A88,XREAL_1:51;
      then
A89:  (px`2)^2-1+1<0+1 by A86,XREAL_1:8;
      then
A90:  px`2<1^2 by SQUARE_1:118;
A91:  px`2>-1^2 by A89,SQUARE_1:118;
      px`1<1 & 1>-px`1 or px`1>=px`2 & -px`1>=px`2 by A81,A90,XXREAL_0:2;
      then px`1<1 & -1< --px`1 or px`1>-1 & -px`1> -1
      by A91,XREAL_1:26,XXREAL_0:2;
      then px`1<1 & -1<px`1 or px`1>-1 & --px`1< --1 by XREAL_1:26;
      then px in Kb by A1,A90,A91;
      hence ex x being set st x in dom Sq_Circ & x in Kb & y=Sq_Circ.x
      by A28,A80,A82,A83,A84,EUCLID:57;
    end;
  end;
  hence thesis by FUNCT_1:def 12;
end;

theorem Th35:
  for Kb,Cb being Subset of TOP-REAL 2 st
  Kb={p: not(-1 <=p`1 & p`1<= 1 & -1 <=p`2 & p`2<= 1)}&
  Cb={p2 where p2 is Point of TOP-REAL 2: |.p2.|>1} holds Sq_Circ.:Kb=Cb
proof
  let Kb,Cb be Subset of TOP-REAL 2;
  assume
A1: Kb={p: not(-1 <=p`1 & p`1<= 1 & -1 <=p`2 & p`2<= 1)}&
  Cb={p2 where p2 is Point of TOP-REAL 2: |.p2.|>1};
  thus Sq_Circ.:Kb c= Cb
  proof
    let y be set;
    assume y in Sq_Circ.:Kb;
    then consider x being set such that
    x in dom Sq_Circ and
A2: x in Kb and
A3: y=Sq_Circ.x by FUNCT_1:def 12;
    consider q being Point of TOP-REAL 2 such that
A4: q=x and
A5: not(-1 <=q`1 & q`1<= 1 & -1 <=q`2 & q`2<= 1) by A1,A2;
    now per cases;
      case q=0.TOP-REAL 2;
        hence contradiction by A5,EUCLID:56,58;
      end;
      case
A6:     q<>0.TOP-REAL 2 & (q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
        then
        A7:     Sq_Circ.q=|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2 )]|
        by JGRAPH_3:def 1;
A8:     not(-1 <=q`2 & q`2<= 1) implies -1>q`1 or q`1>1
        proof
          assume
A9:       not(-1 <=q`2 & q`2<= 1);
          now per cases by A9;
            case
A10:          -1>q`2;
              then -q`1< -1 or q`2>=q`1 & q`2<= -q`1 by A6,XXREAL_0:2;
              hence thesis by A10,XREAL_1:26,XXREAL_0:2;
            end;
            case q`2>1;
              then 1<q`1 or 1< -q`1 by A6,XXREAL_0:2;
              then 1<q`1 or --q`1< -1 by XREAL_1:26;
              hence thesis;
            end;
          end;
          hence thesis;
        end;
A11:    (|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|)`1 = q`1/sqrt(1+(q
        `2/q`1)^2) by EUCLID:56;
A12:    (|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|)`2 = q`2/sqrt(1+(q
        `2/q`1)^2) by EUCLID:56;
A13:    1+(q`2/q`1)^2>0 by XREAL_1:36,65;
A14:    now
          assume
A15:      q`1=0;
          then q`2=0 by A6;
          hence contradiction by A6,A15,EUCLID:57,58;
        end;
        then
A16:    (q`1)^2>0 by SQUARE_1:74;
        (q`1)^2>1^2 by A5,A8,SQUARE_1:117;
        then
A17:    sqrt((q`1)^2)>1 by SQUARE_1:83,95;
        |.(|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|).|^2
        =((q`1)/sqrt(1+(q`2/(q`1))^2))^2+(q`2/sqrt(1+(q`2/(q`1))^2))^2
        by A11,A12,JGRAPH_3:10
          .=(q`1)^2/(sqrt(1+(q`2/(q`1))^2))^2+(q`2/sqrt(1+(q`2/(q`1))^2))^2
        by XCMPLX_1:77
          .=(q`1)^2/(sqrt(1+(q`2/(q`1))^2))^2
        +(q`2)^2/(sqrt(1+(q`2/(q`1))^2))^2 by XCMPLX_1:77
          .=(q`1)^2/(1+(q`2/q`1)^2)+(q`2)^2/(sqrt(1+(q`2/q`1)^2))^2
        by A13,SQUARE_1:def 4
          .=(q`1)^2/(1+(q`2/q`1)^2)+(q`2)^2/(1+(q`2/q`1)^2)
        by A13,SQUARE_1:def 4
          .=((q`1)^2+(q`2)^2)/(1+(q`2/q`1)^2) by XCMPLX_1:63
          .=((q`1)^2+(q`2)^2)/(1+(q`2)^2/(q`1)^2) by XCMPLX_1:77
          .=((q`1)^2+(q`2)^2)/((q`1)^2/(q`1)^2+(q`2)^2/(q`1)^2)
        by A16,XCMPLX_1:60
          .=((q`1)^2+(q`2)^2)/(((q`1)^2+(q`2)^2)/(q`1)^2) by XCMPLX_1:63
          .=(q`1)^2*(((q`1)^2+(q`2)^2)/((q`1)^2+(q`2)^2)) by XCMPLX_1:82
          .=(q`1)^2*1 by A14,COMPLEX1:2,XCMPLX_1:60
          .=(q`1)^2;
        then |.(|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|).|>1
        by A17,SQUARE_1:89;
        hence ex p2 being Point of TOP-REAL 2 st p2=y & |.p2.|>1 by A3,A4,A7;
      end;
      case
A18:    q<>0.TOP-REAL 2 & not(q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
        then
A19:    Sq_Circ.q=|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2 )]|
        by JGRAPH_3:def 1;
A20:    (|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|)`1 = q`1/sqrt(1+(q
        `1/q`2)^2) by EUCLID:56;
A21:    (|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|)`2 = q`2/sqrt(1+(q
        `1/q`2)^2) by EUCLID:56;
A22:    1+(q`1/q`2)^2>0 by XREAL_1:36,65;
A23:    q`2 <> 0 by A18;
        then
A24:    (q`2)^2>0 by SQUARE_1:74;
        not(-1 <=q`1 & q`1<= 1) implies -1>q`2 or q`2>1
        proof
          assume
A25:      not(-1 <=q`1 & q`1<= 1);
          now per cases by A25;
            case
A26:          -1>q`1;
then q`2< -1 or q`1<q`2 & -q`2< --q`1 by A18,XREAL_1:26,XXREAL_0:2;
              then -q`2< -1 or -1>q`2 by A26,XXREAL_0:2;
              hence thesis by XREAL_1:26;
            end;
            case
A27:          q`1>1;
              --q`1< -q`2 & q`2<q`1 or q`2>q`1 & q`2> -q`1 by A18,XREAL_1:26;
              then 1< -q`2 or q`2>q`1 & q`2> -q`1 by A27,XXREAL_0:2;
              then -1> --q`2 or 1<q`2 by A27,XREAL_1:26,XXREAL_0:2;
              hence thesis;
            end;
          end;
          hence thesis;
        end;
        then (q`2)^2>1^2 by A5,SQUARE_1:117;
        then
A28:    sqrt((q`2)^2)>1 by SQUARE_1:83,95;
        |.(|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|).|^2
        =((q`1)/sqrt(1+(q`1/(q`2))^2))^2+(q`2/sqrt(1+(q`1/(q`2))^2))^2
        by A20,A21,JGRAPH_3:10
          .=(q`1)^2/(sqrt(1+(q`1/(q`2))^2))^2+(q`2/sqrt(1+(q`1/(q`2))^2))^2
        by XCMPLX_1:77
          .=(q`1)^2/(sqrt(1+(q`1/(q`2))^2))^2
        +(q`2)^2/(sqrt(1+(q`1/(q`2))^2))^2 by XCMPLX_1:77
          .=(q`1)^2/(1+(q`1/q`2)^2)+(q`2)^2/(sqrt(1+(q`1/q`2)^2))^2
        by A22,SQUARE_1:def 4
          .=(q`1)^2/(1+(q`1/q`2)^2)+(q`2)^2/(1+(q`1/q`2)^2)
        by A22,SQUARE_1:def 4
          .=((q`1)^2+(q`2)^2)/(1+(q`1/q`2)^2) by XCMPLX_1:63
          .=((q`1)^2+(q`2)^2)/(1+(q`1)^2/(q`2)^2) by XCMPLX_1:77
          .=((q`1)^2+(q`2)^2)/((q`1)^2/(q`2)^2+(q`2)^2/(q`2)^2)
        by A24,XCMPLX_1:60
          .=((q`1)^2+(q`2)^2)/(((q`1)^2+(q`2)^2)/(q`2)^2)
        by XCMPLX_1:63
          .=(q`2)^2*(((q`1)^2+(q`2)^2)/((q`1)^2+(q`2)^2))
        by XCMPLX_1:82
          .=(q`2)^2*1 by A23,COMPLEX1:2,XCMPLX_1:60
          .=(q`2)^2;
        then |.(|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|).|>1
        by A28,SQUARE_1:89;
        hence ex p2 being Point of TOP-REAL 2 st p2=y & |.p2.|>1 by A3,A4,A19;
      end;
    end;
    hence thesis by A1;
  end;
  let y be set;
  assume y in Cb;
  then consider p2 being Point of TOP-REAL 2 such that
A29: p2=y and
A30: |.p2.|>1 by A1;
  set q=p2;
  now per cases;
    case q=0.TOP-REAL 2;
      hence contradiction by A30,TOPRNS_1:24;
    end;
    case
A31:  q<>0.TOP-REAL 2 & (q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
      set px=|[q`1*sqrt(1+(q`2/q`1)^2),q`2*sqrt(1+(q`2/q`1)^2)]|;
A32:  px`1 = q`1*sqrt(1+(q`2/q`1)^2) by EUCLID:56;
A33:  px`2 = q`2*sqrt(1+(q`2/q`1)^2) by EUCLID:56;
      1+(q`2/q`1)^2>0 by XREAL_1:36,65;
      then
A34:  sqrt(1+(q`2/q`1)^2)>0 by SQUARE_1:93;
A35:  1+(px`2/px`1)^2>0 by XREAL_1:36,65;
A36:  px`2/px`1=q`2/q`1 by A32,A33,A34,XCMPLX_1:92;
A37:  q`1=q`1*sqrt(1+(q`2/q`1)^2)/(sqrt(1+(q`2/q`1)^2))by A34,XCMPLX_1:90
        .=px`1/(sqrt(1+(q`2/q`1)^2)) by EUCLID:56;
A38:  q`2=q`2*sqrt(1+(q`2/q`1)^2)/(sqrt(1+(q`2/q`1)^2))by A34,XCMPLX_1:90
        .=px`2/(sqrt(1+(q`2/q`1)^2)) by EUCLID:56;
A39:  |.q.|^2=q`1^2+q`2^2 by JGRAPH_3:10;
A40:  |.q.|^2>1^2 by A30,SQUARE_1:78;
A41:  now
        assume that
A42:    px`1=0 and
A43:    px`2=0;
A44:    q`1*sqrt(1+(q`2/q`1)^2)=0 by A42,EUCLID:56;
A45:    q`2*sqrt(1+(q`2/q`1)^2)=0 by A43,EUCLID:56;
A46:    q`1=0 by A34,A44,XCMPLX_1:6;
        q`2=0 by A34,A45,XCMPLX_1:6;
        hence contradiction by A31,A46,EUCLID:57,58;
      end;
      q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 &
      q`2*sqrt(1+(q`2/q`1)^2) <= (-q`1)*sqrt(1+(q`2/q`1)^2)
      by A31,A34,XREAL_1:66;
      then
A47:  q`2<=q`1 & (-q`1)*sqrt(1+(q`2/q`1)^2) <= q`2*sqrt(1+(q`2/q`1) ^2)
      or px`2>=px`1 & px`2<=-px`1 by A32,A33,A34,XREAL_1:66;
      then px`2<=px`1 & -px`1<=px`2 or px`2>=px`1 & px`2<=-px`1
      by A32,A33,A34,XREAL_1:66;
      then
      A48:  Sq_Circ
.px=|[px`1/sqrt(1+(px`2/px`1)^2),px`2/sqrt(1+(px`2/px`1 )^2) ]|
      by A41,JGRAPH_2:11,JGRAPH_3:def 1;
A49:  px`1/sqrt(1+(px`2/px`1)^2)=q`1 by A32,A34,A36,XCMPLX_1:90;
A50:  px`2/sqrt(1+(px`2/px`1)^2)=q`2 by A33,A34,A36,XCMPLX_1:90;
A51:  dom Sq_Circ=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
      not px`1=0 by A32,A33,A34,A41,A47,XREAL_1:66;
      then
A52:  (px`1)^2>0 by SQUARE_1:74;
A53:  (px`2)^2>=0 by XREAL_1:65;
      (px`1)^2/(sqrt(1+(px`2/px`1)^2))^2+(px`2/sqrt(1+(px`2/px`1)^2)) ^2 > 1
      by A36,A37,A38,A39,A40,XCMPLX_1:77;
      then (px`1)^2/(sqrt(1+(px`2/px`1)^2))^2+(px`2)^2/(sqrt(1+(px`2/px`1)^2))
      ^2>1 by XCMPLX_1:77;
      then (px`1)^2/(1+(px`2/px`1)^2)+(px`2)^2/(sqrt(1+(px`2/px`1)^2))^2>1
      by A35,SQUARE_1:def 4;
      then (px`1)^2/(1+(px`2/px`1)^2)+(px`2)^2/(1+(px`2/px`1)^2)>1
      by A35,SQUARE_1:def 4;
      then ((px`1)^2/(1+(px`2/px`1)^2)
      +(px`2)^2/(1+(px`2/px`1)^2))*(1+(px`2/px`1)^2)>1 *(1+(px`2/px`1)^2)
      by A35,XREAL_1:70;
      then (px`1)^2/(1+(px`2/px`1)^2)*(1+(px`2/px`1)^2)
      +(px`2)^2/(1+(px`2/px`1)^2)*(1+(px`2/px`1)^2)>1 *(1+(px`2/px`1)^2);
      then (px`1)^2+(px`2)^2/(1+(px`2/px`1)^2)*(1+(px`2/px`1)^2)>1 *(1+(px`2/
      px `1)^2) by A35,XCMPLX_1:88;
      then
A54:  (px`1)^2+(px`2)^2>1 *(1+(px`2/px`1)^2) by A35,XCMPLX_1:88;
      1 *(1+(px`2/px`1)^2) =1+(px`2)^2/(px`1)^2 by XCMPLX_1:77;
      then (px`1)^2+(px`2)^2-1>1+(px`2)^2/(px`1)^2-1 by A54,XREAL_1:11;
      then ((px`1)^2+(px`2)^2-1)*(px`1)^2>((px`2)^2/(px`1)^2)*(px`1)^2
      by A52,XREAL_1:70;
      then
A55:  ((px`1)^2+((px`2)^2-1))*(px`1)^2>(px`2)^2 by A52,XCMPLX_1:88;
      (px`1)^2*(px`1)^2+((px`1)^2*(px`2)^2-(px`1)^2*1)-(px`2)^2
      = ((px`1)^2-1)*((px`1)^2+(px`2)^2);
      then (px`1)^2-1>0 or (px`1)^2+(px`2)^2<0 by A55,XREAL_1:52;
      then (px`1)^2-1+1>0+1 by A52,A53,XREAL_1:8;
      then px`1>1^2 or px`1< -1 by SQUARE_1:119;
      then px in Kb by A1;
      hence ex x being set st x in dom Sq_Circ & x in Kb & y=Sq_Circ.x
      by A29,A48,A49,A50,A51,EUCLID:57;
    end;
    case
A56:  q<>0.TOP-REAL 2 & not(q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
      set px=|[q`1*sqrt(1+(q`1/q`2)^2),q`2*sqrt(1+(q`1/q`2)^2)]|;
A57:  q`1<=q`2 & -q`2<=q`1 or q`1>=q`2 & q`1<=-q`2 by A56,JGRAPH_2:23;
A58:  px`2 = q`2*sqrt(1+(q`1/q`2)^2) by EUCLID:56;
A59:  px`1 = q`1*sqrt(1+(q`1/q`2)^2) by EUCLID:56;
      1+(q`1/q`2)^2>0 by XREAL_1:36,65;
      then
A60:  sqrt(1+(q`1/q`2)^2)>0 by SQUARE_1:93;
A61:  1+(px`1/px`2)^2>0 by XREAL_1:36,65;
A62:  px`1/px`2=q`1/q`2 by A58,A59,A60,XCMPLX_1:92;
A63:  q`2=q`2*sqrt(1+(q`1/q`2)^2)/(sqrt(1+(q`1/q`2)^2))by A60,XCMPLX_1:90
        .=px`2/(sqrt(1+(q`1/q`2)^2)) by EUCLID:56;
A64:  q`1=q`1*sqrt(1+(q`1/q`2)^2)/(sqrt(1+(q`1/q`2)^2))by A60,XCMPLX_1:90
        .=px`1/(sqrt(1+(q`1/q`2)^2)) by EUCLID:56;
A65:  |.q.|^2=q`2^2+q`1^2 by JGRAPH_3:10;
A66:  |.q.|^2>1^2 by A30,SQUARE_1:78;
A67:  now
        assume that
A68:    px`2=0 and
A69:    px`1=0;
A70:    q`2*sqrt(1+(q`1/q`2)^2)=0 by A68,EUCLID:56;
        q`1*sqrt(1+(q`1/q`2)^2)=0 by A69,EUCLID:56;
        then q`1=0 by A60,XCMPLX_1:6;
        hence contradiction by A56,A60,A70,XCMPLX_1:6;
      end;
      q`1<=q`2 & -q`2<=q`1 or q`1>=q`2 &
      q`1*sqrt(1+(q`1/q`2)^2) <= (-q`2)*sqrt(1+(q`1/q`2)^2)
      by A57,A60,XREAL_1:66;
      then
A71:  q`1<=q`2 & (-q`2)*sqrt(1+(q`1/q`2)^2) <= q`1*sqrt(1+(q`1/q`2) ^2)
      or px`1>=px`2 & px`1<=-px`2 by A58,A59,A60,XREAL_1:66;
      then px`1<=px`2 & -px`2<=px`1 or px`1>=px`2 & px`1<=-px`2
      by A58,A59,A60,XREAL_1:66;
      then
      A72:  Sq_Circ
.px=|[px`1/sqrt(1+(px`1/px`2)^2),px`2/sqrt(1+(px`1/px`2 )^2) ]|
      by A67,JGRAPH_2:11,JGRAPH_3:14;
A73:  px`2/sqrt(1+(px`1/px`2)^2)=q`2 by A58,A60,A62,XCMPLX_1:90;
A74:  px`1/sqrt(1+(px`1/px`2)^2)=q`1 by A59,A60,A62,XCMPLX_1:90;
A75:  dom Sq_Circ=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
      not px`2=0 by A58,A59,A60,A67,A71,XREAL_1:66;
      then
A76:  (px`2)^2>0 by SQUARE_1:74;
A77:  (px`1)^2>=0 by XREAL_1:65;
      (px`2)^2/(sqrt(1+(px`1/px`2)^2))^2+(px`1/sqrt(1+(px`1/px`2)^2)) ^2 > 1
      by A62,A63,A64,A65,A66,XCMPLX_1:77;
      then (px`2)^2/(sqrt(1+(px`1/px`2)^2))^2+(px`1)^2/(sqrt(1+(px`1/px`2)^2))
      ^2>1 by XCMPLX_1:77;
      then (px`2)^2/(1+(px`1/px`2)^2)+(px`1)^2/(sqrt(1+(px`1/px`2)^2))^2>1
      by A61,SQUARE_1:def 4;
      then (px`2)^2/(1+(px`1/px`2)^2)+(px`1)^2/(1+(px`1/px`2)^2)>1
      by A61,SQUARE_1:def 4;
      then ((px`2)^2/(1+(px`1/px`2)^2)
      +(px`1)^2/(1+(px`1/px`2)^2))*(1+(px`1/px`2)^2)>1 *(1+(px`1/px`2)^2)
      by A61,XREAL_1:70;
      then (px`2)^2/(1+(px`1/px`2)^2)*(1+(px`1/px`2)^2)
      +(px`1)^2/(1+(px`1/px`2)^2)*(1+(px`1/px`2)^2)>1 *(1+(px`1/px`2)^2);
      then (px`2)^2+(px`1)^2/(1+(px`1/px`2)^2)*(1+(px`1/px`2)^2)>1 *(1+(px`1/
      px `2)^2) by A61,XCMPLX_1:88;
      then
A78:  (px`2)^2+(px`1)^2>1 *(1+(px`1/px`2)^2) by A61,XCMPLX_1:88;
      1 *(1+(px`1/px`2)^2) =1+(px`1)^2/(px`2)^2 by XCMPLX_1:77;
      then (px`2)^2+(px`1)^2-1>1+(px`1)^2/(px`2)^2-1 by A78,XREAL_1:11;
      then ((px`2)^2+(px`1)^2-1)*(px`2)^2>((px`1)^2/(px`2)^2)*(px`2)^2
      by A76,XREAL_1:70;
      then
A79:  ((px`2)^2+((px`1)^2-1))*(px`2)^2>(px`1)^2 by A76,XCMPLX_1:88;
      (px`2)^2*(px`2)^2+((px`2)^2*(px`1)^2-(px`2)^2*1)-(px`1)^2
      = ((px`2)^2-1)*((px`2)^2+(px`1)^2);
      then (px`2)^2-1>0 or (px`1)^2+(px`2)^2<0 by A79,XREAL_1:52;
      then (px`2)^2-1+1>0+1 by A76,A77,XREAL_1:8;
      then px`2>1^2 or px`2< -1 by SQUARE_1:119;
      then px in Kb by A1;
      hence ex x being set st x in dom Sq_Circ & x in Kb & y=Sq_Circ.x
      by A29,A72,A73,A74,A75,EUCLID:57;
    end;
  end;
  hence thesis by FUNCT_1:def 12;
end;

theorem Th36:
  for Kb,Cb being Subset of TOP-REAL 2 st
  Kb={p: -1 <=p`1 & p`1<= 1 & -1 <=p`2 & p`2<= 1}&
  Cb={p2 where p2 is Point of TOP-REAL 2: |.p2.|<=1} holds Sq_Circ.:Kb=Cb
proof
  let Kb,Cb be Subset of TOP-REAL 2;
  assume
A1: Kb={p: -1 <=p`1 & p`1<= 1 & -1 <=p`2 & p`2<= 1}&
  Cb={p2 where p2 is Point of TOP-REAL 2: |.p2.|<=1};
  thus Sq_Circ.:Kb c= Cb
  proof
    let y be set;
    assume y in Sq_Circ.:Kb;
    then consider x being set such that
    x in dom Sq_Circ and
A2: x in Kb and
A3: y=Sq_Circ.x by FUNCT_1:def 12;
    consider q being Point of TOP-REAL 2 such that
A4: q=x and
A5: -1 <=q`1 and
A6: q`1<= 1 and
A7: -1 <=q`2 and
A8: q`2<= 1 by A1,A2;
    now per cases;
      case
A9:     q=0.TOP-REAL 2;
        then
A10:    Sq_Circ.q=q by JGRAPH_3:def 1;
        |.q.|=0 by A9,TOPRNS_1:24;
        hence ex p2 being Point of TOP-REAL 2 st p2=y & |.p2.|<=1 by A3,A4,A10;
      end;
      case
A11:    q<>0.TOP-REAL 2 & (q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
        then
        A12:    Sq_Circ.q=|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2 )]|
        by JGRAPH_3:def 1;
A13:    (|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|)`1 = q`1/sqrt(1+(q
        `2/q`1)^2) by EUCLID:56;
A14:    (|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|)`2 = q`2/sqrt(1+(q
        `2/q`1)^2) by EUCLID:56;
A15:    1+(q`2/q`1)^2>0 by XREAL_1:36,65;
A16:    now
          assume
A17:      q`1=0;
          then q`2=0 by A11;
          hence contradiction by A11,A17,EUCLID:57,58;
        end;
        then
A18:    (q`1)^2>0 by SQUARE_1:74;
        (q`1)^2<=1^2 by A5,A6,SQUARE_1:119;
        then
A19:    sqrt((q`1)^2)<=1 by A18,SQUARE_1:83,94;
        |.(|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|).|^2
        =((q`1)/sqrt(1+(q`2/(q`1))^2))^2+(q`2/sqrt(1+(q`2/(q`1))^2))^2
        by A13,A14,JGRAPH_3:10
          .=(q`1)^2/(sqrt(1+(q`2/(q`1))^2))^2+(q`2/sqrt(1+(q`2/(q`1))^2))^2
        by XCMPLX_1:77
          .=(q`1)^2/(sqrt(1+(q`2/(q`1))^2))^2
        +(q`2)^2/(sqrt(1+(q`2/(q`1))^2))^2 by XCMPLX_1:77
          .=(q`1)^2/(1+(q`2/q`1)^2)+(q`2)^2/(sqrt(1+(q`2/q`1)^2))^2
        by A15,SQUARE_1:def 4
          .=(q`1)^2/(1+(q`2/q`1)^2)+(q`2)^2/(1+(q`2/q`1)^2)
        by A15,SQUARE_1:def 4
          .=((q`1)^2+(q`2)^2)/(1+(q`2/q`1)^2) by XCMPLX_1:63
          .=((q`1)^2+(q`2)^2)/(1+(q`2)^2/(q`1)^2) by XCMPLX_1:77
          .=((q`1)^2+(q`2)^2)/((q`1)^2/(q`1)^2+(q`2)^2/(q`1)^2)
        by A18,XCMPLX_1:60
          .=((q`1)^2+(q`2)^2)/(((q`1)^2+(q`2)^2)/(q`1)^2)
        by XCMPLX_1:63
          .=(q`1)^2*(((q`1)^2+(q`2)^2)/((q`1)^2+(q`2)^2))
        by XCMPLX_1:82
          .=(q`1)^2*1 by A16,COMPLEX1:2,XCMPLX_1:60
          .=(q`1)^2;
        then |.(|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|).|<=1
        by A19,SQUARE_1:89;
        hence ex p2 being Point of TOP-REAL 2 st p2=y & |.p2.|<=1 by A3,A4,A12;
      end;
      case
A20:    q<>0.TOP-REAL 2 & not(q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
        then
A21:    Sq_Circ.q=|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2 )]|
        by JGRAPH_3:def 1;
A22:    (|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|)`1 = q`1/sqrt(1+(q
        `1/q`2)^2) by EUCLID:56;
A23:    (|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|)`2 = q`2/sqrt(1+(q
        `1/q`2)^2) by EUCLID:56;
A24:    1+(q`1/q`2)^2>0 by XREAL_1:36,65;
A25:    q`2 <>0 by A20;
        then
A26:    (q`2)^2>0 by SQUARE_1:74;
        (q`2)^2<=1^2 by A7,A8,SQUARE_1:119;
        then
A27:    sqrt((q`2)^2)<=1 by A26,SQUARE_1:83,94;
        |.(|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|).|^2
        =((q`1)/sqrt(1+(q`1/(q`2))^2))^2+(q`2/sqrt(1+(q`1/(q`2))^2))^2
        by A22,A23,JGRAPH_3:10
          .=(q`1)^2/(sqrt(1+(q`1/(q`2))^2))^2+(q`2/sqrt(1+(q`1/(q`2))^2))^2
        by XCMPLX_1:77
          .=(q`1)^2/(sqrt(1+(q`1/(q`2))^2))^2
        +(q`2)^2/(sqrt(1+(q`1/(q`2))^2))^2 by XCMPLX_1:77
          .=(q`1)^2/(1+(q`1/q`2)^2)+(q`2)^2/(sqrt(1+(q`1/q`2)^2))^2
        by A24,SQUARE_1:def 4
          .=(q`1)^2/(1+(q`1/q`2)^2)+(q`2)^2/(1+(q`1/q`2)^2)
        by A24,SQUARE_1:def 4
          .=((q`1)^2+(q`2)^2)/(1+(q`1/q`2)^2) by XCMPLX_1:63
          .=((q`1)^2+(q`2)^2)/(1+(q`1)^2/(q`2)^2) by XCMPLX_1:77
          .=((q`1)^2+(q`2)^2)/((q`1)^2/(q`2)^2+(q`2)^2/(q`2)^2)
        by A26,XCMPLX_1:60
          .=((q`1)^2+(q`2)^2)/(((q`1)^2+(q`2)^2)/(q`2)^2)
        by XCMPLX_1:63
          .=(q`2)^2*(((q`1)^2+(q`2)^2)/((q`1)^2+(q`2)^2)) by XCMPLX_1:82
          .=(q`2)^2*1 by A25,COMPLEX1:2,XCMPLX_1:60
          .=(q`2)^2;
        then |.(|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|).|<=1
        by A27,SQUARE_1:89;
        hence ex p2 being Point of TOP-REAL 2 st p2=y & |.p2.|<=1 by A3,A4,A21;
      end;
    end;
    hence thesis by A1;
  end;
  let y be set;
  assume y in Cb;
  then consider p2 being Point of TOP-REAL 2 such that
A28: p2=y and
A29: |.p2.|<=1 by A1;
  set q=p2;
  now per cases;
    case
A30:  q=0.TOP-REAL 2;
      then
A31:  q`1=0 by EUCLID:56,58;
      q`2=0 by A30,EUCLID:56,58;
      then
A32:  y in Kb by A1,A28,A31;
A33:  Sq_Circ".y=y by A28,A30,JGRAPH_3:38;
A34:  dom Sq_Circ=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
      y=Sq_Circ.y by A28,A33,FUNCT_1:57,JGRAPH_3:54;
      hence ex x being set st x in dom Sq_Circ & x in Kb & y=Sq_Circ.x
      by A32,A34;
    end;
    case
A35:  q<>0.TOP-REAL 2 & (q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
      set px=|[q`1*sqrt(1+(q`2/q`1)^2),q`2*sqrt(1+(q`2/q`1)^2)]|;
A36:  px`1 = q`1*sqrt(1+(q`2/q`1)^2) by EUCLID:56;
A37:  px`2 = q`2*sqrt(1+(q`2/q`1)^2) by EUCLID:56;
      1+(q`2/q`1)^2>0 by XREAL_1:36,65;
      then
A38:  sqrt(1+(q`2/q`1)^2)>0 by SQUARE_1:93;
A39:  1+(px`2/px`1)^2>0 by XREAL_1:36,65;
A40:  px`2/px`1=q`2/q`1 by A36,A37,A38,XCMPLX_1:92;
A41:  q`1=q`1*sqrt(1+(q`2/q`1)^2)/(sqrt(1+(q`2/q`1)^2))by A38,XCMPLX_1:90
        .=px`1/(sqrt(1+(q`2/q`1)^2)) by EUCLID:56;
A42:  q`2=q`2*sqrt(1+(q`2/q`1)^2)/(sqrt(1+(q`2/q`1)^2))by A38,XCMPLX_1:90
        .=px`2/(sqrt(1+(q`2/q`1)^2)) by EUCLID:56;
A43:  |.q.|^2=q`1^2+q`2^2 by JGRAPH_3:10;
A44:  |.q.|^2<=1^2 by A29,SQUARE_1:77;
A45:  now
        assume that
A46:    px`1=0 and
A47:    px`2=0;
A48:    q`1*sqrt(1+(q`2/q`1)^2)=0 by A46,EUCLID:56;
A49:    q`2*sqrt(1+(q`2/q`1)^2)=0 by A47,EUCLID:56;
A50:    q`1=0 by A38,A48,XCMPLX_1:6;
        q`2=0 by A38,A49,XCMPLX_1:6;
        hence contradiction by A35,A50,EUCLID:57,58;
      end;
      q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 &
      q`2*sqrt(1+(q`2/q`1)^2) <= (-q`1)*sqrt(1+(q`2/q`1)^2)
      by A35,A38,XREAL_1:66;
      then
A51:  q`2<=q`1 & (-q`1)*sqrt(1+(q`2/q`1)^2) <= q`2*sqrt(1+(q`2/q`1) ^2)
      or px`2>=px`1 & px`2<=-px`1 by A36,A37,A38,XREAL_1:66;
      then px`2<=px`1 & -px`1<=px`2 or px`2>=px`1 & px`2<=-px`1
      by A36,A37,A38,XREAL_1:66;
      then
      A52:  Sq_Circ
.px=|[px`1/sqrt(1+(px`2/px`1)^2),px`2/sqrt(1+(px`2/px`1 )^2) ]|
      by A45,JGRAPH_2:11,JGRAPH_3:def 1;
      px`2<=px`1 & --px`1>=-px`2 or px`2>=px`1 & px`2<=-px`1
      by A36,A37,A38,A51,XREAL_1:26,66;
      then
A53:  px`2<=px`1 & px`1>=-px`2 or px`2>=px`1 & -px`2>=--px`1 by XREAL_1:26;
A54:  px`1/sqrt(1+(px`2/px`1)^2)=q`1 by A36,A38,A40,XCMPLX_1:90;
A55:  px`2/sqrt(1+(px`2/px`1)^2)=q`2 by A37,A38,A40,XCMPLX_1:90;
A56:  dom Sq_Circ=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
      not px`1=0 by A36,A37,A38,A45,A51,XREAL_1:66;
      then
A57:  (px`1)^2>0 by SQUARE_1:74;
A58:  (px`2)^2>=0 by XREAL_1:65;
      (px`1)^2/(sqrt(1+(px`2/px`1)^2))^2+(px`2/sqrt(1+(px`2/px`1)^2)) ^2 <=1
      by A40,A41,A42,A43,A44,XCMPLX_1:77;
      then (px`1)^2/(sqrt(1+(px`2/px`1)^2))^2+(px`2)^2/(sqrt(1+(px`2/px`1)^2))
      ^2<=1 by XCMPLX_1:77;
      then (px`1)^2/(1+(px`2/px`1)^2)+(px`2)^2/(sqrt(1+(px`2/px`1)^2))^2<=1
      by A39,SQUARE_1:def 4;
      then (px`1)^2/(1+(px`2/px`1)^2)+(px`2)^2/(1+(px`2/px`1)^2)<=1
      by A39,SQUARE_1:def 4;
      then ((px`1)^2/(1+(px`2/px`1)^2)
      +(px`2)^2/(1+(px`2/px`1)^2))*(1+(px`2/px`1)^2)<=1 *(1+(px`2/px`1)^2)
      by A39,XREAL_1:66;
      then (px`1)^2/(1+(px`2/px`1)^2)*(1+(px`2/px`1)^2)
      +(px`2)^2/(1+(px`2/px`1)^2)*(1+(px`2/px`1)^2)<=1 *(1+(px`2/px`1)^2);
      then (px`1)^2+(px`2)^2/(1+(px`2/px`1)^2)*(1+(px`2/px`1)^2)
      <=1 *(1+(px`2/px`1)^2) by A39,XCMPLX_1:88;
      then
A59:  (px`1)^2+(px`2)^2<=1 *(1+(px`2/px`1)^2) by A39,XCMPLX_1:88;
      1 *(1+(px`2/px`1)^2) =1+(px`2)^2/(px`1)^2 by XCMPLX_1:77;
      then (px`1)^2+(px`2)^2-1<=1+(px`2)^2/(px`1)^2-1 by A59,XREAL_1:11;
      then ((px`1)^2+(px`2)^2-1)*(px`1)^2<=((px`2)^2/(px`1)^2)*(px`1)^2
      by A57,XREAL_1:66;
      then ((px`1)^2+((px`2)^2-1))*(px`1)^2<=(px`2)^2 by A57,XCMPLX_1:88;
      then
A60:  (px`1)^2*(px`1)^2+(px`1)^2*((px`2)^2-1)-(px`2)^2<=0 by XREAL_1:49;
      (px`1)^2*(px`1)^2+((px`1)^2*(px`2)^2-(px`1)^2*1)-(px`2)^2
      = ((px`1)^2-1)*((px`1)^2+(px`2)^2);
      then (px`1)^2-1<=0 & (px`1)^2-1>=0 or
      (px`1)^2-1<=0 & (px`1)^2+(px`2)^2>=0 or
      (px`1)^2+(px`2)^2<=0 & (px`1)^2-1>=0 or
      (px`1)^2+(px`2)^2<=0 & (px`1)^2+(px`2)^2>=0 by A60,XREAL_1:131,132;
      then
A61:  (px`1)^2-1+1<=0+1 by A58,XREAL_1:9;
      then
A62:  px`1<=1^2 by SQUARE_1:117;
A63:  px`1>= -1^2 by A61,SQUARE_1:117;
      then px`2<=1 & 1>= -px`2 or px`2>= -1 & -px`2>=px`1 by A53,A62,XXREAL_0:2
;
      then px`2<=1 & -1<= --px`2 or px`2>= -1 & -px`2>= -1
      by A63,XREAL_1:26,XXREAL_0:2;
      then px`2<=1 & -1<=px`2 or px`2>= -1 & --px`2<= --1 by XREAL_1:26;
      then px in Kb by A1,A62,A63;
      hence ex x being set st x in dom Sq_Circ & x in Kb & y=Sq_Circ.x
      by A28,A52,A54,A55,A56,EUCLID:57;
    end;
    case
A64:  q<>0.TOP-REAL 2 & not(q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
      set px=|[q`1*sqrt(1+(q`1/q`2)^2),q`2*sqrt(1+(q`1/q`2)^2)]|;
A65:  q`1<=q`2 & -q`2<=q`1 or q`1>=q`2 & q`1<=-q`2 by A64,JGRAPH_2:23;
A66:  px`2 = q`2*sqrt(1+(q`1/q`2)^2) by EUCLID:56;
A67:  px`1 = q`1*sqrt(1+(q`1/q`2)^2) by EUCLID:56;
      1+(q`1/q`2)^2>0 by XREAL_1:36,65;
      then
A68:  sqrt(1+(q`1/q`2)^2)>0 by SQUARE_1:93;
A69:  1+(px`1/px`2)^2>0 by XREAL_1:36,65;
A70:  px`1/px`2=q`1/q`2 by A66,A67,A68,XCMPLX_1:92;
A71:  q`2=q`2*sqrt(1+(q`1/q`2)^2)/(sqrt(1+(q`1/q`2)^2))by A68,XCMPLX_1:90
        .=px`2/(sqrt(1+(q`1/q`2)^2)) by EUCLID:56;
A72:  q`1=q`1*sqrt(1+(q`1/q`2)^2)/(sqrt(1+(q`1/q`2)^2))by A68,XCMPLX_1:90
        .=px`1/(sqrt(1+(q`1/q`2)^2)) by EUCLID:56;
A73:  |.q.|^2=q`2^2+q`1^2 by JGRAPH_3:10;
A74:  |.q.|^2<=1^2 by A29,SQUARE_1:77;
A75:  now
        assume that
A76:    px`2=0 and
A77:    px`1=0;
A78:    q`2*sqrt(1+(q`1/q`2)^2)=0 by A76,EUCLID:56;
        q`1*sqrt(1+(q`1/q`2)^2)=0 by A77,EUCLID:56;
        then q`1=0 by A68,XCMPLX_1:6;
        hence contradiction by A64,A68,A78,XCMPLX_1:6;
      end;
      q`1<=q`2 & -q`2<=q`1 or q`1>=q`2 &
      q`1*sqrt(1+(q`1/q`2)^2) <= (-q`2)*sqrt(1+(q`1/q`2)^2)
      by A65,A68,XREAL_1:66;
      then
A79:  q`1<=q`2 & (-q`2)*sqrt(1+(q`1/q`2)^2) <= q`1*sqrt(1+(q`1/q`2) ^2)
      or px`1>=px`2 & px`1<=-px`2 by A66,A67,A68,XREAL_1:66;
      then px`1<=px`2 & -px`2<=px`1 or px`1>=px`2 & px`1<=-px`2
      by A66,A67,A68,XREAL_1:66;
      then
      A80:  Sq_Circ
.px=|[px`1/sqrt(1+(px`1/px`2)^2),px`2/sqrt(1+(px`1/px`2 )^2) ]|
      by A75,JGRAPH_2:11,JGRAPH_3:14;
      px`1<=px`2 & --px`2>=-px`1 or px`1>=px`2 & px`1<=-px`2
      by A66,A67,A68,A79,XREAL_1:26,66;
      then
A81:  px`1<=px`2 & px`2>=-px`1 or px`1>=px`2 & -px`1>=--px`2 by XREAL_1:26;
A82:  px`2/sqrt(1+(px`1/px`2)^2)=q`2 by A66,A68,A70,XCMPLX_1:90;
A83:  px`1/sqrt(1+(px`1/px`2)^2)=q`1 by A67,A68,A70,XCMPLX_1:90;
A84:  dom Sq_Circ=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
      not px`2=0 by A66,A67,A68,A75,A79,XREAL_1:66;
      then
A85:  (px`2)^2>0 by SQUARE_1:74;
A86:  (px`1)^2>=0 by XREAL_1:65;
      (px`2)^2/(sqrt(1+(px`1/px`2)^2))^2+(px`1/sqrt(1+(px`1/px`2)^2)) ^2 <= 1
      by A70,A71,A72,A73,A74,XCMPLX_1:77;
      then
      (px`2)^2/(sqrt(1+(px`1/px`2)^2))^2+(px`1)^2/(sqrt(1+(px`1/px`2)^2))
      ^2<=1 by XCMPLX_1:77;
      then (px`2)^2/(1+(px`1/px`2)^2)+(px`1)^2/(sqrt(1+(px`1/px`2)^2))^2<=1
      by A69,SQUARE_1:def 4;
      then (px`2)^2/(1+(px`1/px`2)^2)+(px`1)^2/(1+(px`1/px`2)^2)<=1
      by A69,SQUARE_1:def 4;
      then ((px`2)^2/(1+(px`1/px`2)^2)
      +(px`1)^2/(1+(px`1/px`2)^2))*(1+(px`1/px`2)^2)<=1 *(1+(px`1/px`2)^2)
      by A69,XREAL_1:66;
      then (px`2)^2/(1+(px`1/px`2)^2)*(1+(px`1/px`2)^2)
      +(px`1)^2/(1+(px`1/px`2)^2)*(1+(px`1/px`2)^2)<=1 *(1+(px`1/px`2)^2);
      then (px`2)^2+(px`1)^2/(1+(px`1/px`2)^2)*(1+(px`1/px`2)^2)
      <=1 *(1+(px`1/px`2)^2) by A69,XCMPLX_1:88;
      then
A87:  (px`2)^2+(px`1)^2<=1 *(1+(px`1/px`2)^2) by A69,XCMPLX_1:88;
      1 *(1+(px`1/px`2)^2) =1+(px`1)^2/(px`2)^2 by XCMPLX_1:77;
      then (px`2)^2+(px`1)^2-1<=1+(px`1)^2/(px`2)^2-1 by A87,XREAL_1:11;
      then ((px`2)^2+(px`1)^2-1)*(px`2)^2<=((px`1)^2/(px`2)^2)*(px`2)^2
      by A85,XREAL_1:66;
      then ((px`2)^2+((px`1)^2-1))*(px`2)^2<=(px`1)^2 by A85,XCMPLX_1:88;
      then
A88:  (px`2)^2*(px`2)^2+(px`2)^2*((px`1)^2-1)-(px`1)^2<=0 by XREAL_1:49;
      (px`2)^2*(px`2)^2+((px`2)^2*(px`1)^2-(px`2)^2*1)-(px`1)^2
      = ((px`2)^2-1)*((px`2)^2+(px`1)^2);
      then (px`2)^2-1<=0 or ((px`2)^2+(px`1)^2)<=0 by A88,XREAL_1:131;
      then
A89:  (px`2)^2-1+1<=0+1 by A86,XREAL_1:9;
      then
A90:  px`2<=1^2 by SQUARE_1:117;
A91:  px`2>= -1^2 by A89,SQUARE_1:117;
      then px`1<=1 & 1>= -px`1 or px`1>= -1 & -px`1>=px`2 by A81,A90,XXREAL_0:2
;
      then px`1<=1 & -1<= --px`1 or px`1>= -1 & -px`1>= -1
      by A91,XREAL_1:26,XXREAL_0:2;
      then px`1<=1 & -1<=px`1 or px`1>= -1 & --px`1<= --1 by XREAL_1:26;
      then px in Kb by A1,A90,A91;
      hence ex x being set st x in dom Sq_Circ & x in Kb & y=Sq_Circ.x
      by A28,A80,A82,A83,A84,EUCLID:57;
    end;
  end;
  hence thesis by FUNCT_1:def 12;
end;

theorem Th37:
  for Kb,Cb being Subset of TOP-REAL 2 st
  Kb={p: not(-1 <p`1 & p`1< 1 & -1 <p`2 & p`2< 1)}&
  Cb={p2 where p2 is Point of TOP-REAL 2: |.p2.|>=1} holds Sq_Circ.:Kb=Cb
proof
  let Kb,Cb be Subset of TOP-REAL 2;
  assume
A1: Kb={p: not(-1 <p`1 & p`1< 1 & -1 <p`2 & p`2< 1)}&
  Cb={p2 where p2 is Point of TOP-REAL 2: |.p2.|>=1};
  thus Sq_Circ.:Kb c= Cb
  proof
    let y be set;
    assume y in Sq_Circ.:Kb;
    then consider x being set such that
    x in dom Sq_Circ and
A2: x in Kb and
A3: y=Sq_Circ.x by FUNCT_1:def 12;
    consider q being Point of TOP-REAL 2 such that
A4: q=x and
A5: not(-1 <q`1 & q`1< 1 & -1 <q`2 & q`2< 1) by A1,A2;
    now per cases;
      case
A6:     q=0.TOP-REAL 2;
        then
A7:     q`1=0 by EUCLID:56,58;
        q`2=0 by A6,EUCLID:56,58;
        hence contradiction by A5,A7;
      end;
      case
A8:     q<>0.TOP-REAL 2 & (q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
        then
        A9:     Sq_Circ.q=|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2 )]|
        by JGRAPH_3:def 1;
A10:    not(-1 <q`2 & q`2< 1) implies -1>=q`1 or q`1>=1
        proof
          assume
A11:      not(-1 <q`2 & q`2< 1);
          now per cases by A11;
            case
A12:          -1>=q`2;
              then -q`1<= -1 or q`2>=q`1 & q`2<= -q`1 by A8,XXREAL_0:2;
              hence thesis by A12,XREAL_1:26,XXREAL_0:2;
            end;
            case q`2>=1;
              then 1<=q`1 or 1<= -q`1 by A8,XXREAL_0:2;
              then 1<=q`1 or --q`1<= -1 by XREAL_1:26;
              hence thesis;
            end;
          end;
          hence thesis;
        end;
A13:    (|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|)`1 = q`1/sqrt(1+(q
        `2/q`1)^2) by EUCLID:56;
A14:    (|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|)`2 = q`2/sqrt(1+(q
        `2/q`1)^2) by EUCLID:56;
A15:    1+(q`2/q`1)^2>0 by XREAL_1:36,65;
A16:    now
          assume
A17:      q`1=0;
          then q`2=0 by A8;
          hence contradiction by A8,A17,EUCLID:57,58;
        end;
        then
A18:    (q`1)^2>0 by SQUARE_1:74;
        (q`1)^2>=1^2 by A5,A10,SQUARE_1:118;
        then
A19:    sqrt((q`1)^2)>=1 by SQUARE_1:83,94;
        |.(|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|).|^2
        =((q`1)/sqrt(1+(q`2/(q`1))^2))^2+(q`2/sqrt(1+(q`2/(q`1))^2))^2
        by A13,A14,JGRAPH_3:10
          .=(q`1)^2/(sqrt(1+(q`2/(q`1))^2))^2+(q`2/sqrt(1+(q`2/(q`1))^2))^2
        by XCMPLX_1:77
          .=(q`1)^2/(sqrt(1+(q`2/(q`1))^2))^2
        +(q`2)^2/(sqrt(1+(q`2/(q`1))^2))^2 by XCMPLX_1:77
          .=(q`1)^2/(1+(q`2/q`1)^2)+(q`2)^2/(sqrt(1+(q`2/q`1)^2))^2
        by A15,SQUARE_1:def 4
          .=(q`1)^2/(1+(q`2/q`1)^2)+(q`2)^2/(1+(q`2/q`1)^2)
        by A15,SQUARE_1:def 4
          .=((q`1)^2+(q`2)^2)/(1+(q`2/q`1)^2) by XCMPLX_1:63
          .=((q`1)^2+(q`2)^2)/(1+(q`2)^2/(q`1)^2) by XCMPLX_1:77
          .=((q`1)^2+(q`2)^2)/((q`1)^2/(q`1)^2+(q`2)^2/(q`1)^2)
        by A18,XCMPLX_1:60
          .=((q`1)^2+(q`2)^2)/(((q`1)^2+(q`2)^2)/(q`1)^2)
        by XCMPLX_1:63
          .=(q`1)^2*(((q`1)^2+(q`2)^2)/((q`1)^2+(q`2)^2))
        by XCMPLX_1:82
          .=(q`1)^2*1 by A16,COMPLEX1:2,XCMPLX_1:60
          .=(q`1)^2;
        then |.(|[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|).|>=1
        by A19,SQUARE_1:89;
        hence ex p2 being Point of TOP-REAL 2 st p2=y & |.p2.|>=1 by A3,A4,A9;
      end;
      case
A20:    q<>0.TOP-REAL 2 & not(q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
        then
        A21:    Sq_Circ.q=|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2 )]|
        by JGRAPH_3:def 1;
A22:    (|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|)`1 = q`1/sqrt(1+(q
        `1/q`2)^2) by EUCLID:56;
A23:    (|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|)`2 = q`2/sqrt(1+(q
        `1/q`2)^2) by EUCLID:56;
A24:    1+(q`1/q`2)^2>0 by XREAL_1:36,65;
A25:    q`2 <> 0 by A20;
        then
A26:    (q`2)^2>0 by SQUARE_1:74;
        not(-1 <q`1 & q`1< 1) implies -1>=q`2 or q`2>=1
        proof
          assume
A27:      not(-1 <q`1 & q`1< 1);
          now per cases by A27;
            case
A28:          -1>=q`1;
then q`2<= -1 or q`1<q`2 & -q`2<= --q`1 by A20,XREAL_1:26,XXREAL_0:2;
              then -q`2<= -1 or -1>=q`2 by A28,XXREAL_0:2;
              hence thesis by XREAL_1:26;
            end;
            case
A29:          q`1>=1;
              --q`1<= -q`2 & q`2<=q`1 or q`2>=q`1 & q`2>= -q`1
              by A20,XREAL_1:26;
              then 1<= -q`2 or q`2>=q`1 & q`2>= -q`1 by A29,XXREAL_0:2;
              then -1>= --q`2 or 1<=q`2 by A29,XREAL_1:26,XXREAL_0:2;
              hence thesis;
            end;
          end;
          hence thesis;
        end;
        then (q`2)^2>=1^2 by A5,SQUARE_1:118;
        then
A30:    sqrt((q`2)^2)>=1 by SQUARE_1:83,94;
        |.(|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|).|^2
        =((q`1)/sqrt(1+(q`1/(q`2))^2))^2+(q`2/sqrt(1+(q`1/(q`2))^2))^2
        by A22,A23,JGRAPH_3:10
          .=(q`1)^2/(sqrt(1+(q`1/(q`2))^2))^2+(q`2/sqrt(1+(q`1/(q`2))^2))^2
        by XCMPLX_1:77
          .=(q`1)^2/(sqrt(1+(q`1/(q`2))^2))^2
        +(q`2)^2/(sqrt(1+(q`1/(q`2))^2))^2 by XCMPLX_1:77
          .=(q`1)^2/(1+(q`1/q`2)^2)+(q`2)^2/(sqrt(1+(q`1/q`2)^2))^2
        by A24,SQUARE_1:def 4
          .=(q`1)^2/(1+(q`1/q`2)^2)+(q`2)^2/(1+(q`1/q`2)^2)
        by A24,SQUARE_1:def 4
          .=((q`1)^2+(q`2)^2)/(1+(q`1/q`2)^2) by XCMPLX_1:63
          .=((q`1)^2+(q`2)^2)/(1+(q`1)^2/(q`2)^2) by XCMPLX_1:77
          .=((q`1)^2+(q`2)^2)/((q`1)^2/(q`2)^2+(q`2)^2/(q`2)^2)
        by A26,XCMPLX_1:60
          .=((q`1)^2+(q`2)^2)/(((q`1)^2+(q`2)^2)/(q`2)^2) by XCMPLX_1:63
          .=(q`2)^2*(((q`1)^2+(q`2)^2)/((q`1)^2+(q`2)^2)) by XCMPLX_1:82
          .=(q`2)^2*1 by A25,COMPLEX1:2,XCMPLX_1:60
          .=(q`2)^2;
        then |.(|[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|).|>=1
        by A30,SQUARE_1:89;
        hence ex p2 being Point of TOP-REAL 2 st p2=y & |.p2.|>=1 by A3,A4,A21;
      end;
    end;
    hence thesis by A1;
  end;
  let y be set;
  assume y in Cb;
  then consider p2 being Point of TOP-REAL 2 such that
A31: p2=y and
A32: |.p2.|>=1 by A1;
  set q=p2;
  now per cases;
    case q=0.TOP-REAL 2;
      hence contradiction by A32,TOPRNS_1:24;
    end;
    case
A33:  q<>0.TOP-REAL 2 & (q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
      set px=|[q`1*sqrt(1+(q`2/q`1)^2),q`2*sqrt(1+(q`2/q`1)^2)]|;
A34:  px`1 = q`1*sqrt(1+(q`2/q`1)^2) by EUCLID:56;
A35:  px`2 = q`2*sqrt(1+(q`2/q`1)^2) by EUCLID:56;
      1+(q`2/q`1)^2>0 by XREAL_1:36,65;
      then
A36:  sqrt(1+(q`2/q`1)^2)>0 by SQUARE_1:93;
A37:  1+(px`2/px`1)^2>0 by XREAL_1:36,65;
A38:  px`2/px`1=q`2/q`1 by A34,A35,A36,XCMPLX_1:92;
A39:  q`1=q`1*sqrt(1+(q`2/q`1)^2)/(sqrt(1+(q`2/q`1)^2))by A36,XCMPLX_1:90
        .=px`1/(sqrt(1+(q`2/q`1)^2)) by EUCLID:56;
A40:  q`2=q`2*sqrt(1+(q`2/q`1)^2)/(sqrt(1+(q`2/q`1)^2))by A36,XCMPLX_1:90
        .=px`2/(sqrt(1+(q`2/q`1)^2)) by EUCLID:56;
A41:  |.q.|^2=q`1^2+q`2^2 by JGRAPH_3:10;
A42:  |.q.|^2>=1^2 by A32,SQUARE_1:77;
A43:  now
        assume that
A44:    px`1=0 and
A45:    px`2=0;
A46:    q`1*sqrt(1+(q`2/q`1)^2)=0 by A44,EUCLID:56;
A47:    q`2*sqrt(1+(q`2/q`1)^2)=0 by A45,EUCLID:56;
A48:    q`1=0 by A36,A46,XCMPLX_1:6;
        q`2=0 by A36,A47,XCMPLX_1:6;
        hence contradiction by A33,A48,EUCLID:57,58;
      end;
      q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 &
      q`2*sqrt(1+(q`2/q`1)^2) <= (-q`1)*sqrt(1+(q`2/q`1)^2)
      by A33,A36,XREAL_1:66;
      then
A49:  q`2<=q`1 & (-q`1)*sqrt(1+(q`2/q`1)^2) <= q`2*sqrt(1+(q`2/q`1) ^2)
      or px`2>=px`1 & px`2<=-px`1 by A34,A35,A36,XREAL_1:66;
      then px`2<=px`1 & -px`1<=px`2 or px`2>=px`1 & px`2<=-px`1
      by A34,A35,A36,XREAL_1:66;
      then
      A50:  Sq_Circ
.px=|[px`1/sqrt(1+(px`2/px`1)^2),px`2/sqrt(1+(px`2/px`1 )^2) ]|
      by A43,JGRAPH_2:11,JGRAPH_3:def 1;
A51:  px`1/sqrt(1+(px`2/px`1)^2)=q`1 by A34,A36,A38,XCMPLX_1:90;
A52:  px`2/sqrt(1+(px`2/px`1)^2)=q`2 by A35,A36,A38,XCMPLX_1:90;
A53:  dom Sq_Circ=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
      not px`1=0 by A34,A35,A36,A43,A49,XREAL_1:66;
      then
A54:  (px`1)^2>0 by SQUARE_1:74;
      then
A55:  (px`1)^2+(px`2)^2>0 by XREAL_1:36,65;
      (px`1)^2/(sqrt(1+(px`2/px`1)^2))^2+(px`2/sqrt(1+(px`2/px`1)^2)) ^2 >= 1
      by A38,A39,A40,A41,A42,XCMPLX_1:77;
      then
      (px`1)^2/(sqrt(1+(px`2/px`1)^2))^2+(px`2)^2/(sqrt(1+(px`2/px`1)^2))
      ^2>=1 by XCMPLX_1:77;
      then (px`1)^2/(1+(px`2/px`1)^2)+(px`2)^2/(sqrt(1+(px`2/px`1)^2))^2>=1
      by A37,SQUARE_1:def 4;
      then (px`1)^2/(1+(px`2/px`1)^2)+(px`2)^2/(1+(px`2/px`1)^2)>=1
      by A37,SQUARE_1:def 4;
      then ((px`1)^2/(1+(px`2/px`1)^2)
      +(px`2)^2/(1+(px`2/px`1)^2))*(1+(px`2/px`1)^2)>=1 *(1+(px`2/px`1)^2)
      by A37,XREAL_1:66;
      then (px`1)^2/(1+(px`2/px`1)^2)*(1+(px`2/px`1)^2)
      +(px`2)^2/(1+(px`2/px`1)^2)*(1+(px`2/px`1)^2)>=1 *(1+(px`2/px`1)^2);
      then (px`1)^2+(px`2)^2/(1+(px`2/px`1)^2)*(1+(px`2/px`1)^2)
      >=1 *(1+(px`2/px`1)^2) by A37,XCMPLX_1:88;
      then
A56:  (px`1)^2+(px`2)^2>=1 *(1+(px`2/px`1)^2) by A37,XCMPLX_1:88;
      1 *(1+(px`2/px`1)^2) =1+(px`2)^2/(px`1)^2 by XCMPLX_1:77;
      then (px`1)^2+(px`2)^2-1>=1+(px`2)^2/(px`1)^2-1 by A56,XREAL_1:11;
      then ((px`1)^2+(px`2)^2-1)*(px`1)^2>=((px`2)^2/(px`1)^2)*(px`1)^2
      by A54,XREAL_1:66;
      then ((px`1)^2+((px`2)^2-1))*(px`1)^2>=(px`2)^2 by A54,XCMPLX_1:88;
      then
A57:  (px`1)^2*(px`1)^2+(px`1)^2*((px`2)^2-1)-(px`2)^2>=0 by XREAL_1:50;
      (px`1)^2*(px`1)^2+((px`1)^2*(px`2)^2-(px`1)^2*1)-(px`2)^2
      = ((px`1)^2-1)*((px`1)^2+(px`2)^2);
      then (px`1)^2-1>=0 by A55,A57,XREAL_1:134;
      then (px`1)^2-1+1>=0+1 by XREAL_1:9;
      then px`1>=1^2 or px`1<= -1 by SQUARE_1:120;
      then px in Kb by A1;
      hence ex x being set st x in dom Sq_Circ & x in Kb & y=Sq_Circ.x
      by A31,A50,A51,A52,A53,EUCLID:57;
    end;
    case
A58:  q<>0.TOP-REAL 2 & not(q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
      set px=|[q`1*sqrt(1+(q`1/q`2)^2),q`2*sqrt(1+(q`1/q`2)^2)]|;
A59:  q`1<=q`2 & -q`2<=q`1 or q`1>=q`2 & q`1<=-q`2 by A58,JGRAPH_2:23;
A60:  px`2 = q`2*sqrt(1+(q`1/q`2)^2) by EUCLID:56;
A61:  px`1 = q`1*sqrt(1+(q`1/q`2)^2) by EUCLID:56;
      1+(q`1/q`2)^2>0 by XREAL_1:36,65;
      then
A62:  sqrt(1+(q`1/q`2)^2)>0 by SQUARE_1:93;
A63:  1+(px`1/px`2)^2>0 by XREAL_1:36,65;
A64:  px`1/px`2=q`1/q`2 by A60,A61,A62,XCMPLX_1:92;
A65:  q`2=q`2*sqrt(1+(q`1/q`2)^2)/(sqrt(1+(q`1/q`2)^2))by A62,XCMPLX_1:90
        .=px`2/(sqrt(1+(q`1/q`2)^2)) by EUCLID:56;
A66:  q`1=q`1*sqrt(1+(q`1/q`2)^2)/(sqrt(1+(q`1/q`2)^2))by A62,XCMPLX_1:90
        .=px`1/(sqrt(1+(q`1/q`2)^2)) by EUCLID:56;
A67:  |.q.|^2=q`2^2+q`1^2 by JGRAPH_3:10;
A68:  |.q.|^2>=1^2 by A32,SQUARE_1:77;
A69:  now
        assume that
A70:    px`2=0 and
A71:    px`1=0;
A72:    q`2*sqrt(1+(q`1/q`2)^2)=0 by A70,EUCLID:56;
        q`1*sqrt(1+(q`1/q`2)^2)=0 by A71,EUCLID:56;
        then q`1=0 by A62,XCMPLX_1:6;
        hence contradiction by A58,A62,A72,XCMPLX_1:6;
      end;
      q`1<=q`2 & -q`2<=q`1 or q`1>=q`2 &
      q`1*sqrt(1+(q`1/q`2)^2) <= (-q`2)*sqrt(1+(q`1/q`2)^2)
      by A59,A62,XREAL_1:66;
      then
A73:  q`1<=q`2 & (-q`2)*sqrt(1+(q`1/q`2)^2) <= q`1*sqrt(1+(q`1/q`2) ^2)
      or px`1>=px`2 & px`1<=-px`2 by A60,A61,A62,XREAL_1:66;
      then px`1<=px`2 & -px`2<=px`1 or px`1>=px`2 & px`1<=-px`2
      by A60,A61,A62,XREAL_1:66;
      then
      A74:  Sq_Circ
.px=|[px`1/sqrt(1+(px`1/px`2)^2),px`2/sqrt(1+(px`1/px`2 )^2) ]|
      by A69,JGRAPH_2:11,JGRAPH_3:14;
A75:  px`2/sqrt(1+(px`1/px`2)^2)=q`2 by A60,A62,A64,XCMPLX_1:90;
A76:  px`1/sqrt(1+(px`1/px`2)^2)=q`1 by A61,A62,A64,XCMPLX_1:90;
A77:  dom Sq_Circ=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
      not px`2=0 by A60,A61,A62,A69,A73,XREAL_1:66;
      then
A78:  (px`2)^2>0 by SQUARE_1:74;
A79:  (px`1)^2>=0 by XREAL_1:65;
      (px`2)^2/(sqrt(1+(px`1/px`2)^2))^2+(px`1/sqrt(1+(px`1/px`2)^2)) ^2 >= 1
      by A64,A65,A66,A67,A68,XCMPLX_1:77;
      then
      (px`2)^2/(sqrt(1+(px`1/px`2)^2))^2+(px`1)^2/(sqrt(1+(px`1/px`2)^2))
      ^2>=1 by XCMPLX_1:77;
      then (px`2)^2/(1+(px`1/px`2)^2)+(px`1)^2/(sqrt(1+(px`1/px`2)^2))^2>=1
      by A63,SQUARE_1:def 4;
      then (px`2)^2/(1+(px`1/px`2)^2)+(px`1)^2/(1+(px`1/px`2)^2)>=1
      by A63,SQUARE_1:def 4;
      then ((px`2)^2/(1+(px`1/px`2)^2)
      +(px`1)^2/(1+(px`1/px`2)^2))*(1+(px`1/px`2)^2)>=1 *(1+(px`1/px`2)^2)
      by A63,XREAL_1:66;
      then (px`2)^2/(1+(px`1/px`2)^2)*(1+(px`1/px`2)^2)
      +(px`1)^2/(1+(px`1/px`2)^2)*(1+(px`1/px`2)^2)>=1 *(1+(px`1/px`2)^2);
      then (px`2)^2+(px`1)^2/(1+(px`1/px`2)^2)*(1+(px`1/px`2)^2)
      >=1 *(1+(px`1/px`2)^2) by A63,XCMPLX_1:88;
      then
A80:  (px`2)^2+(px`1)^2>=1 *(1+(px`1/px`2)^2) by A63,XCMPLX_1:88;
      1 *(1+(px`1/px`2)^2) =1+(px`1)^2/(px`2)^2 by XCMPLX_1:77;
      then (px`2)^2+(px`1)^2-1>=1+(px`1)^2/(px`2)^2-1 by A80,XREAL_1:11;
      then ((px`2)^2+(px`1)^2-1)*(px`2)^2>=((px`1)^2/(px`2)^2)*(px`2)^2
      by A78,XREAL_1:66;
      then ((px`2)^2+((px`1)^2-1))*(px`2)^2>=(px`1)^2 by A78,XCMPLX_1:88;
      then
A81:  (px`2)^2*(px`2)^2+(px`2)^2*((px`1)^2-1)-(px`1)^2>=0 by XREAL_1:50;
      (px`2)^2*(px`2)^2+((px`2)^2*(px`1)^2-(px`2)^2*1)-(px`1)^2
      = ((px`2)^2-1)*((px`2)^2+(px`1)^2);
      then (px`2)^2-1>=0 & (px`1)^2+(px`2)^2>=0 or
      (px`2)^2-1<=0 & (px`1)^2+(px`2)^2<=0 by A81,XREAL_1:134;
      then (px`2)^2-1+1>=0+1 by A78,A79,XREAL_1:9;
      then px`2>=1^2 or px`2<= -1 by SQUARE_1:120;
      then px in Kb by A1;
      hence ex x being set st x in dom Sq_Circ & x in Kb & y=Sq_Circ.x
      by A31,A74,A75,A76,A77,EUCLID:57;
    end;
  end;
  hence thesis by FUNCT_1:def 12;
end;

theorem
  for P0,P1,P01,P11,K0,K1,K01,K11 being Subset of TOP-REAL 2,
  P being non empty compact Subset of TOP-REAL 2,
  f being Function of TOP-REAL 2,TOP-REAL 2 st P= circle(0,0,1) &
  P0= inside_of_circle(0,0,1) & P1= outside_of_circle(0,0,1) &
  P01= closed_inside_of_circle(0,0,1) & P11= closed_outside_of_circle(0,0,1) &
  K0=inside_of_rectangle(-1,1,-1,1) & K1=outside_of_rectangle(-1,1,-1,1) &
  K01=closed_inside_of_rectangle(-1,1,-1,1) &
  K11=closed_outside_of_rectangle(-1,1,-1,1) & f=Sq_Circ
  holds f.:rectangle(-1,1,-1,1)=P & f".:P=rectangle(-1,1,-1,1) &
  f.:K0=P0 & f".:P0=K0 & f.:K1=P1 & f".:P1=K1 &
  f.:K01=P01 & f.:K11=P11 & f".:P01=K01 & f".:P11=K11
proof
  let P0,P1,P01,P11,K0,K1,K01,K11 be Subset of TOP-REAL 2,
  P being non empty compact Subset of TOP-REAL 2,
  f be Function of TOP-REAL 2,TOP-REAL 2;
  assume that
A1: P= circle(0,0,1) and
A2: P0= inside_of_circle(0,0,1) and
A3: P1= outside_of_circle(0,0,1) and
A4: P01= closed_inside_of_circle(0,0,1) and
A5: P11= closed_outside_of_circle(0,0,1) and
A6: K0=inside_of_rectangle(-1,1,-1,1) and
A7: K1=outside_of_rectangle(-1,1,-1,1) and
A8: K01=closed_inside_of_rectangle(-1,1,-1,1) and
A9: K11=closed_outside_of_rectangle(-1,1,-1,1) and
A10: f=Sq_Circ;
  set K=rectangle(-1,1,-1,1);
A11: P0={p: |.p.| <1} by A2,Th33;
A12: P01={p: |.p.| <=1} by A4,Th33;
A13: P1={p: |.p.| >1} by A3,Th33;
A14: P11={p: |.p.| >=1} by A5,Th33;
  defpred P[Point of TOP-REAL 2] means
  $1`1 = -1 & $1`2 <= 1 & $1`2 >= -1 or $1`1 <= 1 & $1`1 >= -1 & $1`2 = 1 or
  $1`1 <= 1 & $1`1 >= -1 & $1`2 = -1 or $1`1 = 1 & $1`2 <= 1 & $1`2 >= -1;
  defpred Q[Point of TOP-REAL 2] means
  -1=$1`1 & -1<=$1`2 & $1`2<=1 or $1`1=1 & -1<=$1`2 & $1`2<=1
  or -1=$1`2 & -1<=$1`1 & $1`1<=1 or 1=$1`2 & -1<=$1`1 & $1`1<=1;
  deffunc F(set)=$1;
A15: for p being Element of TOP-REAL 2 holds P[p] iff Q[p];
A16: K= {F(p): P[p]} by SPPOL_2:58
    .= {F(q):Q[q]} from FRAENKEL:sch 3(A15);
  defpred Q[Point of TOP-REAL 2] means |.$1.|=1;
  defpred P[Point of TOP-REAL 2] means |.$1- |[0,0]| .|=1;
A17: for p holds P[p] iff Q[p] by EUCLID:58,RLVECT_1:26;
  P= {F(p): P[p]} by A1
    .= {F(p2) where p2 is Point of TOP-REAL 2: Q[p2]} from FRAENKEL:sch 3(A17
  );
  then
A18: f.:K=P by A10,A16,JGRAPH_3:33;
A19: dom f=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
A20: f.:K0 = P0 by A6,A10,A11,Th34;
  f.:K1 = P1 by A7,A10,A13,Th35;
  hence f.:K=P & f".:P=K & f.:K0=P0 & f".:P0=K0 & f.:K1=P1 & f".:P1=K1
  by A10,A18,A19,A20,FUNCT_1:177;
A21: f.:K01 = P01 by A8,A10,A12,Th36;
  f.:K11 = P11 by A9,A10,A14,Th37;
  hence thesis by A10,A19,A21,FUNCT_1:177;
end;

begin :: Order of Points on Rectangle

theorem Th39:
  for a,b,c,d being real number st a <= b & c <= d holds
  LSeg(|[ a,c ]|, |[ a,d ]|) = { p1 : p1`1 = a & p1`2 <= d & p1`2 >= c}
  & LSeg(|[ a,d ]|, |[ b,d ]|) = { p2 : p2`1 <= b & p2`1 >= a & p2`2 = d}
  & LSeg(|[ a,c ]|, |[ b,c ]|) = { q1 : q1`1 <= b & q1`1 >= a & q1`2 = c}
  & LSeg(|[ b,c ]|, |[ b,d ]|) = { q2 : q2`1 = b & q2`2 <= d & q2`2 >= c}
proof
  let a,b,c,d be real number;
  assume that
A1: a <= b and
A2: c <= d;
  set L1 = { p : p`1 = a & p`2 <= d & p`2 >= c},
  L2 = { p : p`1 <= b & p`1 >= a & p`2 = d},
  L3 = { p : p`1 <= b & p`1 >= a & p`2 = c},
  L4 = { p : p`1 = b & p`2 <= d & p`2 >= c};
  set p0 = |[ a,c ]|, p01 = |[ a,d ]|, p10 = |[ b,c ]|, p1 = |[ b,d ]|;
A3: p01`1 = a by EUCLID:56;
A4: p01`2 = d by EUCLID:56;
A5: p10`1 = b by EUCLID:56;
A6: p10`2 = c by EUCLID:56;
A7: L1 c= LSeg(p0,p01)
  proof
    let a2 be set;
    assume a2 in L1;
    then consider p such that
A8: a2 = p and
A9: p`1 = a and
A10: p`2 <= d and
A11: p`2 >= c;
    now per cases;
      case
A12:    d <>c;
        reconsider lambda = (p`2-c)/(d-c) as Real;
        d>=c by A10,A11,XXREAL_0:2;
        then d>c by A12,XXREAL_0:1;
        then
A13:    d-c>0 by XREAL_1:52;
A14:    p`2-c>=0 by A11,XREAL_1:50;
        d-c>=p`2-c by A10,XREAL_1:11;
        then (d-c)/(d-c)>=(p`2-c)/(d-c) by A13,XREAL_1:74;
        then
A15:    1>=lambda by A13,XCMPLX_1:60;
A16:    (1-lambda)*c+lambda*d
        =((d-c)/(d-c)- (p`2-c)/(d-c))*c+(p`2-c)/(d-c)*d by A13,XCMPLX_1:60
          .=(((d-c)- (p`2-c))/(d-c))*c+(p`2-c)/(d-c)*d by XCMPLX_1:121
          .=c*((d- p`2)/(d-c))+d*(p`2-c)/(d-c) by XCMPLX_1:75
          .=c*(d- p`2)/(d-c)+d*(p`2-c)/(d-c) by XCMPLX_1:75
          .=((c*d- c*p`2)+(d*p`2-d*c))/(d-c) by XCMPLX_1:63
          .=(d- c)*p`2/(d-c)
          .=p`2*((d- c)/(d-c)) by XCMPLX_1:75
          .=p`2*1 by A13,XCMPLX_1:60
          .=p`2;
        (1-lambda)*p0 + lambda*p01
        =|[(1-lambda)*a,(1-lambda)*c]| + lambda*(|[a,d]|) by EUCLID:62
          .=|[(1-lambda)*a,(1-lambda)*c]| +(|[ lambda*a, lambda*d]|)
        by EUCLID:62
          .=|[(1-lambda)*a+lambda*a,(1-lambda)*c+lambda*d]| by EUCLID:60
          .= p by A9,A16,EUCLID:57;
        hence thesis by A8,A13,A14,A15;
      end;
      case d =c;
        then
A17:    p`2=c by A10,A11,XXREAL_0:1;
        reconsider lambda = 0 as Real;
        (1-lambda)*p0 + lambda*p01 =
        |[(1-lambda)*a,(1-lambda)*c]| + lambda*(|[a,d]|) by EUCLID:62
          .=|[(1-lambda)*a,(1-lambda)*c]| +(|[ lambda*a, lambda*d]|)
        by EUCLID:62
          .=|[(1-lambda)*a+lambda*a,(1-lambda)*c+lambda*d]|
        by EUCLID:60
          .= p by A9,A17,EUCLID:57;
        hence thesis by A8;
      end;
    end;
    hence thesis;
  end;
  LSeg(p0,p01) c= L1
  proof
    let a2 be set;
    assume a2 in LSeg(p0,p01);
    then consider lambda such that
A18: a2 = (1-lambda)*p0 + lambda*p01 and
A19: 0 <= lambda and
A20: lambda <= 1;
    set q = (1-lambda)*p0 + lambda*p01;
A21: q`1= ((1-lambda)*p0)`1 + (lambda*p01)`1 by TOPREAL3:7
      .= (1-lambda)*(p0)`1 + (lambda*p01)`1 by TOPREAL3:9
      .= (1-lambda)*(p0)`1 + lambda*(p01)`1 by TOPREAL3:9
      .=(1-lambda)*a +lambda*a by A3,EUCLID:56
      .=a;
A22: q`2= ((1-lambda)*p0)`2 + (lambda*p01)`2 by TOPREAL3:7
      .= (1-lambda)*(p0)`2 + (lambda*p01)`2 by TOPREAL3:9
      .= (1-lambda)*(p0)`2 + lambda*(p01)`2 by TOPREAL3:9
      .= (1-lambda)*c + lambda*d by A4,EUCLID:56;
    then
A23: q`2 <= d by A2,A20,XREAL_1:174;
    q`2 >= c by A2,A19,A20,A22,XREAL_1:175;
    hence thesis by A18,A21,A23;
  end;
  hence L1 = LSeg(p0,p01) by A7,XBOOLE_0:def 10;
A24: L2 c= LSeg(p01,p1)
  proof
    let a2 be set;
    assume a2 in L2;
    then consider p such that
A25: a2 = p and
A26: p`1 <= b and
A27: p`1 >= a and
A28: p`2=d;
    now per cases;
      case
A29:    b <>a;
        reconsider lambda = (p`1-a)/(b-a) as Real;
        b>=a by A26,A27,XXREAL_0:2;
        then b>a by A29,XXREAL_0:1;
        then
A30:    b-a>0 by XREAL_1:52;
A31:    p`1-a>=0 by A27,XREAL_1:50;
        b-a>=p`1-a by A26,XREAL_1:11;
        then (b-a)/(b-a)>=(p`1-a)/(b-a) by A30,XREAL_1:74;
        then
A32:    1>=lambda by A30,XCMPLX_1:60;
A33:    (1-lambda)*a+lambda*b
        =((b-a)/(b-a)- (p`1-a)/(b-a))*a+(p`1-a)/(b-a)*b by A30,XCMPLX_1:60
          .=(((b-a)- (p`1-a))/(b-a))*a+(p`1-a)/(b-a)*b by XCMPLX_1:121
          .=a*((b- p`1)/(b-a))+b*(p`1-a)/(b-a) by XCMPLX_1:75
          .=a*(b- p`1)/(b-a)+b*(p`1-a)/(b-a) by XCMPLX_1:75
          .=((a*b- a*p`1)+(b*p`1-b*a))/(b-a) by XCMPLX_1:63
          .=(b- a)*p`1/(b-a)
          .=p`1*((b- a)/(b-a)) by XCMPLX_1:75
          .=p`1*1 by A30,XCMPLX_1:60
          .=p`1;
        (1-lambda)*p01 + lambda*p1
        =|[(1-lambda)*a,(1-lambda)*d]| + lambda*(|[b,d]|) by EUCLID:62
          .=|[(1-lambda)*a,(1-lambda)*d]| +(|[ lambda*b, lambda*d]|)
        by EUCLID:62
          .=|[(1-lambda)*a+lambda*b,(1-lambda)*d+lambda*d]|
        by EUCLID:60
          .= p by A28,A33,EUCLID:57;
        hence thesis by A25,A30,A31,A32;
      end;
      case b =a;
        then
A34:    p`1=a by A26,A27,XXREAL_0:1;
        reconsider lambda = 0 as Real;
        (1-lambda)*p01 + lambda*p1
        =|[(1-lambda)*a,(1-lambda)*d]| + lambda*(|[b,d]|) by EUCLID:62
          .=|[(1-lambda)*a,(1-lambda)*d]| +(|[ lambda*b, lambda*d]|)
        by EUCLID:62
          .=|[(1-lambda)*a+lambda*b,(1-lambda)*d+lambda*d]|
        by EUCLID:60
          .= p by A28,A34,EUCLID:57;
        hence thesis by A25;
      end;
    end;
    hence thesis;
  end;
  LSeg(p01,p1) c= L2
  proof
    let a2 be set;
    assume a2 in LSeg(p01,p1);
    then consider lambda such that
A35: a2 = (1-lambda)*p01 + lambda*p1 and
A36: 0 <= lambda and
A37: lambda <= 1;
    set q = (1-lambda)*p01 + lambda*p1;
A38: q`2= ((1-lambda)*p01)`2 + (lambda*p1)`2 by TOPREAL3:7
      .= (1-lambda)*(p01)`2 + (lambda*p1)`2 by TOPREAL3:9
      .= (1-lambda)*(p01)`2 + lambda*(p1)`2 by TOPREAL3:9
      .=(1-lambda)*d +lambda*d by A4,EUCLID:56
      .=d;
A39: q`1= ((1-lambda)*p01)`1 + (lambda*p1)`1 by TOPREAL3:7
      .= (1-lambda)*(p01)`1 + (lambda*p1)`1 by TOPREAL3:9
      .= (1-lambda)*(p01)`1 + lambda*(p1)`1 by TOPREAL3:9
      .= (1-lambda)*a + lambda*b by A3,EUCLID:56;
    then
A40: q`1 <= b by A1,A37,XREAL_1:174;
    q`1 >= a by A1,A36,A37,A39,XREAL_1:175;
    hence thesis by A35,A38,A40;
  end;
  hence L2 = LSeg(p01,p1) by A24,XBOOLE_0:def 10;
A41: L3 c= LSeg(p0,p10)
  proof
    let a2 be set;
    assume a2 in L3;
    then consider p such that
A42: a2 = p and
A43: p`1 <= b and
A44: p`1 >= a and
A45: p`2=c;
    now per cases;
      case
A46:    b <>a;
        reconsider lambda = (p`1-a)/(b-a) as Real;
        b>=a by A43,A44,XXREAL_0:2;
        then b>a by A46,XXREAL_0:1;
        then
A47:    b-a>0 by XREAL_1:52;
A48:    p`1-a>=0 by A44,XREAL_1:50;
        b-a>=p`1-a by A43,XREAL_1:11;
        then (b-a)/(b-a)>=(p`1-a)/(b-a) by A47,XREAL_1:74;
        then
A49:    1>=lambda by A47,XCMPLX_1:60;
A50:    (1-lambda)*a+lambda*b
        =((b-a)/(b-a)- (p`1-a)/(b-a))*a+(p`1-a)/(b-a)*b by A47,XCMPLX_1:60
          .=(((b-a)- (p`1-a))/(b-a))*a+(p`1-a)/(b-a)*b by XCMPLX_1:121
          .=a*((b- p`1)/(b-a))+b*(p`1-a)/(b-a) by XCMPLX_1:75
          .=a*(b- p`1)/(b-a)+b*(p`1-a)/(b-a) by XCMPLX_1:75
          .=((a*b- a*p`1)+(b*p`1-b*a))/(b-a) by XCMPLX_1:63
          .=(b- a)*p`1/(b-a)
          .=p`1*((b- a)/(b-a)) by XCMPLX_1:75
          .=p`1*1 by A47,XCMPLX_1:60
          .=p`1;
        (1-lambda)*p0 + lambda*p10
        =|[(1-lambda)*a,(1-lambda)*c]| + lambda*(|[b,c]|) by EUCLID:62
          .=|[(1-lambda)*a,(1-lambda)*c]| +(|[ lambda*b, lambda*c]|)
        by EUCLID:62
          .=|[(1-lambda)*a+lambda*b,(1-lambda)*c+lambda*c]| by EUCLID:60
          .= p by A45,A50,EUCLID:57;
        hence thesis by A42,A47,A48,A49;
      end;
      case b =a;
        then
A51:    p`1=a by A43,A44,XXREAL_0:1;
        reconsider lambda = 0 as Real;
        (1-lambda)*p0 + lambda*p10 =
        |[(1-lambda)*a,(1-lambda)*c]| + lambda*(|[b,c]|) by EUCLID:62
          .=|[(1-lambda)*a,(1-lambda)*c]| +(|[ lambda*b, lambda*c]|)
        by EUCLID:62
          .=|[(1-lambda)*a+lambda*b,(1-lambda)*c+lambda*c]|
        by EUCLID:60
          .= p by A45,A51,EUCLID:57;
        hence thesis by A42;
      end;
    end;
    hence thesis;
  end;
  LSeg(p0,p10) c= L3
  proof
    let a2 be set;
    assume a2 in LSeg(p0,p10);
    then consider lambda such that
A52: a2 = (1-lambda)*p0 + lambda*p10 and
A53: 0 <= lambda and
A54: lambda <= 1;
    set q = (1-lambda)*p0 + lambda*p10;
A55: q`2= ((1-lambda)*p0)`2 + (lambda*p10)`2 by TOPREAL3:7
      .= (1-lambda)*(p0)`2 + (lambda*p10)`2 by TOPREAL3:9
      .= (1-lambda)*(p0)`2 + lambda*(p10)`2 by TOPREAL3:9
      .=(1-lambda)*c +lambda*c by A6,EUCLID:56
      .=c;
A56: q`1= ((1-lambda)*p0)`1 + (lambda*p10)`1 by TOPREAL3:7
      .= (1-lambda)*(p0)`1 + (lambda*p10)`1 by TOPREAL3:9
      .= (1-lambda)*(p0)`1 + lambda*(p10)`1 by TOPREAL3:9
      .= (1-lambda)*a + lambda*b by A5,EUCLID:56;
    then
A57: q`1 <= b by A1,A54,XREAL_1:174;
    q`1 >= a by A1,A53,A54,A56,XREAL_1:175;
    hence thesis by A52,A55,A57;
  end;
  hence L3 = LSeg(p0,p10) by A41,XBOOLE_0:def 10;
A58: L4 c= LSeg(p10,p1)
  proof
    let a2 be set;
    assume a2 in L4;
    then consider p such that
A59: a2 = p and
A60: p`1 = b and
A61: p`2 <= d and
A62: p`2 >= c;
    now per cases;
      case
A63:    d <>c;
        reconsider lambda = (p`2-c)/(d-c) as Real;
        d>=c by A61,A62,XXREAL_0:2;
        then d>c by A63,XXREAL_0:1;
        then
A64:    d-c>0 by XREAL_1:52;
A65:    p`2-c>=0 by A62,XREAL_1:50;
        d-c>=p`2-c by A61,XREAL_1:11;
        then (d-c)/(d-c)>=(p`2-c)/(d-c) by A64,XREAL_1:74;
        then
A66:    1>=lambda by A64,XCMPLX_1:60;
A67:    (1-lambda)*c+lambda*d
        =((d-c)/(d-c)- (p`2-c)/(d-c))*c+(p`2-c)/(d-c)*d by A64,XCMPLX_1:60
          .=(((d-c)- (p`2-c))/(d-c))*c+(p`2-c)/(d-c)*d by XCMPLX_1:121
          .=c*((d- p`2)/(d-c))+d*(p`2-c)/(d-c) by XCMPLX_1:75
          .=c*(d- p`2)/(d-c)+d*(p`2-c)/(d-c) by XCMPLX_1:75
          .=((c*d- c*p`2)+(d*p`2-d*c))/(d-c) by XCMPLX_1:63
          .=(d- c)*p`2/(d-c)
          .=p`2*((d- c)/(d-c)) by XCMPLX_1:75
          .=p`2*1 by A64,XCMPLX_1:60
          .=p`2;
        (1-lambda)*p10 + lambda*p1
        =|[(1-lambda)*b,(1-lambda)*c]| + lambda*(|[b,d]|) by EUCLID:62
          .=|[(1-lambda)*b,(1-lambda)*c]| +(|[ lambda*b, lambda*d]|)
        by EUCLID:62
          .=|[(1-lambda)*b+lambda*b,(1-lambda)*c+lambda*d]|
        by EUCLID:60
          .= p by A60,A67,EUCLID:57;
        hence thesis by A59,A64,A65,A66;
      end;
      case d =c;
        then
A68:    p`2=c by A61,A62,XXREAL_0:1;
        reconsider lambda = 0 as Real;
        (1-lambda)*p10 + lambda*p1
        =|[(1-lambda)*b,(1-lambda)*c]| + lambda*(|[b,d]|) by EUCLID:62
          .=|[(1-lambda)*b,(1-lambda)*c]| +(|[ lambda*b, lambda*d]|)
        by EUCLID:62
          .=|[(1-lambda)*b+lambda*b,(1-lambda)*c+lambda*d]|
        by EUCLID:60
          .= p by A60,A68,EUCLID:57;
        hence thesis by A59;
      end;
    end;
    hence thesis;
  end;
  LSeg(p10,p1) c= L4
  proof
    let a2 be set;
    assume a2 in LSeg(p10,p1);
    then consider lambda such that
A69: a2 = (1-lambda)*p10 + lambda*p1 and
A70: 0 <= lambda and
A71: lambda <= 1;
    set q = (1-lambda)*p10 + lambda*p1;
A72: q`1= ((1-lambda)*p10)`1 + (lambda*p1)`1 by TOPREAL3:7
      .= (1-lambda)*(p10)`1 + (lambda*p1)`1 by TOPREAL3:9
      .= (1-lambda)*(p10)`1 + lambda*(p1)`1 by TOPREAL3:9
      .=(1-lambda)*b +lambda*b by A5,EUCLID:56
      .=b;
A73: q`2= ((1-lambda)*p10)`2 + (lambda*p1)`2 by TOPREAL3:7
      .= (1-lambda)*(p10)`2 + (lambda*p1)`2 by TOPREAL3:9
      .= (1-lambda)*(p10)`2 + lambda*(p1)`2 by TOPREAL3:9
      .= (1-lambda)*c + lambda*d by A6,EUCLID:56;
    then
A74: q`2 <= d by A2,A71,XREAL_1:174;
    q`2 >= c by A2,A70,A71,A73,XREAL_1:175;
    hence thesis by A69,A72,A74;
  end;
  hence L4 = LSeg(p10,p1) by A58,XBOOLE_0:def 10;
end;

canceled;

theorem Th41:
  for a,b,c,d being real number st a <= b & c <= d holds
  LSeg(|[a,c]|,|[a,d]|) /\ LSeg(|[a,c]|,|[b,c]|) = {|[a,c]|}
proof
  let a,b,c,d be real number;
  assume that
A1: a <= b and
A2: c <= d;
  for ax being set
  holds ax in LSeg(|[a,c]|,|[a,d]|) /\ LSeg(|[a,c]|,|[b,c]|) iff ax = |[a,c]|
  proof
    let ax be set;
    thus ax in LSeg(|[a,c]|,|[a,d]|) /\ LSeg(|[a,c]|,|[b,c]|)
    implies ax = |[a,c]|
    proof
      assume
A3:   ax in LSeg(|[a,c]|,|[a,d]|) /\ LSeg(|[a,c]|,|[b,c]|);
      then
A4:   ax in LSeg(|[a,c]|,|[a,d]|) by XBOOLE_0:def 4;
      ax in LSeg(|[a,c]|,|[b,c]|) by A3,XBOOLE_0:def 4;
      then ax in { p2 : p2`1 <= b & p2`1 >= a & p2`2 = c } by A1,Th39;
      then
A5:   ex p2 st p2 = ax & p2`1 <= b & p2`1 >= a & p2`2 = c;
      ax in { p2 : p2`1 = a & p2`2 <= d & p2`2 >= c } by A2,A4,Th39;
      then ex p st p = ax & p`1 = a & p`2 <= d & p`2 >= c;
      hence thesis by A5,EUCLID:57;
    end;
    assume
A6: ax = |[a,c]|;
    then
A7: ax in LSeg(|[a,c]|,|[a,d]|) by RLTOPSP1:69;
    ax in LSeg(|[a,c]|,|[b,c]|) by A6,RLTOPSP1:69;
    hence thesis by A7,XBOOLE_0:def 4;
  end;
  hence thesis by TARSKI:def 1;
end;

theorem Th42:
  for a,b,c,d being real number st a <= b & c <= d holds
  LSeg(|[a,c]|,|[b,c]|) /\ LSeg(|[b,c]|,|[b,d]|) = {|[b,c]|}
proof
  let a,b,c,d be real number;
  assume that
A1: a <= b and
A2: c <= d;
  for ax being set
  holds ax in LSeg(|[a,c]|,|[b,c]|) /\ LSeg(|[b,c]|,|[b,d]|) iff ax = |[b,c]|
  proof
    let ax be set;
    thus ax in LSeg(|[a,c]|,|[b,c]|) /\ LSeg(|[b,c]|,|[b,d]|)
    implies ax = |[b,c]|
    proof
      assume
A3:   ax in LSeg(|[a,c]|,|[b,c]|) /\ LSeg(|[b,c]|,|[b,d]|);
      then
A4:   ax in LSeg(|[a,c]|,|[b,c]|) by XBOOLE_0:def 4;
A5:   ax in LSeg(|[b,c]|,|[b,d]|) by A3,XBOOLE_0:def 4;
      ax in { q1 : q1`1 <= b & q1`1 >= a & q1`2 = c} by A1,A4,Th39;
      then
A6:   ex p2 st p2 = ax & p2`1 <= b & p2`1 >= a & p2`2 = c;
      ax in { q2 : q2`1 = b & q2`2 <= d & q2`2 >= c} by A2,A5,Th39;
      then ex p st p = ax & p`1 = b & p`2 <= d & p`2 >= c;
      hence thesis by A6,EUCLID:57;
    end;
    assume
A7: ax = |[b,c]|;
    then
A8: ax in LSeg(|[a,c]|,|[b,c]|) by RLTOPSP1:69;
    ax in LSeg(|[b,c]|,|[b,d]|) by A7,RLTOPSP1:69;
    hence thesis by A8,XBOOLE_0:def 4;
  end;
  hence thesis by TARSKI:def 1;
end;

theorem Th43:
  for a,b,c,d being real number st a <= b & c <= d holds
  LSeg(|[a,d]|,|[b,d]|) /\ LSeg(|[b,c]|,|[b,d]|) = {|[b,d]|}
proof
  let a,b,c,d be real number;
  assume that
A1: a <= b and
A2: c <= d;
  for ax being set
  holds ax in LSeg(|[a,d]|,|[b,d]|) /\ LSeg(|[b,c]|,|[b,d]|) iff ax = |[b,d]|
  proof
    let ax be set;
    thus ax in LSeg(|[a,d]|,|[b,d]|) /\ LSeg(|[b,c]|,|[b,d]|)
    implies ax = |[b,d]|
    proof
      assume
A3:   ax in LSeg(|[a,d]|,|[b,d]|) /\ LSeg(|[b,c]|,|[b,d]|);
      then
A4:   ax in LSeg(|[b,c]|,|[b,d]|) by XBOOLE_0:def 4;
      ax in LSeg(|[a,d]|,|[b,d]|) by A3,XBOOLE_0:def 4;
      then ax in { p : p`1 <= b & p`1 >= a & p`2 = d} by A1,Th39;
      then
A5:   ex p st p = ax & p`1 <= b & p`1 >= a & p`2 = d;
      ax in { p : p`1 = b & p`2 <= d & p`2 >= c} by A2,A4,Th39;
      then ex p2 st p2 = ax & p2`1 = b & p2`2 <= d & p2`2 >= c;
      hence thesis by A5,EUCLID:57;
    end;
    assume
A6: ax = |[b,d]|;
    then
A7: ax in LSeg(|[a,d]|,|[b,d]|) by RLTOPSP1:69;
    ax in LSeg(|[b,c]|,|[b,d]|) by A6,RLTOPSP1:69;
    hence thesis by A7,XBOOLE_0:def 4;
  end;
  hence thesis by TARSKI:def 1;
end;

theorem Th44:
  for a,b,c,d being real number st a <= b & c <= d holds
  LSeg(|[a,c]|,|[a,d]|) /\ LSeg(|[a,d]|,|[b,d]|) = {|[a,d]|}
proof
  let a,b,c,d be real number;
  assume that
A1: a <= b and
A2: c <= d;
  for ax being set
  holds ax in LSeg(|[a,c]|,|[a,d]|) /\ LSeg(|[a,d]|,|[b,d]|) iff ax = |[a,d]|
  proof
    let ax be set;
    thus ax in LSeg(|[a,c]|,|[a,d]|) /\ LSeg(|[a,d]|,|[b,d]|)
    implies ax = |[a,d]|
    proof
      assume
A3:   ax in LSeg(|[a,c]|,|[a,d]|) /\ LSeg(|[a,d]|,|[b,d]|);
      then
A4:   ax in LSeg(|[a,c]|,|[a,d]|) by XBOOLE_0:def 4;
      ax in LSeg(|[a,d]|,|[b,d]|) by A3,XBOOLE_0:def 4;
      then ax in { p2 : p2`1 <= b & p2`1 >= a & p2`2 = d } by A1,Th39;
      then
A5:   ex p2 st p2 = ax & p2`1 <= b & p2`1 >= a & p2`2 = d;
      ax in { p2 : p2`1 = a & p2`2 <= d & p2`2 >= c } by A2,A4,Th39;
      then ex p st p = ax & p`1 = a & p`2 <= d & p`2 >= c;
      hence thesis by A5,EUCLID:57;
    end;
    assume
A6: ax = |[a,d]|;
    then
A7: ax in LSeg(|[a,c]|,|[a,d]|) by RLTOPSP1:69;
    ax in LSeg(|[a,d]|,|[b,d]|) by A6,RLTOPSP1:69;
    hence thesis by A7,XBOOLE_0:def 4;
  end;
  hence thesis by TARSKI:def 1;
end;

theorem Th45:
  {q: -1=q`1 & -1<=q`2 & q`2<=1 or q`1=1 & -1<=q`2 & q`2<=1
  or -1=q`2 & -1<=q`1 & q`1<=1 or 1=q`2 & -1<=q`1 & q`1<=1}
  = {p: p`1=-1 & -1 <=p`2 & p`2<=1 or p`2=1 & -1<=p`1 & p`1<=1 or
  p`1=1 & -1 <=p`2 & p`2<=1 or p`2=-1 & -1<=p`1 & p`1<=1}
proof
  thus {q: -1=q`1 & -1<=q`2 & q`2<=1 or q`1=1 & -1<=q`2 & q`2<=1
  or -1=q`2 & -1<=q`1 & q`1<=1 or 1=q`2 & -1<=q`1 & q`1<=1}
  c= {p: p`1=-1 & -1 <=p`2 & p`2<=1 or p`2=1 & -1<=p`1 & p`1<=1 or
  p`1=1 & -1 <=p`2 & p`2<=1 or p`2=-1 & -1<=p`1 & p`1<=1}
  proof
    let x be set;
    assume x in {q: -1=q`1 & -1<=q`2 & q`2<=1 or q`1=1 & -1<=q`2 & q`2<=1
    or -1=q`2 & -1<=q`1 & q`1<=1 or 1=q`2 & -1<=q`1 & q`1<=1};
    then ex q st ( x=q)&( -1=q`1 & -1<=q`2 & q`2<=1 or q`1=1 & -1<=q
    `2 & q`2<=1 or -1=q`2 & -1<=q`1 & q`1<=1 or 1=q`2 & -1<=q`1 & q`1<=1);
    hence thesis;
  end;
  thus {p: p`1=-1 & -1 <=p`2 & p`2<=1 or p`2=1 & -1<=p`1 & p`1<=1 or
  p`1=1 & -1 <=p`2 & p`2<=1 or p`2=-1 & -1<=p`1 & p`1<=1}
  c= {q: -1=q`1 & -1<=q`2 & q`2<=1 or q`1=1 & -1<=q`2 & q`2<=1
  or -1=q`2 & -1<=q`1 & q`1<=1 or 1=q`2 & -1<=q`1 & q`1<=1}
  proof
    let x be set;
    assume x in {p: p`1=-1 & -1 <=p`2 & p`2<=1 or p`2=1 & -1<=p`1 & p`1<=1 or
    p`1=1 & -1 <=p`2 & p`2<=1 or p`2=-1 & -1<=p`1 & p`1<=1};
    then ex p st ( p=x)&( p`1=-1 & -1 <=p`2 & p`2<=1 or p`2=1 & -1<=
    p`1 & p`1<=1 or p`1=1 & -1 <=p`2 & p`2<=1 or p`2=-1 & -1<=p`1 & p`1<=1);
    hence thesis;
  end;
end;

theorem Th46:
  for a,b,c,d being real number st a<=b & c <=d
  holds W-bound rectangle(a,b,c,d) = a
proof
  let a,b,c,d be real number;
  assume that
A1: a<=b and
A2: c <=d;
  set X = rectangle(a,b,c,d);
  reconsider Z = (proj1|X).:the carrier of ((TOP-REAL 2)|X)
  as Subset of REAL;
A3: X = the carrier of ((TOP-REAL 2)|X) by PRE_TOPC:29;
A4: for p be real number st p in Z holds p >= a
  proof
    let p be real number;
    assume p in Z;
    then consider p0 being set such that
A5: p0 in the carrier of (TOP-REAL 2)|X and
    p0 in the carrier of (TOP-REAL 2)|X and
A6: p = (proj1|X).p0 by FUNCT_2:115;
    reconsider p0 as Point of TOP-REAL 2 by A3,A5;
    X= {q : q`1 = a & q`2 <= d & q`2 >= c or q`1 <= b & q`1 >= a & q`2 = d or
    q`1 <= b & q`1 >= a & q`2 = c or q`1 = b & q`2 <= d & q`2 >= c}
    by A1,A2,SPPOL_2:58;
    then ex q being Point of TOP-REAL 2 st p0 = q &
    (q`1 = a & q`2 <= d & q`2 >= c or q`1 <= b & q`1 >= a & q`2 = d or
    q`1 <= b & q`1 >= a & q`2 = c or q`1 = b & q`2 <= d & q`2 >= c) by A3,A5;
    hence thesis by A1,A3,A5,A6,PSCOMP_1:69;
  end;
A7: for q being real number st
  for p being real number st p in Z holds p >= q holds a >= q
  proof
    let q be real number such that
A8: for p being real number st p in Z holds p >= q;
    |[a,c]| in LSeg(|[ a,c ]|, |[ b,c ]|) by RLTOPSP1:69;
    then
A9: |[a,c]| in LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]| )
    by XBOOLE_0:def 3;
    X= (LSeg(|[ a,c ]|, |[ a,d ]|) \/ LSeg(|[ a,d ]|, |[ b,d ]|))
    \/ (LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]|))
    by SPPOL_2:def 3;
    then
A10: |[a,c]| in X by A9,XBOOLE_0:def 3;
    then (proj1|X). |[a,c]| = |[a,c]|`1 by PSCOMP_1:69
      .= a by EUCLID:56;
    hence thesis by A3,A8,A10,FUNCT_2:43;
  end;
  thus W-bound X = lower_bound (proj1|X) by PSCOMP_1:def 30
    .= lower_bound Z by PSCOMP_1:def 20
    .= a by A4,A7,SEQ_4:61;
end;

theorem Th47:
  for a,b,c,d being real number st a<=b & c <=d
  holds N-bound rectangle(a,b,c,d) = d
proof
  let a,b,c,d be real number;
  assume that
A1: a<=b and
A2: c <=d;
  set X = rectangle(a,b,c,d);
  reconsider Z = (proj2|X).:the carrier of ((TOP-REAL 2)|X)
  as Subset of REAL;
A3: X = the carrier of ((TOP-REAL 2)|X) by PRE_TOPC:29;
A4: for p be real number st p in Z holds p <= d
  proof
    let p be real number;
    assume p in Z;
    then consider p0 being set such that
A5: p0 in the carrier of (TOP-REAL 2)|X and
    p0 in the carrier of (TOP-REAL 2)|X and
A6: p = (proj2|X).p0 by FUNCT_2:115;
    reconsider p0 as Point of TOP-REAL 2 by A3,A5;
    X= {q : q`1 = a & q`2 <= d & q`2 >= c or q`1 <= b & q`1 >= a & q`2 = d or
    q`1 <= b & q`1 >= a & q`2 = c or q`1 = b & q`2 <= d & q`2 >= c}
    by A1,A2,SPPOL_2:58;
    then ex q being Point of TOP-REAL 2 st p0 = q &
    (q`1 = a & q`2 <= d & q`2 >= c or q`1 <= b & q`1 >= a & q`2 = d or
    q`1 <= b & q`1 >= a & q`2 = c or q`1 = b & q`2 <= d & q`2 >= c) by A3,A5;
    hence thesis by A2,A3,A5,A6,PSCOMP_1:70;
  end;
A7: for q being real number st for p being real number
  st p in Z holds p <= q holds d <= q
  proof
    let q be real number such that
A8: for p be real number st p in Z holds p <= q;
    |[b,d]| in LSeg(|[ b,c ]|, |[ b,d ]|) by RLTOPSP1:69;
    then
A9: |[b,d]| in LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]| )
    by XBOOLE_0:def 3;
    X= (LSeg(|[ a,c ]|, |[ a,d ]|) \/ LSeg(|[ a,d ]|, |[ b,d ]|))
    \/ (LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]|))
    by SPPOL_2:def 3;
    then
A10: |[b,d]| in X by A9,XBOOLE_0:def 3;
    then (proj2|X). |[b,d]| = |[b,d]|`2 by PSCOMP_1:70
      .= d by EUCLID:56;
    hence thesis by A3,A8,A10,FUNCT_2:43;
  end;
  thus N-bound X = upper_bound (proj2|X) by PSCOMP_1:def 31
    .= upper_bound Z by PSCOMP_1:def 21
    .= d by A4,A7,SEQ_4:63;
end;

theorem Th48:
  for a,b,c,d being real number st a<=b & c <=d
  holds E-bound rectangle(a,b,c,d) = b
proof
  let a,b,c,d be real number;
  assume that
A1: a<=b and
A2: c <=d;
  set X = rectangle(a,b,c,d);
  reconsider Z = (proj1|X).:the carrier of ((TOP-REAL 2)|X)
  as Subset of REAL;
A3: X = the carrier of ((TOP-REAL 2)|X) by PRE_TOPC:29;
A4: for p be real number st p in Z holds p <= b
  proof
    let p be real number;
    assume p in Z;
    then consider p0 being set such that
A5: p0 in the carrier of (TOP-REAL 2)|X and
    p0 in the carrier of (TOP-REAL 2)|X and
A6: p = (proj1|X).p0 by FUNCT_2:115;
    reconsider p0 as Point of TOP-REAL 2 by A3,A5;
    X= {q : q`1 = a & q`2 <= d & q`2 >= c or q`1 <= b & q`1 >= a & q`2 = d or
    q`1 <= b & q`1 >= a & q`2 = c or q`1 = b & q`2 <= d & q`2 >= c}
    by A1,A2,SPPOL_2:58;
    then ex q being Point of TOP-REAL 2 st p0 = q &
    (q`1 = a & q`2 <= d & q`2 >= c or q`1 <= b & q`1 >= a & q`2 = d or
    q`1 <= b & q`1 >= a & q`2 = c or q`1 = b & q`2 <= d & q`2 >= c) by A3,A5;
    hence thesis by A1,A3,A5,A6,PSCOMP_1:69;
  end;
A7: for q being real number st for p being real number
  st p in Z holds p <= q holds b <= q
  proof
    let q be real number such that
A8: for p be real number st p in Z holds p <= q;
    |[b,d]| in LSeg(|[ b,c ]|, |[ b,d ]|) by RLTOPSP1:69;
    then
A9: |[b,d]| in LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]| )
    by XBOOLE_0:def 3;
    X= (LSeg(|[ a,c ]|, |[ a,d ]|) \/ LSeg(|[ a,d ]|, |[ b,d ]|))
    \/ (LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]|))
    by SPPOL_2:def 3;
    then
A10: |[b,d]| in X by A9,XBOOLE_0:def 3;
    then (proj1|X). |[b,d]| = |[b,d]|`1 by PSCOMP_1:69
      .= b by EUCLID:56;
    hence thesis by A3,A8,A10,FUNCT_2:43;
  end;
  thus E-bound X = upper_bound (proj1|X) by PSCOMP_1:def 32
    .= upper_bound Z by PSCOMP_1:def 21
    .= b by A4,A7,SEQ_4:63;
end;

theorem Th49:
  for a,b,c,d being real number st a<=b & c <=d
  holds S-bound rectangle(a,b,c,d) = c
proof
  let a,b,c,d be real number;
  assume that
A1: a<=b and
A2: c <=d;
  set X = rectangle(a,b,c,d);
  reconsider Z = (proj2|X).:the carrier of ((TOP-REAL 2)|X)
  as Subset of REAL;
A3: X = the carrier of ((TOP-REAL 2)|X) by PRE_TOPC:29;
A4: for p be real number st p in Z holds p >= c
  proof
    let p be real number;
    assume p in Z;
    then consider p0 being set such that
A5: p0 in the carrier of (TOP-REAL 2)|X and
    p0 in the carrier of (TOP-REAL 2)|X and
A6: p = (proj2|X).p0 by FUNCT_2:115;
    reconsider p0 as Point of TOP-REAL 2 by A3,A5;
    X= {q : q`1 = a & q`2 <= d & q`2 >= c or q`1 <= b & q`1 >= a & q`2 = d or
    q`1 <= b & q`1 >= a & q`2 = c or q`1 = b & q`2 <= d & q`2 >= c}
    by A1,A2,SPPOL_2:58;
    then ex q being Point of TOP-REAL 2 st p0 = q &
    (q`1 = a & q`2 <= d & q`2 >= c or q`1 <= b & q`1 >= a & q`2 = d or
    q`1 <= b & q`1 >= a & q`2 = c or q`1 = b & q`2 <= d & q`2 >= c) by A3,A5;
    hence thesis by A2,A3,A5,A6,PSCOMP_1:70;
  end;
A7: for q being real number st
  for p being real number st p in Z holds p >= q holds c >= q
  proof
    let q be real number such that
A8: for p being real number st p in Z holds p >= q;
    |[b,c]| in LSeg(|[ b,c ]|, |[ b,d ]|) by RLTOPSP1:69;
    then
A9: |[b,c]| in LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]| )
    by XBOOLE_0:def 3;
    X= (LSeg(|[ a,c ]|, |[ a,d ]|) \/ LSeg(|[ a,d ]|, |[ b,d ]|))
    \/ (LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]|))
    by SPPOL_2:def 3;
    then
A10: |[b,c]| in X by A9,XBOOLE_0:def 3;
    then (proj2|X). |[b,c]| = |[b,c]|`2 by PSCOMP_1:70
      .= c by EUCLID:56;
    hence thesis by A3,A8,A10,FUNCT_2:43;
  end;
  thus S-bound X = lower_bound (proj2|X) by PSCOMP_1:def 33
    .= lower_bound Z by PSCOMP_1:def 20
    .= c by A4,A7,SEQ_4:61;
end;

theorem Th50:
  for a,b,c,d being real number st a<=b & c <=d holds
  NW-corner rectangle(a,b,c,d) = |[a,d]|
proof
  let a,b,c,d be real number;
  assume that
A1: a<=b and
A2: c <=d;
  set K=rectangle(a,b,c,d);
A3: NW-corner K= |[W-bound K, N-bound K]| by PSCOMP_1:def 35;
  W-bound K=a by A1,A2,Th46;
  hence thesis by A1,A2,A3,Th47;
end;

theorem Th51:
  for a,b,c,d being real number st a<=b & c <=d holds
  NE-corner rectangle(a,b,c,d) = |[b,d]|
proof
  let a,b,c,d be real number;
  set K=rectangle(a,b,c,d);
  assume that
A1: a<=b and
A2: c <=d;
A3: NE-corner K= |[E-bound K, N-bound K]| by PSCOMP_1:def 36;
  E-bound K=b by A1,A2,Th48;
  hence thesis by A1,A2,A3,Th47;
end;

theorem
  for a,b,c,d being real number st a<=b & c <=d
  holds SW-corner rectangle(a,b,c,d) = |[a,c]|
proof
  let a,b,c,d be real number;
  set K=rectangle(a,b,c,d);
  assume that
A1: a<=b and
A2: c <=d;
A3: SW-corner K= |[W-bound K, S-bound K]| by PSCOMP_1:def 34;
  W-bound K=a by A1,A2,Th46;
  hence thesis by A1,A2,A3,Th49;
end;

theorem
  for a,b,c,d being real number st a<=b & c <=d
  holds SE-corner rectangle(a,b,c,d) = |[b,c]|
proof
  let a,b,c,d be real number;
  set K=rectangle(a,b,c,d);
  assume that
A1: a<=b and
A2: c <=d;
A3: SE-corner K= |[E-bound K, S-bound K]| by PSCOMP_1:def 37;
  E-bound K=b by A1,A2,Th48;
  hence thesis by A1,A2,A3,Th49;
end;

theorem Th54:
  for a,b,c,d being real number st a<=b & c <=d
  holds W-most rectangle(a,b,c,d) = LSeg(|[a,c]|,|[a,d]|)
proof
  let a,b,c,d be real number;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<=b and
A2: c <=d;
  K= LSeg(|[ a,c ]|, |[ a,d ]|) \/ LSeg(|[ a,d ]|, |[ b,d ]|)
  \/ (LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]|))
  by SPPOL_2:def 3;
  then
A3: LSeg(|[ a,c ]|, |[ a,d ]|) \/ LSeg(|[ a,d ]|, |[ b,d ]|) c= K
  by XBOOLE_1:7;
A4: LSeg(|[a,c]|,|[a,d]|) c=
  LSeg(|[ a,c ]|, |[ a,d ]|) \/ LSeg(|[ a,d ]|, |[ b,d ]|) by XBOOLE_1:7;
A5: SW-corner K= |[W-bound K, S-bound K]| by PSCOMP_1:def 34;
A6: NW-corner K = |[a,d]| by A1,A2,Th50;
A7: W-bound K=a by A1,A2,Th46;
A8: S-bound K= c by A1,A2,Th49;
  thus W-most K = LSeg(SW-corner K, NW-corner K)/\K by PSCOMP_1:def 38
    .= LSeg(|[a,c]|,|[a,d]|) by A3,A4,A5,A6,A7,A8,XBOOLE_1:1,28;
end;

theorem Th55:
  for a,b,c,d being real number st a<=b & c <=d
  holds E-most rectangle(a,b,c,d) = LSeg(|[b,c]|,|[b,d]|)
proof
  let a,b,c,d be real number;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<=b and
A2: c <=d;
  K= LSeg(|[ a,c ]|, |[ a,d ]|) \/ LSeg(|[ a,d ]|, |[ b,d ]|)
  \/ (LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]|))
  by SPPOL_2:def 3;
  then
A3: LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]|) c= K
  by XBOOLE_1:7;
A4: LSeg(|[b,c]|,|[b,d]|) c=
  LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]|) by XBOOLE_1:7;
A5: SE-corner K= |[E-bound K, S-bound K]| by PSCOMP_1:def 37;
A6: NE-corner K = |[b,d]| by A1,A2,Th51;
A7: E-bound K=b by A1,A2,Th48;
A8: S-bound K= c by A1,A2,Th49;
  thus E-most K = LSeg(SE-corner K, NE-corner K)/\K by PSCOMP_1:def 40
    .= LSeg(|[b,c]|,|[b,d]|) by A3,A4,A5,A6,A7,A8,XBOOLE_1:1,28;
end;

theorem Th56:
  for a,b,c,d being real number st a<=b & c <=d
  holds W-min rectangle(a,b,c,d)=|[a,c]| & E-max rectangle(a,b,c,d)=|[b,d]|
proof
  let a,b,c,d be real number;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<=b and
A2: c <=d;
A3: lower_bound (proj2|LSeg(|[a,c]|,|[a,d]|)) = c
  proof
    set X = LSeg(|[a,c]|,|[a,d]|);
    reconsider Z = (proj2|X).:the carrier of ((TOP-REAL 2)|X)
    as Subset of REAL;
A4: X = the carrier of ((TOP-REAL 2)|X) by PRE_TOPC:29;
A5: for p be real number st p in Z holds p >= c
    proof
      let p be real number;
      assume p in Z;
      then consider p0 being set such that
A6:   p0 in the carrier of (TOP-REAL 2)|X and
      p0 in the carrier of (TOP-REAL 2)|X and
A7:   p = (proj2|X).p0 by FUNCT_2:115;
      reconsider p0 as Point of TOP-REAL 2 by A4,A6;
A8:   |[a,c]|`2 = c by EUCLID:56;
      |[a,d]|`2 = d by EUCLID:56;
      then p0`2 >= c by A2,A4,A6,A8,TOPREAL1:10;
      hence thesis by A4,A6,A7,PSCOMP_1:70;
    end;
A9: for q being real number st
    for p being real number st p in Z holds p >= q holds c >= q
    proof
      let q be real number such that
A10:  for p being real number st p in Z holds p >= q;
A11:  |[a,c]| in X by RLTOPSP1:69;
      (proj2|X). |[a,c]| = |[a,c]|`2 by PSCOMP_1:70,RLTOPSP1:69
        .= c by EUCLID:56;
      hence thesis by A4,A10,A11,FUNCT_2:43;
    end;
    thus lower_bound (proj2|X) = lower_bound Z by PSCOMP_1:def 20
      .= c by A5,A9,SEQ_4:61;
  end;
A12: W-most K = LSeg(|[a,c]|,|[a,d]|) by A1,A2,Th54;
A13: W-bound K = a by A1,A2,Th46;
A14: upper_bound (proj2|LSeg(|[b,c]|,|[b,d]|)) = d
  proof
    set X = LSeg(|[b,c]|,|[b,d]|);
    reconsider Z = (proj2|X).:the carrier of ((TOP-REAL 2)|X)
    as Subset of REAL;
A15: X = the carrier of ((TOP-REAL 2)|X) by PRE_TOPC:29;
A16: for p be real number st p in Z holds p <= d
    proof
      let p be real number;
      assume p in Z;
      then consider p0 being set such that
A17:  p0 in the carrier of (TOP-REAL 2)|X and
      p0 in the carrier of (TOP-REAL 2)|X and
A18:  p = (proj2|X).p0 by FUNCT_2:115;
      reconsider p0 as Point of TOP-REAL 2 by A15,A17;
A19:  |[b,c]|`2 = c by EUCLID:56;
      |[b,d]|`2 = d by EUCLID:56;
      then p0`2 <= d by A2,A15,A17,A19,TOPREAL1:10;
      hence thesis by A15,A17,A18,PSCOMP_1:70;
    end;
A20: for q being real number st
    for p being real number st p in Z holds p <= q holds d <= q
    proof
      let q be real number such that
A21:  for p being real number st p in Z holds p <= q;
A22:  |[b,d]| in X by RLTOPSP1:69;
      (proj2|X). |[b,d]| = |[b,d]|`2 by PSCOMP_1:70,RLTOPSP1:69
        .= d by EUCLID:56;
      hence thesis by A15,A21,A22,FUNCT_2:43;
    end;
    thus upper_bound (proj2|X) = upper_bound Z by PSCOMP_1:def 21
      .= d by A16,A20,SEQ_4:63;
  end;
A23: E-most K = LSeg(|[b,c]|,|[b,d]|) by A1,A2,Th55;
  E-bound K = b by A1,A2,Th48;
  hence thesis by A3,A12,A13,A14,A23,PSCOMP_1:def 42,def 46;
end;

theorem Th57:
  for a,b,c,d being real number st a<b & c <d
  holds LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
  is_an_arc_of W-min rectangle(a,b,c,d), E-max rectangle(a,b,c,d) &
  LSeg(|[a,c]|,|[b,c]|) \/ LSeg(|[b,c]|,|[b,d]|)
  is_an_arc_of E-max rectangle(a,b,c,d), W-min rectangle(a,b,c,d)
proof
  let a,b,c,d be real number;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<b and
A2: c <d;
A3: W-min(K)= |[a,c]| by A1,A2,Th56;
A4: E-max(K)= |[b,d]| by A1,A2,Th56;
  (|[a,c]|)`2=c by EUCLID:56;
  then
A5: |[a,c]| <> |[a,d]| by A2,EUCLID:56;
  set p1= |[a,c]|,p2= |[a,d]|,q1=|[b,d]|;
A6: LSeg(p1,p2) /\ LSeg(p2,q1) ={p2} by A1,A2,Th44;
  (|[a,c]|)`1=a by EUCLID:56;
  then
A7: |[a,c]| <> |[b,c]| by A1,EUCLID:56;
  set q2=|[b,c]|;
  LSeg(q1,q2) /\ LSeg(q2,p1) ={q2} by A1,A2,Th42;
  hence thesis by A3,A4,A5,A6,A7,TOPREAL1:18;
end;

theorem Th58:
  for a,b,c,d being real number, f1,f2 being FinSequence of TOP-REAL 2,
  p0,p1,p01,p10 being Point of TOP-REAL 2 st a < b & c < d &
  p0=|[a,c]| & p1=|[b,d]| & p01=|[a,d]| & p10=|[b,c]| & f1=<*p0,p01,p1*>
  & f2=<*p0,p10,p1*> holds f1 is being_S-Seq &
  L~f1 = LSeg(p0,p01) \/ LSeg(p01,p1) &
  f2 is being_S-Seq & L~f2 = LSeg(p0,p10) \/ LSeg(p10,p1) &
  rectangle(a,b,c,d) = L~f1 \/ L~f2 & L~f1 /\ L~f2 = {p0,p1} & f1/.1 = p0 &
  f1/.len f1=p1 & f2/.1 = p0 & f2/.len f2 = p1
proof
  let a,b,c,d be real number, f1,f2 be FinSequence of TOP-REAL 2,
  p0,p1,p01,p10 be Point of TOP-REAL 2;
  assume that
A1: a < b and
A2: c < d and
A3: p0=|[a,c]| and
A4: p1=|[b,d]| and
A5: p01=|[a,d]| and
A6: p10=|[b,c]| and
A7: f1=<*p0,p01,p1*> and
A8: f2=<*p0,p10,p1*>;
  set P = rectangle(a,b,c,d);
  set L1 = { p : p`1 = a & p`2 <= d & p`2 >= c};
  set L2 = { p : p`1 <= b & p`1 >= a & p`2 = d};
  set L3 = { p : p`1 <= b & p`1 >= a & p`2 = c};
  set L4 = { p : p`1 = b & p`2 <= d & p`2 >= c};
A9: p1`1 = b by A4,EUCLID:56;
A10: p1`2 = d by A4,EUCLID:56;
A11: p10`1 = b by A6,EUCLID:56;
A12: p10`2 = c by A6,EUCLID:56;
A13: p0`1 = a by A3,EUCLID:56;
A14: p0`2 = c by A3,EUCLID:56;
A15: len f1 = 1 + 2 by A7,FINSEQ_1:62;
A16: f1/.1 = p0 by A7,FINSEQ_4:27;
A17: f1/.2 = p01 by A7,FINSEQ_4:27;
A18: f1/.3 = p1 by A7,FINSEQ_4:27;
  thus f1 is being_S-Seq
  proof
A19: p0 <> p01 by A2,A5,A14,EUCLID:56;
    p01 <> p1 by A1,A5,A9,EUCLID:56;
    hence f1 is one-to-one by A1,A7,A9,A13,A19,FINSEQ_3:104;
    thus len f1 >= 2 by A15;
    thus f1 is unfolded
    proof
      let i be Nat;
      assume that
A20:  1 <= i and
A21:  i + 2 <= len f1;
      i <= 1 by A15,A21,XREAL_1:8;
      then
A22:  i = 1 by A20,XXREAL_0:1;
      reconsider n2=1+1 as Element of NAT;
      n2 in Seg len f1 by A15,FINSEQ_1:3;
      then
A23:  LSeg(f1,1) = LSeg(p0,p01) by A15,A16,A17,TOPREAL1:def 5;
A24:  LSeg(f1,n2) = LSeg(p01,p1) by A15,A17,A18,TOPREAL1:def 5;
      for x being set holds x in LSeg(p0,p01) /\ LSeg(p01,p1) iff x = p01
      proof
        let x be set;
        thus x in LSeg(p0,p01) /\ LSeg(p01,p1) implies x = p01
        proof
          assume
A25:      x in LSeg(p0,p01) /\ LSeg(p01,p1);
          then
A26:      x in LSeg(p0,p01) by XBOOLE_0:def 4;
A27:      x in LSeg(p01,p1) by A25,XBOOLE_0:def 4;
A28:      x in {p : p`1 = a & p`2 <= d & p`2 >= c} by A2,A3,A5,A26,Th39;
A29:      x in {p2 : p2`1 <= b & p2`1 >= a & p2`2 = d} by A1,A4,A5,A27,Th39;
A30:      ex p st p = x & p`1 = a & p`2 <= d & p`2 >= c by A28;
          ex p2 st p2=x & p2`1<=b & p2`1>=a & p2`2=d by A29;
          hence thesis by A5,A30,EUCLID:57;
        end;
        assume
A31:    x = p01;
        then
A32:    x in LSeg(p0,p01) by RLTOPSP1:69;
        x in LSeg(p01,p1) by A31,RLTOPSP1:69;
        hence thesis by A32,XBOOLE_0:def 4;
      end;
      hence thesis by A17,A22,A23,A24,TARSKI:def 1;
    end;
    thus f1 is s.n.c.
    proof
      let i,j be Nat such that
A33:  i+1 < j;
      now per cases;
        suppose 1 <= i;
          then
A34:      1+1 <= i+1 by XREAL_1:8;
          now per cases;
            case 1 <= j & j+1 <= len f1;
              then j <= 2 by A15,XREAL_1:8;
              hence contradiction by A33,A34,XXREAL_0:2;
            end;
            case not (1 <= j & j+1 <= len f1);
              then LSeg(f1,j) = {} by TOPREAL1:def 5;
              hence LSeg(f1,i) /\ LSeg(f1,j) = {};
            end;
          end;
          hence LSeg(f1,i) /\ LSeg(f1,j) = {};
        end;
        suppose not (1 <= i & i+1 <= len f1);
          then LSeg(f1,i) = {} by TOPREAL1:def 5;
          hence LSeg(f1,i) /\ LSeg(f1,j) = {};
        end;
      end;
      hence LSeg(f1,i) /\ LSeg(f1,j) = {};
    end;
    let i be Nat;
    assume that
A35: 1 <= i and
A36: i + 1 <= len f1;
A37: i <= 1 + 1 by A15,A36,XREAL_1:8;
    now per cases by A35,A37,NAT_1:9;
      suppose
A38:    i = 1;
        then (f1/.i)`1 = p0`1 by A7,FINSEQ_4:27
          .= a by A3,EUCLID:56
          .= (f1/.(i+1))`1 by A5,A17,A38,EUCLID:56;
        hence thesis;
      end;
      suppose
A39:    i = 2;
        then (f1/.i)`2 = p01`2 by A7,FINSEQ_4:27
          .= d by A5,EUCLID:56
          .= (f1/.(i+1))`2 by A4,A18,A39,EUCLID:56;
        hence thesis;
      end;
    end;
    hence thesis;
  end;
A40: 1+1 in Seg len f1 by A15,FINSEQ_1:3;
A41: 1+1 <= len f1 by A15;
  LSeg(p0,p01) = LSeg(f1,1) by A15,A16,A17,A40,TOPREAL1:def 5;
  then
A42: LSeg(p0,p01) in {LSeg(f1,i): 1 <= i & i+1 <= len f1} by A41;
  LSeg(p01,p1) = LSeg(f1,2) by A15,A17,A18,TOPREAL1:def 5;
  then LSeg(p01,p1) in {LSeg(f1,i): 1 <= i & i+1 <= len f1} by A15;
  then
A43: {LSeg(p0,p01),LSeg(p01,p1)} c= {LSeg(f1,i):1<=i & i+1<=len f1}
  by A42,ZFMISC_1:38;
  {LSeg(f1,i): 1 <= i & i+1 <= len f1} c= {LSeg(p0,p01),LSeg(p01,p1)}
  proof
    let a be set;
    assume a in {LSeg(f1,i): 1 <= i & i+1 <= len f1};
    then consider i such that
A44: a = LSeg(f1,i) and
A45: 1<=i and
A46: i+1<=len f1;
    i+1 <= 2 + 1 by A7,A46,FINSEQ_1:62;
    then i <= 1 + 1 by XREAL_1:8;
    then i = 1 or i = 2 by A45,NAT_1:9;
    then a = LSeg(p0,p01) or a = LSeg(p01,p1) by A16,A17,A18,A44,A46,
TOPREAL1:def 5;
    hence thesis by TARSKI:def 2;
  end;
  then L~f1 = union {LSeg(p0,p01),LSeg(p01,p1)} by A43,XBOOLE_0:def 10;
  hence
A47: L~f1 = (LSeg(p0,p01) \/ LSeg(p01,p1)) by ZFMISC_1:93;
  then
A48: L~f1=L1 \/ LSeg(p01,p1) by A2,A3,A5,Th39
    .=L1 \/ L2 by A1,A4,A5,Th39;
A49: len f2 = 1 + 2 by A8,FINSEQ_1:62;
A50: f2/.1 = p0 by A8,FINSEQ_4:27;
A51: f2/.2 = p10 by A8,FINSEQ_4:27;
A52: f2/.3 = p1 by A8,FINSEQ_4:27;
  thus f2 is being_S-Seq
  proof
    thus f2 is one-to-one by A1,A2,A8,A9,A10,A11,A12,A13,FINSEQ_3:104;
    thus len f2 >= 2 by A49;
    thus f2 is unfolded
    proof
      let i be Nat;
      assume that
A53:  1 <= i and
A54:  i + 2 <= len f2;
      i <= 1 by A49,A54,XREAL_1:8;
      then
A55:  i = 1 by A53,XXREAL_0:1;
      1+1 in Seg len f2 by A49,FINSEQ_1:3;
      then
A56:  LSeg(f2,1) = LSeg(p0,p10) by A49,A50,A51,TOPREAL1:def 5;
A57:  LSeg(f2,1+1) = LSeg(p10,p1) by A49,A51,A52,TOPREAL1:def 5;
      for x being set holds x in LSeg(p0,p10) /\ LSeg(p10,p1) iff x = p10
      proof
        let x be set;
        thus x in LSeg(p0,p10) /\ LSeg(p10,p1) implies x = p10
        proof
          assume
A58:      x in LSeg(p0,p10) /\ LSeg(p10,p1);
          then
A59:      x in LSeg(p0,p10) by XBOOLE_0:def 4;
A60:      x in LSeg(p10,p1) by A58,XBOOLE_0:def 4;
A61:      x in { p : p`1 <= b & p`1 >= a & p`2 = c} by A1,A3,A6,A59,Th39;
A62:      x in { p2 : p2`1 = b & p2`2 <= d & p2`2 >= c} by A2,A4,A6,A60,Th39;
A63:      ex p st p = x & p`1 <= b & p`1 >= a & p`2 = c by A61;
          ex p2 st p2=x & p2`1=b & p2`2<=d & p2`2>=c by A62;
          hence thesis by A6,A63,EUCLID:57;
        end;
        assume
A64:    x = p10;
        then
A65:    x in LSeg(p0,p10) by RLTOPSP1:69;
        x in LSeg(p10,p1) by A64,RLTOPSP1:69;
        hence thesis by A65,XBOOLE_0:def 4;
      end;
      hence thesis by A51,A55,A56,A57,TARSKI:def 1;
    end;
    thus f2 is s.n.c.
    proof
      let i,j be Nat such that
A66:  i+1 < j;
      now per cases;
        suppose 1 <= i;
          then
A67:      1+1 <= i+1 by XREAL_1:8;
          now per cases;
            case 1 <= j & j+1 <= len f2;
              then j <= 2 by A49,XREAL_1:8;
              hence contradiction by A66,A67,XXREAL_0:2;
            end;
            case not (1 <= j & j+1 <= len f2);
              then LSeg(f2,j) = {} by TOPREAL1:def 5;
              hence LSeg(f2,i) /\ LSeg(f2,j) = {};
            end;
          end;
          hence LSeg(f2,i) /\ LSeg(f2,j) = {};
        end;
        suppose not (1 <= i & i+1 <= len f2);
          then LSeg(f2,i) = {} by TOPREAL1:def 5;
          hence LSeg(f2,i) /\ LSeg(f2,j) = {};
        end;
      end;
      hence LSeg(f2,i) /\ LSeg(f2,j) = {};
    end;
    let i be Nat;
    assume that
A68: 1 <= i and
A69: i + 1 <= len f2;
A70: i <= 1 + 1 by A49,A69,XREAL_1:8;
    per cases by A68,A70,NAT_1:9;
    suppose
A71:  i = 1;
      then (f2/.i)`2 = p0`2 by A8,FINSEQ_4:27
        .= c by A3,EUCLID:56
        .= (f2/.(i+1))`2 by A6,A51,A71,EUCLID:56;
      hence thesis;
    end;
    suppose
A72:  i = 2;
      then (f2/.i)`1 = p10`1 by A8,FINSEQ_4:27
        .= b by A6,EUCLID:56
        .= (f2/.(i+1))`1 by A4,A52,A72,EUCLID:56;
      hence thesis;
    end;
  end;
A73: 1+1 in Seg len f2 by A49,FINSEQ_1:3;
A74: 1+1 <= len f2 by A49;
  LSeg(p0,p10) = LSeg(f2,1) by A49,A50,A51,A73,TOPREAL1:def 5;
  then
A75: LSeg(p0,p10) in {LSeg(f2,i): 1 <= i & i+1 <= len f2} by A74;
  LSeg(p10,p1) = LSeg(f2,2) by A49,A51,A52,TOPREAL1:def 5;
  then LSeg(p10,p1) in {LSeg(f2,i): 1 <= i & i+1 <= len f2} by A49;
  then
A76: {LSeg(p0,p10),LSeg(p10,p1)} c= {LSeg(f2,i):1<=i & i+1<=len f2}
  by A75,ZFMISC_1:38;
  {LSeg(f2,i): 1 <= i & i+1 <= len f2} c= {LSeg(p0,p10),LSeg(p10,p1)}
  proof
    let ax be set;
    assume ax in {LSeg(f2,i): 1 <= i & i+1 <= len f2};
    then consider i such that
A77: ax = LSeg(f2,i) and
A78: 1<=i and
A79: i+1<=len f2;
    i+1 <= 2 + 1 by A8,A79,FINSEQ_1:62;
    then i <= 1 + 1 by XREAL_1:8;
    then i = 1 or i = 2 by A78,NAT_1:9;
    then ax = LSeg(p0,p10) or ax = LSeg(p10,p1) by A50,A51,A52,A77,A79,
TOPREAL1:def 5;
    hence thesis by TARSKI:def 2;
  end;
  then
A80: L~f2 = union {LSeg(p0,p10),LSeg(p10,p1)} by A76,XBOOLE_0:def 10;
  hence L~f2 = LSeg(p0,p10) \/ LSeg(p10,p1) by ZFMISC_1:93;
  L~f2 = (LSeg(p0,p10) \/ LSeg(p10,p1)) by A80,ZFMISC_1:93;
  then
A81: L~f2=L3 \/ LSeg(p10,p1) by A1,A3,A6,Th39
    .=L3 \/ L4 by A2,A4,A6,Th39;
  P = LSeg(p0,p01) \/ LSeg(p01,p1) \/ (LSeg(p0,p10) \/ LSeg(p10,p1))
  by A3,A4,A5,A6,SPPOL_2:def 3;
  hence P = L~f1 \/ L~f2 by A47,A80,ZFMISC_1:93;
  now
    assume L2 meets L3;
    then consider x being set such that
A82: x in L2 and
A83: x in L3 by XBOOLE_0:3;
A84: ex p st p = x & p`1 <= b & p`1 >= a & p`2 = d by A82;
    ex p2 st p2 = x & p2`1 <= b & p2`1 >= a & p2`2 = c by A83;
    hence contradiction by A2,A84;
  end;
  then
A85: L2 /\ L3 = {} by XBOOLE_0:def 7;
A86: LSeg(|[ a,c ]|, |[ a,d ]|) = { p3 : p3`1 = a & p3`2 <= d & p3`2 >= c}
  by A2,Th39;
A87: LSeg(|[ a,d ]|, |[ b,d ]|) = { p2 : p2`1 <= b & p2`1 >= a & p2`2 = d}
  by A1,Th39;
A88: LSeg(|[ a,c ]|, |[ b,c ]|) = { q1 : q1`1 <= b & q1`1 >= a & q1`2 = c}
  by A1,Th39;
A89: LSeg(|[ b,c ]|, |[ b,d ]|) = { q2 : q2`1 = b & q2`2 <= d & q2`2 >= c}
  by A2,Th39;
A90: LSeg(|[a,c]|,|[a,d]|) /\ LSeg(|[a,c]|,|[b,c]|) = {|[a,c]|} by A1,A2,Th41;
A91: LSeg(|[a,d]|,|[b,d]|) /\ LSeg(|[b,c]|,|[b,d]|) = {|[b,d]|} by A1,A2,Th43;
  now
    assume L1 meets L4;
    then consider x being set such that
A92: x in L1 and
A93: x in L4 by XBOOLE_0:3;
A94: ex p st p = x & p`1 = a & p`2 <= d & p`2 >= c by A92;
    ex p2 st p2 = x & p2`1 = b & p2`2 <= d & p2`2 >= c by A93;
    hence contradiction by A1,A94;
  end;
  then
A95: L1 /\ L4 = {} by XBOOLE_0:def 7;
  thus L~f1 /\ L~f2
  = (L1 \/ L2) /\ L3 \/ (L1 \/ L2) /\ L4 by A48,A81,XBOOLE_1:23
    .= L1 /\ L3 \/ L2 /\ L3 \/ (L1 \/ L2) /\ L4 by XBOOLE_1:23
    .= L1 /\ L3 \/ (L1 /\ L4 \/ L2 /\ L4) by A85,XBOOLE_1:23
    .= {p0, p1} by A3,A4,A86,A87,A88,A89,A90,A91,A95,ENUMSET1:41;
  thus thesis by A7,A8,A15,A49,FINSEQ_4:27;
end;

theorem Th59:
  for P1,P2 being Subset of TOP-REAL 2, a,b,c,d being real number,
  f1,f2 being FinSequence of TOP-REAL 2,p1,p2 being Point of TOP-REAL 2 st
  a < b & c < d & p1=|[a,c]| & p2=|[b,d]| & f1=<*|[a,c]|,|[a,d]|,|[b,d]|*>
  & f2=<*|[a,c]|,|[b,c]|,|[b,d]|*> & P1=L~f1 & P2=L~f2
  holds P1 is_an_arc_of p1,p2 & P2 is_an_arc_of p1,p2
  & P1 is non empty & P2 is non empty &
  rectangle(a,b,c,d) = P1 \/ P2 & P1 /\ P2 = {p1,p2}
proof
  let P1,P2 be Subset of TOP-REAL 2, a,b,c,d be real number,
  f1,f2 be FinSequence of TOP-REAL 2,p1,p2 be Point of TOP-REAL 2;
  assume that
A1: a < b and
A2: c < d and
A3: p1=|[a,c]| and
A4: p2=|[b,d]| and
A5: f1=<*|[a,c]|,|[a,d]|,|[b,d]|*> and
A6: f2=<*|[a,c]|,|[b,c]|,|[b,d]|*> and
A7: P1=L~f1 and
A8: P2=L~f2;
  (|[a,c]|)`2=c by EUCLID:56;
  then
A9: |[a,c]|<>|[a,d]| or |[a,d]|<>|[b,d]| by A2,EUCLID:56;
A10: P1=LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|) by A1,A2,A5,A6,A7,Th58;
A11: LSeg(|[a,c]|,|[a,d]|) /\ LSeg(|[a,d]|,|[b,d]|)={|[a,d]|} by A1,A2,Th44;
  (|[b,c]|)`2=c by EUCLID:56;
  then
A12: |[a,c]|<>|[b,c]| or |[b,c]|<>|[b,d]| by A2,EUCLID:56;
A13: P2=LSeg(|[a,c]|,|[b,c]|) \/ LSeg(|[b,c]|,|[b,d]|) by A1,A2,A5,A6,A8,Th58;
  LSeg(|[a,c]|,|[b,c]|) /\ LSeg(|[b,c]|,|[b,d]|)={|[b,c]|} by A1,A2,Th42;
  hence thesis by A1,A2,A3,A4,A5,A6,A7,A8,A9,A10,A11,A12,A13,Th58,TOPREAL1:18;
end;

theorem Th60:
  for a,b,c,d being real number st a < b & c < d
  holds rectangle(a,b,c,d) is being_simple_closed_curve
proof
  let a,b,c,d be real number;
  assume that
A1: a < b and
A2: c < d;
  set P=rectangle(a,b,c,d);
  set p1=|[a,c]|,p2=|[b,d]|;
  reconsider f1=<*|[a,c]|,|[a,d]|,|[b,d]|*> as FinSequence of TOP-REAL 2;
  reconsider f2=<*|[a,c]|,|[b,c]|,|[b,d]|*> as FinSequence of TOP-REAL 2;
  set P1=L~f1,P2=L~f2;
A3: a < b & c < d &
  P={p: p`1=a & c <=p`2 & p`2<=d or p`2=d & a<=p`1 & p`1<=b or
  p`1=b & c <=p`2 & p`2<=d or p`2=c & a<=p`1 & p`1<=b} &
  p1=|[a,c]| & p2=|[b,d]| & f1=<*|[a,c]|,|[a,d]|,|[b,d]|*>
  & f2=<*|[a,c]|,|[b,c]|,|[b,d]|*> & P1=L~f1 & P2=L~f2
  implies P1 is_an_arc_of p1,p2 & P2 is_an_arc_of p1,p2
  & P1 is non empty & P2 is non empty &
  P = P1 \/ P2 & P1 /\ P2 = {p1,p2} by Th59;
  (|[a,c]|)`1=a by EUCLID:56;
  then
A4: p1<>p2 by A1,EUCLID:56;
  p1 in P1 /\ P2 by A1,A2,A3,Lm15,TARSKI:def 2;
  then p1 in P1 by XBOOLE_0:def 4;
  then
A5: p1 in P by A1,A2,A3,Lm15,XBOOLE_0:def 3;
  p2 in P1 /\ P2 by A1,A2,A3,Lm15,TARSKI:def 2;
  then p2 in P1 by XBOOLE_0:def 4;
  then p2 in P by A1,A2,A3,Lm15,XBOOLE_0:def 3;
  hence thesis by A1,A2,A3,A4,A5,Lm15,TOPREAL2:6;
end;

theorem Th61:
  for a,b,c,d being real number st a<b & c <d holds
  Upper_Arc rectangle(a,b,c,d) = LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
proof
  let a,b,c,d be real number;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<b and
A2: c <d;
A3: K is being_simple_closed_curve by A1,A2,Th60;
  set P=K;
A4: W-min(K)= |[a,c]| by A1,A2,Th56;
A5: E-max(K)= |[b,d]| by A1,A2,Th56;
  reconsider U= LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
  as non empty Subset of TOP-REAL 2;
A6: U is_an_arc_of W-min(P),E-max(P) by A1,A2,Th57;
  reconsider P3= LSeg(|[a,c]|,|[b,c]|) \/ LSeg(|[b,c]|,|[b,d]|)
  as non empty Subset of TOP-REAL 2;
A7: P3 is_an_arc_of E-max(P),W-min(P) by A1,A2,Th57;
  reconsider f1=<* |[a,c]|,|[a,d]|,|[b,d]| *>,
  f2=<* |[a,c]|,|[b,c]|,|[b,d]| *> as FinSequence of TOP-REAL 2;
  set p0=|[a,c]|,p01=|[a,d]|,p10=|[b,c]|,p1=|[b,d]|;
A8: a < b & c < d & p0=|[a,c]| & p1=|[b,d]| & p01=|[a,d]| & p10=|[b,c]|
  & f1=<*p0,p01,p1*> & f2=<*p0,p10,p1*> implies f1 is being_S-Seq &
  L~f1 = LSeg(p0,p01) \/ LSeg(p01,p1) & f2 is being_S-Seq &
  L~f2 = LSeg(p0,p10) \/ LSeg(p10,p1) & K = L~f1 \/ L~f2 &
  L~f1 /\ L~f2 = {p0,p1} & f1/.1 = p0 &
  f1/.len f1=p1 & f2/.1 = p0 & f2/.len f2 = p1 by Th58;
A9: Vertical_Line((W-bound(P)+E-bound(P))/2)
  = Vertical_Line((a+E-bound(P))/2) by A1,A2,Th46
    .= Vertical_Line((a+b)/2) by A1,A2,Th48;
  set Q=Vertical_Line((W-bound(P)+E-bound(P))/2);
  reconsider a2=a,b2=b,c2=c,d2=d as Real by XREAL_0:def 1;
A10: U /\ Vertical_Line((W-bound(P)+E-bound(P))/2) ={|[(a+b)/2,d]|}
  proof
    thus
    U /\ Vertical_Line((W-bound(P)+E-bound(P))/2) c= {|[(a+b)/2,d]|}
    proof
      let x be set;
      assume
A11:  x in U /\ Vertical_Line((W-bound(P)+E-bound(P))/2);
      then
A12:  x in U by XBOOLE_0:def 4;
      x in Vertical_Line((W-bound(P)+E-bound(P))/2) by A11,XBOOLE_0:def 4;
      then x in {p where p is Point of TOP-REAL 2: p`1=(a+b)/2}
      by A9,JORDAN6:def 6;
      then consider p such that
A13:  x=p and
A14:  p`1=(a+b)/2;
      now
        assume p in LSeg(|[a,c]|,|[a,d]|);
        then p`1=a by TOPREAL3:17;
        hence contradiction by A1,A14;
      end;
      then p in LSeg(|[a2,d2]|,|[b2,d2]|) by A12,A13,XBOOLE_0:def 3;
      then p`2=d by TOPREAL3:18;
      then x=|[(a+b)/2,d]| by A13,A14,EUCLID:57;
      hence thesis by TARSKI:def 1;
    end;
    let x be set;
    assume x in {|[(a+b)/2,d]|};
    then
A15: x= |[(a+b)/2,d]| by TARSKI:def 1;
    (|[(a+b)/2,d]|)`1= (a+b)/2 by EUCLID:56;
    then x in {p where p is Point of TOP-REAL 2: p`1=(a+b)/2} by A15;
    then
A16: x in Vertical_Line((W-bound(P)+E-bound(P))/2) by A9,JORDAN6:def 6;
A17: (|[b,d]|)`1=b by EUCLID:56;
A18: (|[b,d]|)`2=d by EUCLID:56;
A19: (|[a,d]|)`1=a by EUCLID:56;
    (|[a,d]|)`2=d by EUCLID:56;
    then x in LSeg(|[b,d]|,|[a,d]|) by A1,A15,A17,A18,A19,TOPREAL3:19;
    then x in U by XBOOLE_0:def 3;
    hence thesis by A16,XBOOLE_0:def 4;
  end;
  then |[(a+b)/2,d]| in U /\ Q by TARSKI:def 1;
  then U meets Q by XBOOLE_0:4;
  then First_Point(U,W-min(P),E-max(P),
  Vertical_Line((W-bound(P)+E-bound(P))/2)) in {|[(a+b)/2,d]|}
  by A6,A10,JORDAN5C:def 1;
  then First_Point(U,W-min(P),E-max(P),
  Vertical_Line((W-bound(P)+E-bound(P))/2)) = |[(a+b)/2,d]| by TARSKI:def 1;
  then
A20: First_Point(U,W-min(P),E-max(P),
  Vertical_Line((W-bound(P)+E-bound(P))/2))`2=d by EUCLID:56;
A21: P3 /\ Vertical_Line((W-bound(P)+E-bound(P))/2) ={|[(a+b)/2,c]|}
  proof
    thus
    P3 /\ Vertical_Line((W-bound(P)+E-bound(P))/2) c= {|[(a+b)/2,c]|}
    proof
      let x be set;
      assume
A22:  x in P3 /\ Vertical_Line((W-bound(P)+E-bound(P))/2);
      then
A23:  x in P3 by XBOOLE_0:def 4;
      x in Vertical_Line((W-bound(P)+E-bound(P))/2) by A22,XBOOLE_0:def 4;
      then x in {p where p is Point of TOP-REAL 2: p`1=(a+b)/2}
      by A9,JORDAN6:def 6;
      then consider p such that
A24:  x=p and
A25:  p`1=(a+b)/2;
      now
        assume p in LSeg(|[b,c]|,|[b,d]|);
        then p`1= b by TOPREAL3:17;
        hence contradiction by A1,A25;
      end;
      then p in LSeg(|[a2,c2]|,|[b2,c2]|) by A23,A24,XBOOLE_0:def 3;
      then p`2= c by TOPREAL3:18;
      then x=|[(a+b)/2,c]| by A24,A25,EUCLID:57;
      hence thesis by TARSKI:def 1;
    end;
    let x be set;
    assume x in {|[(a+b)/2,c]|};
    then
A26: x= |[(a+b)/2,c]| by TARSKI:def 1;
    (|[(a+b)/2,c]|)`1= (a+b)/2 by EUCLID:56;
    then x in {p where p is Point of TOP-REAL 2: p`1=(a+b)/2} by A26;
    then
A27: x in Vertical_Line((W-bound(P)+E-bound(P))/2) by A9,JORDAN6:def 6;
A28: (|[b,c]|)`1=b by EUCLID:56;
A29: (|[b,c]|)`2=c by EUCLID:56;
A30: (|[a,c]|)`1=a by EUCLID:56;
    (|[a,c]|)`2=c by EUCLID:56;
    then |[(b+a)/2,c]| in LSeg(|[a,c]|,|[b,c]|) by A1,A28,A29,A30,TOPREAL3:19;
    then x in P3 by A26,XBOOLE_0:def 3;
    hence thesis by A27,XBOOLE_0:def 4;
  end;
  then |[(a+b)/2,c]| in P3 /\ Q by TARSKI:def 1;
  then P3 meets Q by XBOOLE_0:4;
  then Last_Point(P3,E-max(P),W-min(P),
  Vertical_Line((W-bound(P)+E-bound(P))/2)) in {|[(a+b)/2,c]|}
  by A7,A21,JORDAN5C:def 2;
  then Last_Point(P3,E-max(P),W-min(P),
  Vertical_Line((W-bound(P)+E-bound(P))/2)) = |[(a+b)/2,c]| by TARSKI:def 1;
  then Last_Point(P3,E-max(P),W-min(P),
  Vertical_Line((W-bound(P)+E-bound(P))/2))`2 = c by EUCLID:56;
  hence thesis by A1,A2,A3,A4,A5,A6,A7,A8,A20,JORDAN6:def 8;
end;

theorem Th62:
  for a,b,c,d being real number st a<b & c <d holds
  Lower_Arc rectangle(a,b,c,d)= LSeg(|[a,c]|,|[b,c]|) \/ LSeg(|[b,c]|,|[b,d]|)
proof
  let a,b,c,d be real number;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<b and
A2: c <d;
A3: K is being_simple_closed_curve by A1,A2,Th60;
  set P=K;
A4: W-min(K)= |[a,c]| by A1,A2,Th56;
A5: E-max(K)= |[b,d]| by A1,A2,Th56;
  reconsider U= LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
  as non empty Subset of TOP-REAL 2;
A6: U is_an_arc_of W-min(P),E-max(P) by A1,A2,Th57;
  reconsider P3= LSeg(|[a,c]|,|[b,c]|) \/ LSeg(|[b,c]|,|[b,d]|)
  as non empty Subset of TOP-REAL 2;
A7: P3 is_an_arc_of E-max(P),W-min(P) by A1,A2,Th57;
  reconsider f1=<* |[a,c]|,|[a,d]|,|[b,d]| *>,
  f2=<* |[a,c]|,|[b,c]|,|[b,d]| *> as FinSequence of TOP-REAL 2;
  set p0=|[a,c]|,p01=|[a,d]|,p10=|[b,c]|,p1=|[b,d]|;
A8: a < b & c < d & p0=|[a,c]| & p1=|[b,d]| & p01=|[a,d]| & p10=|[b,c]|
  & f1=<*p0,p01,p1*> & f2=<*p0,p10,p1*> implies f1 is being_S-Seq &
  L~f1 = LSeg(p0,p01) \/ LSeg(p01,p1) & f2 is being_S-Seq &
  L~f2 = LSeg(p0,p10) \/ LSeg(p10,p1) & K = L~f1 \/ L~f2 &
  L~f1 /\ L~f2 = {p0,p1} & f1/.1 = p0 &
  f1/.len f1=p1 & f2/.1 = p0 & f2/.len f2 = p1 by Th58;
A9: Vertical_Line((W-bound(P)+E-bound(P))/2)
  = Vertical_Line((a+E-bound(P))/2) by A1,A2,Th46
    .= Vertical_Line((a+b)/2) by A1,A2,Th48;
  set Q=Vertical_Line((W-bound(P)+E-bound(P))/2);
  reconsider a2=a,b2=b,c2=c,d2=d as Real by XREAL_0:def 1;
A10: U /\ Vertical_Line((W-bound(P)+E-bound(P))/2) ={|[(a+b)/2,d]|}
  proof
    thus
    U /\ Vertical_Line((W-bound(P)+E-bound(P))/2) c= {|[(a+b)/2,d]|}
    proof
      let x be set;
      assume
A11:  x in U /\ Vertical_Line((W-bound(P)+E-bound(P))/2);
      then
A12:  x in U by XBOOLE_0:def 4;
      x in Vertical_Line((W-bound(P)+E-bound(P))/2) by A11,XBOOLE_0:def 4;
      then x in {p where p is Point of TOP-REAL 2: p`1=(a+b)/2}
      by A9,JORDAN6:def 6;
      then consider p such that
A13:  x=p and
A14:  p`1=(a+b)/2;
      now
        assume p in LSeg(|[a,c]|,|[a,d]|);
        then p`1=a by TOPREAL3:17;
        hence contradiction by A1,A14;
      end;
      then p in LSeg(|[a2,d2]|,|[b2,d2]|) by A12,A13,XBOOLE_0:def 3;
      then p`2=d by TOPREAL3:18;
      then x=|[(a+b)/2,d]| by A13,A14,EUCLID:57;
      hence thesis by TARSKI:def 1;
    end;
    let x be set;
    assume x in {|[(a+b)/2,d]|};
    then
A15: x= |[(a+b)/2,d]| by TARSKI:def 1;
    (|[(a+b)/2,d]|)`1= (a+b)/2 by EUCLID:56;
    then x in {p where p is Point of TOP-REAL 2: p`1=(a+b)/2} by A15;
    then
A16: x in Vertical_Line((W-bound(P)+E-bound(P))/2) by A9,JORDAN6:def 6;
A17: (|[b,d]|)`1=b by EUCLID:56;
A18: (|[b,d]|)`2=d by EUCLID:56;
A19: (|[a,d]|)`1=a by EUCLID:56;
    (|[a,d]|)`2=d by EUCLID:56;
    then x in LSeg(|[b,d]|,|[a,d]|) by A1,A15,A17,A18,A19,TOPREAL3:19;
    then x in U by XBOOLE_0:def 3;
    hence thesis by A16,XBOOLE_0:def 4;
  end;
  then |[(a+b)/2,d]| in U /\ Q by TARSKI:def 1;
  then U meets Q by XBOOLE_0:4;
  then First_Point(U,W-min(P),E-max(P),
  Vertical_Line((W-bound(P)+E-bound(P))/2)) in {|[(a+b)/2,d]|}
  by A6,A10,JORDAN5C:def 1;
  then First_Point(U,W-min(P),E-max(P),
  Vertical_Line((W-bound(P)+E-bound(P))/2)) = |[(a+b)/2,d]| by TARSKI:def 1;
  then
A20: First_Point(U,W-min(P),E-max(P),
  Vertical_Line((W-bound(P)+E-bound(P))/2))`2=d by EUCLID:56;
A21: P3 /\ Vertical_Line((W-bound(P)+E-bound(P))/2) ={|[(a+b)/2,c]|}
  proof
    thus
    P3 /\ Vertical_Line((W-bound(P)+E-bound(P))/2) c= {|[(a+b)/2,c]|}
    proof
      let x be set;
      assume
A22:  x in P3 /\ Vertical_Line((W-bound(P)+E-bound(P))/2);
      then
A23:  x in P3 by XBOOLE_0:def 4;
      x in Vertical_Line((W-bound(P)+E-bound(P))/2) by A22,XBOOLE_0:def 4;
      then x in {p where p is Point of TOP-REAL 2: p`1=(a+b)/2}
      by A9,JORDAN6:def 6;
      then consider p such that
A24:  x=p and
A25:  p`1=(a+b)/2;
      now
        assume p in LSeg(|[b,c]|,|[b,d]|);
        then p`1= b by TOPREAL3:17;
        hence contradiction by A1,A25;
      end;
      then p in LSeg(|[a2,c2]|,|[b2,c2]|) by A23,A24,XBOOLE_0:def 3;
      then p`2= c by TOPREAL3:18;
      then x=|[(a+b)/2,c]| by A24,A25,EUCLID:57;
      hence thesis by TARSKI:def 1;
    end;
    let x be set;
    assume x in {|[(a+b)/2,c]|};
    then
A26: x= |[(a+b)/2,c]| by TARSKI:def 1;
    (|[(a+b)/2,c]|)`1= (a+b)/2 by EUCLID:56;
    then x in {p where p is Point of TOP-REAL 2: p`1=(a+b)/2} by A26;
    then
A27: x in Vertical_Line((W-bound(P)+E-bound(P))/2) by A9,JORDAN6:def 6;
A28: (|[b,c]|)`1=b by EUCLID:56;
A29: (|[b,c]|)`2=c by EUCLID:56;
A30: (|[a,c]|)`1=a by EUCLID:56;
    (|[a,c]|)`2=c by EUCLID:56;
    then |[(a+b)/2,c]| in LSeg(|[a,c]|,|[b,c]|) by A1,A28,A29,A30,TOPREAL3:19;
    then x in P3 by A26,XBOOLE_0:def 3;
    hence thesis by A27,XBOOLE_0:def 4;
  end;
  then |[(a+b)/2,c]| in P3 /\ Q by TARSKI:def 1;
  then P3 meets Q by XBOOLE_0:4;
  then Last_Point(P3,E-max(P),W-min(P),
  Vertical_Line((W-bound(P)+E-bound(P))/2)) in {|[(a+b)/2,c]|}
  by A7,A21,JORDAN5C:def 2;
  then Last_Point(P3,E-max(P),W-min(P),
  Vertical_Line((W-bound(P)+E-bound(P))/2)) = |[(a+b)/2,c]| by TARSKI:def 1;
  then
A31: Last_Point(P3,E-max(P),W-min(P),
  Vertical_Line((W-bound(P)+E-bound(P))/2))`2 = c by EUCLID:56;
A32: P3 is_an_arc_of E-max(P),W-min(P) by A1,A2,Th57;
A33: Upper_Arc(P) /\ P3={W-min(P),E-max(P)} by A1,A2,A4,A5,A8,Th61;
A34: Upper_Arc(P) \/ P3=P by A1,A2,A8,Th61;
  First_Point(Upper_Arc(P),W-min(P),E-max(P), Vertical_Line((W-bound(P)+
E-bound(P))/2))`2> Last_Point(P3,E-max(P),W-min(P), Vertical_Line((W-bound(P)+
  E-bound(P))/2))`2 by A1,A2,A20,A31,Th61;
  hence thesis by A3,A32,A33,A34,JORDAN6:def 9;
end;

theorem Th63:
  for a,b,c,d being real number st a<b & c <d
  ex f being Function of I[01],(TOP-REAL 2)|Upper_Arc rectangle(a,b,c,d)
  st f is being_homeomorphism
  & f.0=W-min rectangle(a,b,c,d) & f.1=E-max rectangle(a,b,c,d) &
  rng f=Upper_Arc rectangle(a,b,c,d) &
  (for r being Real st r in [.0,1/2 .] holds
  f.r=(1-2*r)*|[a,c]|+(2*r)*|[a,d]|)&
  (for r being Real st r in [.1/2,1 .] holds
  f.r=(1-(2*r-1))*|[a,d]|+(2*r-1)*|[b,d]|)&
  (for p being Point of TOP-REAL 2 st p in LSeg(|[a,c]|,|[a,d]|)
  holds 0<=((p`2)-c)/(d-c)/2 & ((p`2)-c)/(d-c)/2<=1
  & f.(((p`2)-c)/(d-c)/2)=p)&
  for p being Point of TOP-REAL 2 st p in LSeg(|[a,d]|,|[b,d]|)
  holds 0<=((p`1)-a)/(b-a)/2 + 1/2 & ((p`1)-a)/(b-a)/2 + 1/2<=1
  & f.(((p`1)-a)/(b-a)/2 + 1/2)=p
proof
  let a,b,c,d be real number;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<b and
A2: c <d;
  defpred P[set,set] means for r being Real st $1=r holds
  (r in [.0,1/2 .] implies $2=(1-2*r)*|[a,c]|+(2*r)*|[a,d]|) &
  (r in [.1/2,1 .] implies $2=(1-(2*r-1))*|[a,d]|+(2*r-1)*|[b,d]|);
A3: [.0,1.]=[.0,1/2 .] \/ [.1/2,1 .] by XXREAL_1:165;
A4: for x being set st x in [.0,1.] ex y being set st P[x,y]
  proof
    let x be set;
    assume
A5: x in [.0,1.];
    now per cases by A3,A5,XBOOLE_0:def 3;
      case
A6:     x in [.0,1/2.];
        then reconsider r=x as Real;
A7:     r<=1/2 by A6,XXREAL_1:1;
        set y0= (1-2*r)*|[a,c]|+(2*r)*|[a,d]|;
        r in [.1/2,1.] implies y0=(1-(2*r-1))*|[a,d]|+(2*r-1)*|[b,d]|
        proof
          assume r in [.1/2,1.];
          then 1/2 <=r by XXREAL_1:1;
          then
A8:       r=1/2 by A7,XXREAL_0:1;
          then
A9:       y0= (0)*|[a,c]|+|[a,d]| by EUCLID:33
            .= (0.TOP-REAL 2) + |[a,d]| by EUCLID:33
            .= |[a,d]| by EUCLID:31;
          (1-(2*r-1))*|[a,d]|+(2*r-1)*|[b,d]|
          = (1)*|[a,d]|+0.TOP-REAL 2 by A8,EUCLID:33
            .= |[a,d]|+0.TOP-REAL 2 by EUCLID:33
            .= |[a,d]| by EUCLID:31;
          hence thesis by A9;
        end;
        then for r2 being Real st x=r2 holds
        (r2 in [.0,1/2.] implies y0=(1-2*r2)*|[a,c]|+(2*r2)*|[a,d]|) &
        (r2 in [.1/2,1.] implies y0=(1-(2*r2-1))*|[a,d]|+(2*r2-1)*|[b,d]|);
        hence thesis;
      end;
      case
A10:    x in [.1/2,1.];
        then reconsider r=x as Real;
A11:    1/2<=r by A10,XXREAL_1:1;
        set y0= (1-(2*r-1))*|[a,d]|+(2*r-1)*|[b,d]|;
        r in [.0,1/2.] implies y0=(1-2*r)*|[a,c]|+(2*r)*|[a,d]|
        proof
          assume r in [.0,1/2.];
          then r<=1/2 by XXREAL_1:1;
          then
A12:      r=1/2 by A11,XXREAL_0:1;
          then
A13:      y0= |[a,d]|+(0)*|[b,d]| by EUCLID:33
            .= |[a,d]|+(0.TOP-REAL 2) by EUCLID:33
            .= |[a,d]| by EUCLID:31;
          (1-2*r)*|[a,c]|+(2*r)*|[a,d]|
          = 0.TOP-REAL 2+(1)*|[a,d]| by A12,EUCLID:33
            .= 0.TOP-REAL 2+|[a,d]| by EUCLID:33
            .= |[a,d]| by EUCLID:31;
          hence thesis by A13;
        end;
        then for r2 being Real st x=r2 holds
        (r2 in [.0,1/2.] implies y0=(1-2*r2)*|[a,c]|+(2*r2)*|[a,d]|) &
        (r2 in [.1/2,1.] implies y0=(1-(2*r2-1))*|[a,d]|+(2*r2-1)*|[b,d]|);
        hence thesis;
      end;
    end;
    hence thesis;
  end;
  ex f2 being Function st dom f2 = [.0,1.] &
  for x being set st x in [.0,1.] holds P[x,f2.x] from CLASSES1:sch 1(A4);
  then consider f2 being Function such that
A14: dom f2 = [.0,1.] and
A15: for x being set st x in [.0,1.] holds P[x,f2.x];
  rng f2 c= the carrier of (TOP-REAL 2)|(Upper_Arc(K))
  proof
    let y be set;
    assume y in rng f2;
    then consider x being set such that
A16: x in dom f2 and
A17: y=f2.x by FUNCT_1:def 5;
    now per cases by A3,A14,A16,XBOOLE_0:def 3;
      case
A18:    x in [.0,1/2.];
        then reconsider r=x as Real;
A19:    0<=r by A18,XXREAL_1:1;
        r<=1/2 by A18,XXREAL_1:1;
        then
A20:    r*2<=1/2*2 by XREAL_1:66;
        f2.x= (1-2*r)*|[a,c]|+(2*r)*|[a,d]| by A14,A15,A16,A18;
        then
        A21:    y
 in { (1-lambda)*|[a,c]| + lambda*|[a,d]| where lambda is Real:
        0 <= lambda & lambda <= 1 } by A17,A19,A20;
        Upper_Arc(K)= LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
        by A1,A2,Th61;
        then y in Upper_Arc(K) by A21,XBOOLE_0:def 3;
        hence thesis by PRE_TOPC:29;
      end;
      case
A22:    x in [.1/2,1.];
        then reconsider r=x as Real;
A23:    1/2<=r by A22,XXREAL_1:1;
A24:    r<=1 by A22,XXREAL_1:1;
        r*2>=1/2*2 by A23,XREAL_1:66;
        then
A25:    2*r-1>=0 by XREAL_1:50;
        2*1>=2*r by A24,XREAL_1:66;
        then
A26:    1+1-1>=2*r-1 by XREAL_1:11;
        f2.x= (1-(2*r-1))*|[a,d]|+(2*r-1)*|[b,d]| by A14,A15,A16,A22;
        then
        A27:    y
 in { (1-lambda)*|[a,d]| + lambda*|[b,d]| where lambda is Real:
        0 <= lambda & lambda <= 1 } by A17,A25,A26;
        Upper_Arc(K)= LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
        by A1,A2,Th61;
        then y in Upper_Arc(K) by A27,XBOOLE_0:def 3;
        hence thesis by PRE_TOPC:29;
      end;
    end;
    hence thesis;
  end;
  then reconsider f3=f2 as Function of I[01],(TOP-REAL 2)|(Upper_Arc(K))
  by A14,BORSUK_1:83,FUNCT_2:4;
A28: 0 in [.0,1.] by XXREAL_1:1;
  0 in [.0,1/2.] by XXREAL_1:1;
  then
A29: f3.0= (1-2*0)*|[a,c]|+(2*0)*|[a,d]| by A15,A28
    .= (1)*|[a,c]|+0.TOP-REAL 2 by EUCLID:33
    .= |[a,c]|+0.TOP-REAL 2 by EUCLID:33
    .= |[a,c]| by EUCLID:31
    .= W-min(K) by A1,A2,Th56;
A30: 1 in [.0,1.] by XXREAL_1:1;
  1 in [.1/2,1.] by XXREAL_1:1;
  then
A31: f3.1= (1-(2*1-1))*|[a,d]|+(2*1-1)*|[b,d]| by A15,A30
    .= (0)*|[a,d]|+|[b,d]| by EUCLID:33
    .= (0.TOP-REAL 2) + |[b,d]| by EUCLID:33
    .= |[b,d]| by EUCLID:31
    .= E-max(K) by A1,A2,Th56;
A32: for r being Real st r in [.0,1/2.] holds
  f3.r=(1-2*r)*|[a,c]|+(2*r)*|[a,d]|
  proof
    let r be Real;
    assume
A33: r in [.0,1/2.];
    then
A34: 0<=r by XXREAL_1:1;
    r<=1/2 by A33,XXREAL_1:1;
    then r<=1 by XXREAL_0:2;
    then r in [.0,1.] by A34,XXREAL_1:1;
    hence thesis by A15,A33;
  end;
A35: for r being Real st r in [.1/2,1.] holds
  f3.r=(1-(2*r-1))*|[a,d]|+(2*r-1)*|[b,d]|
  proof
    let r be Real;
    assume
A36: r in [.1/2,1.];
    then
A37: 1/2<=r by XXREAL_1:1;
    r<=1 by A36,XXREAL_1:1;
    then r in [.0,1.] by A37,XXREAL_1:1;
    hence thesis by A15,A36;
  end;
A38: for p being Point of TOP-REAL 2 st p in LSeg(|[a,c]|,|[a,d]|)
  holds 0<=((p`2)-c)/(d-c)/2 & ((p`2)-c)/(d-c)/2<=1
  & f3.(((p`2)-c)/(d-c)/2)=p
  proof
    let p be Point of TOP-REAL 2;
    assume
A39: p in LSeg(|[a,c]|,|[a,d]|);
A40: (|[a,c]|)`2= c by EUCLID:56;
A41: (|[a,d]|)`2= d by EUCLID:56;
    then
A42: c <=p`2 by A2,A39,A40,TOPREAL1:10;
A43: p`2<=d by A2,A39,A40,A41,TOPREAL1:10;
A44: d-c>0 by A2,XREAL_1:52;
A45: (p`2) -c >=0 by A42,XREAL_1:50;
A46: d-c>0 by A2,XREAL_1:52;
    (p`2) -c <=d-c by A43,XREAL_1:11;
    then ((p`2) -c)/(d-c) <=(d-c)/(d-c) by A46,XREAL_1:74;
    then ((p`2) -c)/(d-c) <=1 by A46,XCMPLX_1:60;
    then
A47: ((p`2) -c)/(d-c)/2 <=1/2 by XREAL_1:74;
    set r=((p`2)-c)/(d-c)/2;
    r in [.0,1/2.] by A44,A45,A47,XXREAL_1:1;
    then f3.(((p`2)-c)/(d-c)/2)=(1-2*r)*|[a,c]|+(2*r)*|[a,d]| by A32
      .=|[(1-2*r)*a,(1-2*r)*c]|+(2*r)*|[a,d]| by EUCLID:62
      .=|[(1-2*r)*a,(1-2*r)*c]|+|[(2*r)*a,(2*r)*d]| by EUCLID:62
      .=|[1*a-(2*r)*a+(2*r)*a,(1-2*r)*c+(2*r)*d]| by EUCLID:60
      .=|[a,1*c+(((p`2)-c)/(d-c))*(d-c)]|
      .=|[a,1*c+((p`2)-c)]| by A46,XCMPLX_1:88
      .=|[p`1,p`2]| by A39,TOPREAL3:17
      .= p by EUCLID:57;
    hence thesis by A44,A45,A47,XXREAL_0:2;
  end;
A48: for p being Point of TOP-REAL 2 st p in LSeg(|[a,d]|,|[b,d]|)
  holds 0<=((p`1)-a)/(b-a)/2+1/2 & ((p`1)-a)/(b-a)/2+1/2<=1
  & f3.(((p`1)-a)/(b-a)/2+1/2)=p
  proof
    let p be Point of TOP-REAL 2;
    assume
A49: p in LSeg(|[a,d]|,|[b,d]|);
A50: (|[a,d]|)`1= a by EUCLID:56;
A51: (|[b,d]|)`1= b by EUCLID:56;
    then
A52: a <=p`1 by A1,A49,A50,TOPREAL1:9;
A53: p`1<=b by A1,A49,A50,A51,TOPREAL1:9;
A54: b-a>0 by A1,XREAL_1:52;
A55: (p`1) -a >=0 by A52,XREAL_1:50;
    then
A56: ((p`1) -a)/(b-a)/2+1/2 >=0+1/2 by A54,XREAL_1:9;
A57: b-a>0 by A1,XREAL_1:52;
    (p`1) -a <=b-a by A53,XREAL_1:11;
    then ((p`1) -a)/(b-a) <=(b-a)/(b-a) by A57,XREAL_1:74;
    then ((p`1) -a)/(b-a) <=1 by A57,XCMPLX_1:60;
    then ((p`1) -a)/(b-a)/2 <=1/2 by XREAL_1:74;
    then
A58: ((p`1) -a)/(b-a)/2+1/2 <=1/2+1/2 by XREAL_1:9;
    set r=((p`1)-a)/(b-a)/2+1/2;
    r in [.1/2,1.] by A56,A58,XXREAL_1:1;
    then f3.(((p`1)-a)/(b-a)/2+1/2)=(1-(2*r-1))*|[a,d]|+(2*r-1)*|[b,d]| by A35
      .=|[(1-(2*r-1))*a,(1-(2*r-1))*d]|+((2*r-1))*|[b,d]| by EUCLID:62
      .=|[(1-(2*r-1))*a,(1-(2*r-1))*d]|+|[((2*r-1))*b,((2*r-1))*d]|
    by EUCLID:62
      .=|[(1-(2*r-1))*a+((2*r-1))*b,1*d-(2*r-1)*d+((2*r-1))*d]| by EUCLID:60
      .=|[1*a+(((p`1)-a)/(b-a))*(b-a),d]|
      .=|[1*a+((p`1)-a),d]| by A57,XCMPLX_1:88
      .=|[p`1,p`2]| by A49,TOPREAL3:18
      .= p by EUCLID:57;
    hence thesis by A54,A55,A58;
  end;
  reconsider B00=[.0,1.] as Subset of R^1 by TOPMETR:24;
  reconsider B01=B00 as non empty Subset of R^1 by XXREAL_1:1;
  I[01]=(R^1)|B01 by TOPMETR:26,27;
  then consider h1 being Function of I[01],R^1 such that
A59: for p being Point of I[01] holds h1.p=p and
A60: h1 is continuous by Th14;
  consider h2 being Function of I[01],R^1 such that
A61: for p being Point of I[01],r1 being real number st h1.p=r1 holds h2.p
  =2*r1 and
A62: h2 is continuous by A60,JGRAPH_2:33;
  consider h5 being Function of I[01],R^1 such that
A63: for p being Point of I[01],r1 being real number st h2.p=r1 holds h5.p
  =1-r1 and
A64: h5 is continuous by A62,Th16;
  consider h3 being Function of I[01],R^1 such that
A65: for p being Point of I[01],r1 being real number st h2.p=r1 holds h3.p
  =r1-1 and
A66: h3 is continuous by A62,Th15;
  consider h4 being Function of I[01],R^1 such that
A67: for p being Point of I[01],r1 being real number st h3.p=r1 holds h4.p
  =1-r1 and
A68: h4 is continuous by A66,Th16;
  consider g1 being Function of I[01],TOP-REAL 2 such that
A69: for r being Point of I[01] holds g1.r=(h5.r)*|[a,c]|+(h2.r)*|[a,d]| and
A70: g1 is continuous by A62,A64,Th21;
A71: for r being Point of I[01],s being real number st r=s holds
  g1.r=(1-2*s)*|[a,c]|+(2*s)*|[a,d]|
  proof
    let r be Point of I[01],s be real number;
    assume
A72: r=s;
    g1.r=(h5.r)*|[a,c]|+(h2.r)*|[a,d]| by A69
      .=(1-2*(h1.r))*|[a,c]|+(h2.r)*|[a,d]| by A61,A63
      .=(1-2*(h1.r))*|[a,c]|+(2*(h1.r))*|[a,d]| by A61
      .=(1-2*s)*|[a,c]|+(2*(h1.r))*|[a,d]| by A59,A72
      .=(1-2*s)*|[a,c]|+(2*s)*|[a,d]| by A59,A72;
    hence thesis;
  end;
  consider g2 being Function of I[01],TOP-REAL 2 such that
A73: for r being Point of I[01] holds g2.r=(h4.r)*|[a,d]|+(h3.r)*|[b,d]| and
A74: g2 is continuous by A66,A68,Th21;
A75: for r being Point of I[01],s being real number st r=s holds
  g2.r=(1-(2*s-1))*|[a,d]|+(2*s-1)*|[b,d]|
  proof
    let r be Point of I[01],s be real number;
    assume
A76: r=s;
    g2.r=(h4.r)*|[a,d]|+(h3.r)*|[b,d]| by A73
      .=(1-((h2.r)-1))*|[a,d]|+(h3.r)*|[b,d]| by A65,A67
      .=(1-((h2.r)-1))*|[a,d]|+((h2.r)-1)*|[b,d]| by A65
      .=(1-(2*(h1.r)-1))*|[a,d]|+((h2.r)-1)*|[b,d]| by A61
      .=(1-(2*(h1.r)-1))*|[a,d]|+(2*(h1.r)-1)*|[b,d]| by A61
      .=(1-(2*s-1))*|[a,d]|+(2*(h1.r)-1)*|[b,d]| by A59,A76
      .=(1-(2*s-1))*|[a,d]|+(2*s-1)*|[b,d]| by A59,A76;
    hence thesis;
  end;
  reconsider B11=[.0,1/2.] as non empty Subset of I[01]
  by A3,BORSUK_1:83,XBOOLE_1:7,XXREAL_1:1;
A77: dom (g1|B11)=dom g1 /\ B11 by RELAT_1:90
    .= (the carrier of I[01]) /\ B11 by FUNCT_2:def 1
    .=B11 by XBOOLE_1:28
    .=the carrier of (I[01]|B11) by PRE_TOPC:29;
  rng (g1|B11) c= the carrier of TOP-REAL 2;
  then reconsider g11=g1|B11 as Function
  of I[01]|B11,TOP-REAL 2 by A77,FUNCT_2:4;
A78: TOP-REAL 2 is SubSpace of TOP-REAL 2 by TSEP_1:2;
  then
A79: g11 is continuous by A70,BORSUK_4:69;
  reconsider B22=[.1/2,1.] as non empty Subset of I[01] by A3,BORSUK_1:83
,XBOOLE_1:7,XXREAL_1:1;
A80: dom (g2|B22)=dom g2 /\ B22 by RELAT_1:90
    .= (the carrier of I[01]) /\ B22 by FUNCT_2:def 1
    .=B22 by XBOOLE_1:28
    .=the carrier of (I[01]|B22) by PRE_TOPC:29;
  rng (g2|B22) c= the carrier of TOP-REAL 2;
  then reconsider g22=g2|B22 as Function
  of I[01]|B22,TOP-REAL 2 by A80,FUNCT_2:4;
A81: g22 is continuous by A74,A78,BORSUK_4:69;
A82: B11=[#](I[01]|B11) by PRE_TOPC:def 10;
A83: B22=[#](I[01]|B22) by PRE_TOPC:def 10;
A84: B11 is closed by Th12;
A85: B22 is closed by Th12;
A86: [#](I[01]|B11) \/ [#](I[01]|B22)=[#]I[01]
  by A82,A83,BORSUK_1:83,XXREAL_1:165;
  for p being set st p in ([#](I[01]|B11)) /\ ([#](I[01]|B22))
  holds g11.p = g22.p
  proof
    let p be set;
    assume
A87: p in ([#](I[01]|B11)) /\ ([#](I[01]|B22));
    then
A88: p in [#](I[01]|B11) by XBOOLE_0:def 4;
A89: p in [#](I[01]|B22) by A87;
A90: p in B11 by A88,PRE_TOPC:def 10;
A91: p in B22 by A89,PRE_TOPC:def 10;
    reconsider rp=p as Real by A90;
A92: rp<=1/2 by A90,XXREAL_1:1;
    rp>=1/2 by A91,XXREAL_1:1;
    then rp=1/2 by A92,XXREAL_0:1;
    then
A93: 2*rp=1;
    thus g11.p=g1.p by A90,FUNCT_1:72
      .= (1-1)*|[a,c]|+(1)*|[a,d]| by A71,A90,A93
      .=0.TOP-REAL 2 +1*|[a,d]| by EUCLID:33
      .=(1-0)*|[a,d]| +(1-1)*|[b,d]| by EUCLID:33
      .=g2.p by A75,A90,A93
      .=g22.p by A91,FUNCT_1:72;
  end;
  then consider h being Function of I[01],TOP-REAL 2 such that
A94: h=g11+*g22 and
A95: h is continuous by A79,A81,A82,A83,A84,A85,A86,JGRAPH_2:9;
A96: dom f3=dom h by Th13;
A97: dom f3=the carrier of I[01] by Th13;
  for x being set st x in dom f2 holds f3.x=h.x
  proof
    let x be set;
    assume
A98: x in dom f2;
    then reconsider rx=x as Real by A97,BORSUK_1:83;
A99: 0<=rx by A96,A98,BORSUK_1:83,XXREAL_1:1;
A100: rx<=1 by A96,A98,BORSUK_1:83,XXREAL_1:1;
    now per cases;
      case
A101:   rx<1/2;
        then
A102:   rx in [.0,1/2.] by A99,XXREAL_1:1;
        not rx in dom g22 by A83,A101,XXREAL_1:1;
        then h.rx=g11.rx by A94,FUNCT_4:12
          .=g1.rx by A102,FUNCT_1:72
          .=(1-(2*rx))*|[a,c]|+(2*rx)*|[a,d]| by A71,A96,A98
          .=f3.rx by A32,A102;
        hence thesis;
      end;
      case rx >=1/2;
        then
A103:   rx in [.1/2,1.] by A100,XXREAL_1:1;
        then rx in [#](I[01]|B22) by PRE_TOPC:def 10;
        then h.rx=g22.rx by A80,A94,FUNCT_4:14
          .=g2.rx by A103,FUNCT_1:72
          .=(1-(2*rx-1))*|[a,d]|+(2*rx-1)*|[b,d]| by A75,A96,A98
          .=f3.rx by A35,A103;
        hence thesis;
      end;
    end;
    hence thesis;
  end;
  then
A104: f2=h by A96,FUNCT_1:9;
A105: dom f3=[#](I[01]) by A14,BORSUK_1:83;
  for x1,x2 being set st x1 in dom f3 & x2 in dom f3 & f3.x1=f3.x2 holds x1=x2
  proof
    let x1,x2 be set;
    assume that
A106: x1 in dom f3 and
A107: x2 in dom f3 and
A108: f3.x1=f3.x2;
    reconsider r1=x1 as Real by A14,A106;
    reconsider r2=x2 as Real by A14,A107;
A109: LSeg(|[a,c]|,|[a,d]|) /\ LSeg(|[a,d]|,|[b,d]|) = {|[a,d]|} by A1,A2,Th44;
    now per cases by A3,A14,A106,A107,XBOOLE_0:def 3;
      case
A110:   x1 in [.0,1/2.] & x2 in [.0,1/2.];
        then f3.r1=(1-2*r1)*|[a,c]|+(2*r1)*|[a,d]| by A32;
        then (1-2*r2)*|[a,c]|+(2*r2)*|[a,d]|= (1-2*r1)*|[a,c]|+(2*r1)*|[a,d]|
        by A32,A108,A110;
        then (1-2*r2)*|[a,c]|+(2*r2)*|[a,d]| -(2*r1)*|[a,d]|
        = (1-2*r1)*|[a,c]| by EUCLID:52;
        then (1-2*r2)*|[a,c]|+((2*r2)*|[a,d]| -(2*r1)*|[a,d]|)
        = (1-2*r1)*|[a,c]| by EUCLID:49;
        then (1-2*r2)*|[a,c]|+(2*r2-2*r1)*(|[a,d]|)
        = (1-2*r1)*|[a,c]| by EUCLID:54;
        then (2*r2-2*r1)*(|[a,d]|)+((1-2*r2)*|[a,c]|-(1-2*r1)*|[a,c]|)
        = (1-2*r1)*|[a,c]|-(1-2*r1)*|[a,c]| by EUCLID:49;
        then (2*r2-2*r1)*(|[a,d]|)+((1-2*r2)*|[a,c]|-(1-2*r1)*|[a,c]|)
        = 0.TOP-REAL 2 by EUCLID:46;
        then (2*r2-2*r1)*(|[a,d]|)+((1-2*r2)-(1-2*r1))*|[a,c]|
        = 0.TOP-REAL 2 by EUCLID:54;
        then (2*r2-2*r1)*(|[a,d]|)+(-(2*r2-2*r1))*|[a,c]| = 0.TOP-REAL 2;
        then (2*r2-2*r1)*(|[a,d]|)+-((2*r2-2*r1)*|[a,c]|)
        = 0.TOP-REAL 2 by EUCLID:44;
        then (2*r2-2*r1)*(|[a,d]|)-((2*r2-2*r1)*|[a,c]|)
        = 0.TOP-REAL 2 by EUCLID:45;
        then (2*r2-2*r1)*((|[a,d]|)-(|[a,c]|)) = 0.TOP-REAL 2 by EUCLID:53;
        then (2*r2-2*r1)=0 or (|[a,d]|)-(|[a,c]|)=0.TOP-REAL 2 by EUCLID:35;
        then (2*r2-2*r1)=0 or |[a,d]|=|[a,c]| by EUCLID:47;
        then (2*r2-2*r1)=0 or d =|[a,c]|`2 by EUCLID:56;
        hence thesis by A2,EUCLID:56;
      end;
      case
A111:   x1 in [.0,1/2.] & x2 in [.1/2,1.];
        then
A112:   f3.r1=(1-2*r1)*|[a,c]|+(2*r1)*|[a,d]| by A32;
A113:   0<=r1 by A111,XXREAL_1:1;
        r1<=1/2 by A111,XXREAL_1:1;
        then r1*2<=1/2*2 by XREAL_1:66;
        then
A114:   f3.r1 in LSeg(|[a,c]|,|[a,d]|) by A112,A113;
A115:   f3.r2=(1-(2*r2-1))*|[a,d]|+(2*r2-1)*|[b,d]| by A35,A111;
A116:   1/2<=r2 by A111,XXREAL_1:1;
A117:   r2<=1 by A111,XXREAL_1:1;
        r2*2>=1/2*2 by A116,XREAL_1:66;
        then
A118:   2*r2-1>=0 by XREAL_1:50;
        2*1>=2*r2 by A117,XREAL_1:66;
        then 1+1-1>=2*r2-1 by XREAL_1:11;
then f3.r2 in { (1-lambda)*|[a,d]| + lambda*|[b,d]| where lambda is Real :
        0 <= lambda & lambda <= 1 } by A115,A118;
        then f3.r1 in LSeg(|[a,c]|,|[a,d]|) /\ LSeg(|[a,d]|,|[b,d]|)
        by A108,A114,XBOOLE_0:def 4;
        then
A119:   f3.r1= |[a,d]| by A109,TARSKI:def 1;
        then (1-2*r1)*|[a,c]|+(2*r1)*|[a,d]|+-(|[a,d]|)=0.TOP-REAL 2
        by A112,EUCLID:40;
        then (1-2*r1)*|[a,c]|+(2*r1)*|[a,d]|+(-1)*|[a,d]|=0.TOP-REAL 2
        by EUCLID:43;
        then (1-2*r1)*|[a,c]|+((2*r1)*|[a,d]|+(-1)*|[a,d]|)=0.TOP-REAL 2
        by EUCLID:30;
        then (1-2*r1)*|[a,c]|+((2*r1)+(-1))*|[a,d]|=0.TOP-REAL 2 by EUCLID:37;
        then (1-2*r1)*|[a,c]|+(-(1-(2*r1)))*|[a,d]|=0.TOP-REAL 2;
        then (1-2*r1)*|[a,c]|+-((1-(2*r1))*|[a,d]|)=0.TOP-REAL 2 by EUCLID:44;
        then (1-2*r1)*|[a,c]|-((1-(2*r1))*|[a,d]|)=0.TOP-REAL 2 by EUCLID:45;
        then (1-2*r1)*(|[a,c]|-(|[a,d]|))=0.TOP-REAL 2 by EUCLID:53;
        then 1-2*r1=0 or (|[a,c]|-(|[a,d]|))=0.TOP-REAL 2 by EUCLID:35;
        then 1-2*r1=0 or |[a,c]|=|[a,d]| by EUCLID:47;
        then
A120:   1-2*r1=0 or c =|[a,d]|`2 by EUCLID:56;
        (1-(2*r2-1))*|[a,d]|+(2*r2-1)*|[b,d]|+-(|[a,d]|)=0.TOP-REAL 2
        by A108,A115,A119,EUCLID:40;
        then
        (1-(2*r2-1))*|[a,d]|+((2*r2-1))*|[b,d]|+(-1)*|[a,d]|=0.TOP-REAL 2
        by EUCLID:43;
        then (2*r2-1) *|[b,d]|+((1-(2*r2-1))*|[a,d]|+(-1)*|[a,d]|)
        =0.TOP-REAL 2
        by EUCLID:30;
        then (2*r2-1) *|[b,d]|+((1-(2*r2-1))+(-1))*|[a,d]|=0.TOP-REAL 2
        by EUCLID:37;
        then (2*r2-1) *|[b,d]|+(-(2*r2-1))*|[a,d]|=0.TOP-REAL 2;
        then (2*r2-1) *|[b,d]|+-((2*r2-1)*|[a,d]|)=0.TOP-REAL 2 by EUCLID:44;
        then (2*r2-1) *|[b,d]|-((2*r2-1)*|[a,d]|)=0.TOP-REAL 2 by EUCLID:45;
        then (2*r2-1) *(|[b,d]|-(|[a,d]|))=0.TOP-REAL 2 by EUCLID:53;
        then (2*r2-1)=0 or (|[b,d]|-(|[a,d]|))=0.TOP-REAL 2 by EUCLID:35;
        then (2*r2-1)=0 or |[b,d]|=|[a,d]| by EUCLID:47;
        then (2*r2-1)=0 or b =|[a,d]|`1 by EUCLID:56;
        hence thesis by A1,A2,A120,EUCLID:56;
      end;
      case
A121:   x1 in [.1/2,1.] & x2 in [.0,1/2.];
        then
A122:   f3.r2=(1-2*r2)*|[a,c]|+(2*r2)*|[a,d]| by A32;
A123:   0<=r2 by A121,XXREAL_1:1;
        r2<=1/2 by A121,XXREAL_1:1;
        then r2*2<=1/2*2 by XREAL_1:66;
        then
A124:   f3.r2 in LSeg(|[a,c]|,|[a,d]|) by A122,A123;
A125:   f3.r1=(1-(2*r1-1))*|[a,d]|+(2*r1-1)*|[b,d]| by A35,A121;
A126:   1/2<=r1 by A121,XXREAL_1:1;
A127:   r1<=1 by A121,XXREAL_1:1;
        r1*2>=1/2*2 by A126,XREAL_1:66;
        then
A128:   2*r1-1>=0 by XREAL_1:50;
        2*1>=2*r1 by A127,XREAL_1:66;
        then 1+1-1>=2*r1-1 by XREAL_1:11;
then f3.r1 in { (1-lambda)*|[a,d]| + lambda*|[b,d]| where lambda is Real :
        0 <= lambda & lambda <= 1 } by A125,A128;
        then f3.r2 in LSeg(|[a,c]|,|[a,d]|) /\ LSeg(|[a,d]|,|[b,d]|)
        by A108,A124,XBOOLE_0:def 4;
        then
A129:   f3.r2= |[a,d]| by A109,TARSKI:def 1;
        then (1-2*r2)*|[a,c]|+(2*r2)*|[a,d]|+-(|[a,d]|)=0.TOP-REAL 2
        by A122,EUCLID:40;
        then (1-2*r2)*|[a,c]|+(2*r2)*|[a,d]|+(-1)*|[a,d]|=0.TOP-REAL 2
        by EUCLID:43;
        then (1-2*r2)*|[a,c]|+((2*r2)*|[a,d]|+(-1)*|[a,d]|)=0.TOP-REAL 2
        by EUCLID:30;
        then (1-2*r2)*|[a,c]|+((2*r2)+(-1))*|[a,d]|=0.TOP-REAL 2 by EUCLID:37;
        then (1-2*r2)*|[a,c]|+(-(1-(2*r2)))*|[a,d]|=0.TOP-REAL 2;
        then (1-2*r2)*|[a,c]|+-((1-(2*r2))*|[a,d]|)=0.TOP-REAL 2 by EUCLID:44;
        then (1-2*r2)*|[a,c]|-((1-(2*r2))*|[a,d]|)=0.TOP-REAL 2 by EUCLID:45;
        then (1-2*r2)*(|[a,c]|-(|[a,d]|))=0.TOP-REAL 2 by EUCLID:53;
        then 1-2*r2=0 or (|[a,c]|-(|[a,d]|))=0.TOP-REAL 2 by EUCLID:35;
        then 1-2*r2=0 or |[a,c]|=|[a,d]| by EUCLID:47;
        then
A130:   1-2*r2=0 or c =|[a,d]|`2 by EUCLID:56;
        (1-(2*r1-1))*|[a,d]|+(2*r1-1)*|[b,d]|+-(|[a,d]|)=0.TOP-REAL 2
        by A108,A125,A129,EUCLID:40;
        then
        (1-(2*r1-1))*|[a,d]|+((2*r1-1))*|[b,d]|+(-1)*|[a,d]|=0.TOP-REAL 2
        by EUCLID:43;
        then (2*r1-1) *|[b,d]|+((1-(2*r1-1))*|[a,d]|+(-1)*|[a,d]|)
        =0.TOP-REAL 2
        by EUCLID:30;
        then (2*r1-1) *|[b,d]|+(-1+(1-(2*r1-1)))*|[a,d]|=0.TOP-REAL 2 by
EUCLID:37;
        then (2*r1-1) *|[b,d]|+(-(2*r1-1))*|[a,d]|=0.TOP-REAL 2;
        then (2*r1-1) *|[b,d]|+-((2*r1-1)*|[a,d]|)=0.TOP-REAL 2 by EUCLID:44;
        then (2*r1-1) *|[b,d]|-((2*r1-1)*|[a,d]|)=0.TOP-REAL 2 by EUCLID:45;
        then (2*r1-1) *(|[b,d]|-(|[a,d]|))=0.TOP-REAL 2 by EUCLID:53;
        then (2*r1-1)=0 or (|[b,d]|-(|[a,d]|))=0.TOP-REAL 2 by EUCLID:35;
        then (2*r1-1)=0 or |[b,d]|=|[a,d]| by EUCLID:47;
        then (2*r1-1)=0 or b =|[a,d]|`1 by EUCLID:56;
        hence thesis by A1,A2,A130,EUCLID:56;
      end;
      case
A131:   x1 in [.1/2,1.] & x2 in [.1/2,1.];
        then f3.r1=(1-(2*r1-1))*|[a,d]|+((2*r1-1))*|[b,d]| by A35;
        then (1-(2*r2-1))*|[a,d]|+((2*r2-1))*|[b,d]|
        = (1-(2*r1-1))*|[a,d]|+((2*r1-1))*|[b,d]| by A35,A108,A131;
        then (1-(2*r2-1))*|[a,d]|+((2*r2-1))*|[b,d]| -((2*r1-1))*|[b,d]|
        = (1-(2*r1-1))*|[a,d]| by EUCLID:52;
        then (1-(2*r2-1))*|[a,d]|+(((2*r2-1))*|[b,d]| -((2*r1-1))*|[b,d]|)
        = (1-(2*r1-1))*|[a,d]| by EUCLID:49;
        then (1-(2*r2-1))*|[a,d]|+((2*r2-1)-(2*r1-1))*(|[b,d]|)
        = (1-(2*r1-1))*|[a,d]| by EUCLID:54;
        then ((2*r2-1)-(2*r1-1))*(|[b,d]|)
        +((1-(2*r2-1))*|[a,d]|-(1-(2*r1-1))*|[a,d]|)
        = (1-(2*r1-1))*|[a,d]|-(1-(2*r1-1))*|[a,d]| by EUCLID:49;
        then ((2*r2-1)-(2*r1-1))*(|[b,d]|)
        +((1-(2*r2-1))*|[a,d]|-(1-(2*r1-1))*|[a,d]|) = 0.TOP-REAL 2
        by EUCLID:46;
        then
        ((2*r2-1)-(2*r1-1))*(|[b,d]|)+((1-(2*r2-1))-(1-(2*r1-1)))*|[a,d]|
        = 0.TOP-REAL 2 by EUCLID:54;
        then ((2*r2-1)-(2*r1-1))*(|[b,d]|)+(-((2*r2-1)-(2*r1-1)))*|[a,d]|
        = 0.TOP-REAL 2;
        then ((2*r2-1)-(2*r1-1))*(|[b,d]|)+-(((2*r2-1)-(2*r1-1))*|[a,d]|)
        = 0.TOP-REAL 2 by EUCLID:44;
        then ((2*r2-1)-(2*r1-1))*(|[b,d]|)-(((2*r2-1)-(2*r1-1))*|[a,d]|)
        = 0.TOP-REAL 2 by EUCLID:45;
        then ((2*r2-1)-(2*r1-1))*((|[b,d]|)-(|[a,d]|))
        = 0.TOP-REAL 2 by EUCLID:53;
        then ((2*r2-1)-(2*r1-1))=0 or (|[b,d]|)-(|[a,d]|)=0.TOP-REAL 2
        by EUCLID:35;
        then ((2*r2-1)-(2*r1-1))=0 or |[b,d]|=|[a,d]| by EUCLID:47;
        then ((2*r2-1)-(2*r1-1))=0 or b =|[a,d]|`1 by EUCLID:56;
        hence thesis by A1,EUCLID:56;
      end;
    end;
    hence thesis;
  end;
  then
A132: f3 is one-to-one by FUNCT_1:def 8;
  [#]((TOP-REAL 2)|(Upper_Arc(K))) c= rng f3
  proof
    let y be set;
    assume y in [#]((TOP-REAL 2)|(Upper_Arc(K)));
    then
A133: y in Upper_Arc(K) by PRE_TOPC:def 10;
    then reconsider q=y as Point of TOP-REAL 2;
A134: Upper_Arc(K)=LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|) by A1,A2,Th61
    ;
    now per cases by A133,A134,XBOOLE_0:def 3;
      case
A135:   q in LSeg(|[a,c]|,|[a,d]|);
        then
A136:   0<=((q`2)-c)/(d-c)/2 by A38;
A137:   ((q`2)-c)/(d-c)/2<=1 by A38,A135;
A138:   f3.(((q`2)-c)/(d-c)/2)=q by A38,A135;
        ((q`2)-c)/(d-c)/2 in [.0,1.] by A136,A137,XXREAL_1:1;
        hence thesis by A14,A138,FUNCT_1:def 5;
      end;
      case
A139:   q in LSeg(|[a,d]|,|[b,d]|);
        then
A140:   0<=((q`1)-a)/(b-a)/2+1/2 by A48;
A141:   ((q`1)-a)/(b-a)/2+1/2<=1 by A48,A139;
A142:   f3.(((q`1)-a)/(b-a)/2+1/2)=q by A48,A139;
        ((q`1)-a)/(b-a)/2+1/2 in [.0,1.] by A140,A141,XXREAL_1:1;
        hence thesis by A14,A142,FUNCT_1:def 5;
      end;
    end;
    hence thesis;
  end;
  then
A143: rng f3=[#]((TOP-REAL 2)|(Upper_Arc(K))) by XBOOLE_0:def 10;
  I[01] is compact by HEINE:11,TOPMETR:27;
  then
A144: f3 is being_homeomorphism
  by A95,A104,A105,A132,A143,COMPTS_1:26,JGRAPH_1:63;
  rng f3=Upper_Arc(K) by A143,PRE_TOPC:def 10;
  hence thesis by A29,A31,A32,A35,A38,A48,A144;
end;

theorem Th64:
  for a,b,c,d being real number st a<b & c <d
  ex f being Function of I[01],(TOP-REAL 2)|(Lower_Arc rectangle(a,b,c,d))
  st f is being_homeomorphism
  & f.0=E-max rectangle(a,b,c,d) & f.1=W-min rectangle(a,b,c,d) &
  rng f=Lower_Arc rectangle(a,b,c,d) &
  (for r being Real st r in [.0,1/2.] holds f.r=(1-2*r)*|[b,d]|+(2*r)*|[b,c]|)&
  (for r being Real st r in [.1/2,1.] holds
  f.r=(1-(2*r-1))*|[b,c]|+(2*r-1)*|[a,c]|)&
  (for p being Point of TOP-REAL 2 st p in LSeg(|[b,d]|,|[b,c]|)
  holds 0<=((p`2)-d)/(c-d)/2 & ((p`2)-d)/(c-d)/2<=1
  & f.(((p`2)-d)/(c-d)/2)=p)&
  for p being Point of TOP-REAL 2 st p in LSeg(|[b,c]|,|[a,c]|)
  holds 0<=((p`1)-b)/(a-b)/2+1/2 & ((p`1)-b)/(a-b)/2+1/2<=1
  & f.(((p`1)-b)/(a-b)/2+1/2)=p
proof
  let a,b,c,d be real number;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<b and
A2: c <d;
  defpred P[set,set] means for r being Real st $1=r holds
  (r in [.0,1/2.] implies $2=(1-2*r)*|[b,d]|+(2*r)*|[b,c]|) &
  (r in [.1/2,1.] implies $2=(1-(2*r-1))*|[b,c]|+(2*r-1)*|[a,c]|);
A3: [.0,1.]=[.0,1/2.] \/ [.1/2,1.] by XXREAL_1:165;
A4: for x being set st x in [.0,1.] ex y being set st P[x,y]
  proof
    let x be set;
    assume
A5: x in [.0,1.];
    now per cases by A3,A5,XBOOLE_0:def 3;
      case
A6:     x in [.0,1/2.];
        then reconsider r=x as Real;
A7:     r<=1/2 by A6,XXREAL_1:1;
        set y0= (1-2*r)*|[b,d]|+(2*r)*|[b,c]|;
        r in [.1/2,1.] implies y0=(1-(2*r-1))*|[b,c]|+(2*r-1)*|[a,c]|
        proof
          assume r in [.1/2,1.];
          then 1/2 <=r by XXREAL_1:1;
          then
A8:       r=1/2 by A7,XXREAL_0:1;
          then
A9:       y0= (0)*|[b,d]|+|[b,c]| by EUCLID:33
            .= (0.TOP-REAL 2) + |[b,c]| by EUCLID:33
            .= |[b,c]| by EUCLID:31;
          (1-(2*r-1))*|[b,c]|+(2*r-1)*|[a,c]|
          = (1)*|[b,c]|+0.TOP-REAL 2 by A8,EUCLID:33
            .= |[b,c]|+0.TOP-REAL 2 by EUCLID:33
            .= |[b,c]| by EUCLID:31;
          hence thesis by A9;
        end;
        then for r2 being Real st x=r2 holds
        (r2 in [.0,1/2.] implies y0=(1-2*r2)*|[b,d]|+(2*r2)*|[b,c]|) &
        (r2 in [.1/2,1.] implies y0=(1-(2*r2-1))*|[b,c]|+(2*r2-1)*|[a,c]|);
        hence thesis;
      end;
      case
A10:    x in [.1/2,1.];
        then reconsider r=x as Real;
A11:    1/2<=r by A10,XXREAL_1:1;
        set y0= (1-(2*r-1))*|[b,c]|+(2*r-1)*|[a,c]|;
        r in [.0,1/2.] implies y0=(1-2*r)*|[b,d]|+(2*r)*|[b,c]|
        proof
          assume r in [.0,1/2.];
          then r<=1/2 by XXREAL_1:1;
          then
A12:      r=1/2 by A11,XXREAL_0:1;
          then
A13:      y0= |[b,c]|+(0)*|[a,c]| by EUCLID:33
            .= |[b,c]|+(0.TOP-REAL 2) by EUCLID:33
            .= |[b,c]| by EUCLID:31;
          (1-2*r)*|[b,d]|+(2*r)*|[b,c]|
          = 0.TOP-REAL 2+(1)*|[b,c]| by A12,EUCLID:33
            .= 0.TOP-REAL 2+|[b,c]| by EUCLID:33
            .= |[b,c]| by EUCLID:31;
          hence thesis by A13;
        end;
        then for r2 being Real st x=r2 holds
        (r2 in [.0,1/2.] implies y0=(1-2*r2)*|[b,d]|+(2*r2)*|[b,c]|) &
        (r2 in [.1/2,1.] implies y0=(1-(2*r2-1))*|[b,c]|+(2*r2-1)*|[a,c]|);
        hence thesis;
      end;
    end;
    hence thesis;
  end;
  ex f2 being Function st dom f2 = [.0,1.] &
  for x being set st x in [.0,1.] holds P[x,f2.x] from CLASSES1:sch 1(A4);
  then consider f2 being Function such that
A14: dom f2 = [.0,1.] and
A15: for x being set st x in [.0,1.] holds P[x,f2.x];
  rng f2 c= the carrier of (TOP-REAL 2)|(Lower_Arc(K))
  proof
    let y be set;
    assume y in rng f2;
    then consider x being set such that
A16: x in dom f2 and
A17: y=f2.x by FUNCT_1:def 5;
    now per cases by A3,A14,A16,XBOOLE_0:def 3;
      case
A18:    x in [.0,1/2.];
        then reconsider r=x as Real;
A19:    0<=r by A18,XXREAL_1:1;
        r<=1/2 by A18,XXREAL_1:1;
        then
A20:    r*2<=1/2*2 by XREAL_1:66;
        f2.x= (1-2*r)*|[b,d]|+(2*r)*|[b,c]| by A14,A15,A16,A18;
        then
A21:    y in LSeg(|[b,d]|,|[b,c]|) by A17,A19,A20;
        Lower_Arc(K)= LSeg(|[a,c]|,|[b,c]|) \/ LSeg(|[b,c]|,|[b,d]|)
        by A1,A2,Th62;
        then y in Lower_Arc(K) by A21,XBOOLE_0:def 3;
        hence thesis by PRE_TOPC:29;
      end;
      case
A22:    x in [.1/2,1.];
        then reconsider r=x as Real;
A23:    1/2<=r by A22,XXREAL_1:1;
A24:    r<=1 by A22,XXREAL_1:1;
        r*2>=1/2*2 by A23,XREAL_1:66;
        then
A25:    2*r-1>=0 by XREAL_1:50;
        2*1>=2*r by A24,XREAL_1:66;
        then
A26:    1+1-1>=2*r-1 by XREAL_1:11;
        f2.x= (1-(2*r-1))*|[b,c]|+(2*r-1)*|[a,c]| by A14,A15,A16,A22;
        then
A27:    y in LSeg(|[b,c]|,|[a,c]|) by A17,A25,A26;
        Lower_Arc(K)= LSeg(|[a,c]|,|[b,c]|) \/ LSeg(|[b,c]|,|[b,d]|)
        by A1,A2,Th62;
        then y in Lower_Arc(K) by A27,XBOOLE_0:def 3;
        hence thesis by PRE_TOPC:29;
      end;
    end;
    hence thesis;
  end;
  then reconsider f3=f2 as Function of I[01],(TOP-REAL 2)|(Lower_Arc(K))
  by A14,BORSUK_1:83,FUNCT_2:4;
A28: 0 in [.0,1.] by XXREAL_1:1;
  0 in [.0,1/2.] by XXREAL_1:1;
  then
A29: f3.0= (1-2*0)*|[b,d]|+(2*0)*|[b,c]| by A15,A28
    .= (1)*|[b,d]|+0.TOP-REAL 2 by EUCLID:33
    .= |[b,d]|+0.TOP-REAL 2 by EUCLID:33
    .= |[b,d]| by EUCLID:31
    .= E-max(K) by A1,A2,Th56;
A30: 1 in [.0,1.] by XXREAL_1:1;
  1 in [.1/2,1.] by XXREAL_1:1;
  then
A31: f3.1= (1-(2*1-1))*|[b,c]|+(2*1-1)*|[a,c]| by A15,A30
    .= (0)*|[b,c]|+|[a,c]| by EUCLID:33
    .= (0.TOP-REAL 2) + |[a,c]| by EUCLID:33
    .= |[a,c]| by EUCLID:31
    .= W-min(K) by A1,A2,Th56;
A32: for r being Real st r in [.0,1/2.] holds
  f3.r=(1-2*r)*|[b,d]|+(2*r)*|[b,c]|
  proof
    let r be Real;
    assume
A33: r in [.0,1/2.];
    then
A34: 0<=r by XXREAL_1:1;
    r<=1/2 by A33,XXREAL_1:1;
    then r<=1 by XXREAL_0:2;
    then r in [.0,1.] by A34,XXREAL_1:1;
    hence thesis by A15,A33;
  end;
A35: for r being Real st r in [.1/2,1.] holds
  f3.r=(1-(2*r-1))*|[b,c]|+(2*r-1)*|[a,c]|
  proof
    let r be Real;
    assume
A36: r in [.1/2,1.];
    then
A37: 1/2<=r by XXREAL_1:1;
    r<=1 by A36,XXREAL_1:1;
    then r in [.0,1.] by A37,XXREAL_1:1;
    hence thesis by A15,A36;
  end;
A38: for p being Point of TOP-REAL 2 st p in LSeg(|[b,d]|,|[b,c]|)
  holds 0<=((p`2)-d)/(c-d)/2 & ((p`2)-d)/(c-d)/2<=1
  & f3.(((p`2)-d)/(c-d)/2)=p
  proof
    let p be Point of TOP-REAL 2;
    assume
A39: p in LSeg(|[b,d]|,|[b,c]|);
A40: (|[b,d]|)`2= d by EUCLID:56;
A41: (|[b,c]|)`2= c by EUCLID:56;
    then
A42: c <=p`2 by A2,A39,A40,TOPREAL1:10;
A43: p`2<=d by A2,A39,A40,A41,TOPREAL1:10;
    d-c>0 by A2,XREAL_1:52;
    then
A44: -(d-c)< -0 by XREAL_1:26;
    d-(p`2) >=0 by A43,XREAL_1:50;
    then
A45: -(d-(p`2)) <= -0;
    (p`2) -d >=c-d by A42,XREAL_1:11;
    then ((p`2) -d)/(c-d) <=(c-d)/(c-d) by A44,XREAL_1:75;
    then ((p`2) -d)/(c-d) <=1 by A44,XCMPLX_1:60;
    then
A46: ((p`2) -d)/(c-d)/2 <=1/2 by XREAL_1:74;
    set r=((p`2)-d)/(c-d)/2;
    r in [.0,1/2.] by A44,A45,A46,XXREAL_1:1;
    then f3.(((p`2)-d)/(c-d)/2)=(1-2*r)*|[b,d]|+(2*r)*|[b,c]| by A32
      .=|[(1-2*r)*b,(1-2*r)*d]|+(2*r)*|[b,c]| by EUCLID:62
      .=|[(1-2*r)*b,(1-2*r)*d]|+|[(2*r)*b,(2*r)*c]| by EUCLID:62
      .=|[1*b-(2*r)*b+(2*r)*b,(1-2*r)*d+(2*r)*c]| by EUCLID:60
      .=|[b,1*d+(((p`2)-d)/(c-d))*(c-d)]|
      .=|[b,1*d+((p`2)-d)]| by A44,XCMPLX_1:88
      .=|[p`1,p`2]| by A39,TOPREAL3:17
      .= p by EUCLID:57;
    hence thesis by A44,A45,A46,XXREAL_0:2;
  end;
A47: for p being Point of TOP-REAL 2 st p in LSeg(|[b,c]|,|[a,c]|)
  holds 0<=((p`1)-b)/(a-b)/2+1/2 & ((p`1)-b)/(a-b)/2+1/2<=1
  & f3.(((p`1)-b)/(a-b)/2+1/2)=p
  proof
    let p be Point of TOP-REAL 2;
    assume
A48: p in LSeg(|[b,c]|,|[a,c]|);
A49: (|[b,c]|)`1= b by EUCLID:56;
A50: (|[a,c]|)`1= a by EUCLID:56;
    then
A51: a <=p`1 by A1,A48,A49,TOPREAL1:9;
A52: p`1<=b by A1,A48,A49,A50,TOPREAL1:9;
    b-a>0 by A1,XREAL_1:52;
    then
A53: -(b-a)< -0 by XREAL_1:26;
    b-(p`1) >=0 by A52,XREAL_1:50;
    then
A54: -(b-(p`1)) <= -0;
    then
A55: ((p`1) -b)/(a-b)/2+1/2 >=0+1/2 by A53,XREAL_1:9;
    (p`1) -b >=a-b by A51,XREAL_1:11;
    then ((p`1) -b)/(a-b) <=(a-b)/(a-b) by A53,XREAL_1:75;
    then ((p`1) -b)/(a-b) <=1 by A53,XCMPLX_1:60;
    then ((p`1) -b)/(a-b)/2 <=1/2 by XREAL_1:74;
    then
A56: ((p`1) -b)/(a-b)/2+1/2 <=1/2+1/2 by XREAL_1:9;
    set r=((p`1)-b)/(a-b)/2+1/2;
    r in [.1/2,1.] by A55,A56,XXREAL_1:1;
    then f3.(((p`1)-b)/(a-b)/2+1/2)=(1-(2*r-1))*|[b,c]|+(2*r-1)*|[a,c]| by A35
      .=|[(1-(2*r-1))*b,(1-(2*r-1))*c]|+((2*r-1))*|[a,c]| by EUCLID:62
      .=|[(1-(2*r-1))*b,(1-(2*r-1))*c]|+|[((2*r-1))*a,((2*r-1))*c]|
    by EUCLID:62
      .=|[(1-(2*r-1))*b+((2*r-1))*a,1*c-(2*r-1)*c+((2*r-1))*c]| by EUCLID:60
      .=|[1*b+(((p`1)-b)/(a-b))*(a-b),c]|
      .=|[1*b+((p`1)-b),c]| by A53,XCMPLX_1:88
      .=|[p`1,p`2]| by A48,TOPREAL3:18
      .= p by EUCLID:57;
    hence thesis by A53,A54,A56;
  end;
  reconsider B00=[.0,1.] as Subset of R^1 by TOPMETR:24;
  reconsider B01=B00 as non empty Subset of R^1 by XXREAL_1:1;
  I[01]=(R^1)|B01 by TOPMETR:26,27;
  then consider h1 being Function of I[01],R^1 such that
A57: for p being Point of I[01] holds h1.p=p and
A58: h1 is continuous by Th14;
  consider h2 being Function of I[01],R^1 such that
A59: for p being Point of I[01],r1 being real number st h1.p=r1 holds h2.p
  =2*r1 and
A60: h2 is continuous by A58,JGRAPH_2:33;
  consider h5 being Function of I[01],R^1 such that
A61: for p being Point of I[01],r1 being real number st h2.p=r1 holds h5.p
  =1-r1 and
A62: h5 is continuous by A60,Th16;
  consider h3 being Function of I[01],R^1 such that
A63: for p being Point of I[01],r1 being real number st h2.p=r1 holds h3.p
  =r1-1 and
A64: h3 is continuous by A60,Th15;
  consider h4 being Function of I[01],R^1 such that
A65: for p being Point of I[01],r1 being real number st h3.p=r1 holds h4.p
  =1-r1 and
A66: h4 is continuous by A64,Th16;
  consider g1 being Function of I[01],TOP-REAL 2 such that
A67: for r being Point of I[01] holds g1.r=(h5.r)*|[b,d]|+(h2.r)*|[b,c]| and
A68: g1 is continuous by A60,A62,Th21;
A69: for r being Point of I[01],s being real number st r=s holds
  g1.r=(1-2*s)*|[b,d]|+(2*s)*|[b,c]|
  proof
    let r be Point of I[01],s be real number;
    assume
A70: r=s;
    g1.r=(h5.r)*|[b,d]|+(h2.r)*|[b,c]| by A67
      .=(1-2*(h1.r))*|[b,d]|+(h2.r)*|[b,c]| by A59,A61
      .=(1-2*(h1.r))*|[b,d]|+(2*(h1.r))*|[b,c]| by A59
      .=(1-2*s)*|[b,d]|+(2*(h1.r))*|[b,c]| by A57,A70
      .=(1-2*s)*|[b,d]|+(2*s)*|[b,c]| by A57,A70;
    hence thesis;
  end;
  consider g2 being Function of I[01],TOP-REAL 2 such that
A71: for r being Point of I[01] holds g2.r=(h4.r)*|[b,c]|+(h3.r)*|[a,c]| and
A72: g2 is continuous by A64,A66,Th21;
A73: for r being Point of I[01],s being real number st r=s holds
  g2.r=(1-(2*s-1))*|[b,c]|+(2*s-1)*|[a,c]|
  proof
    let r be Point of I[01],s be real number;
    assume
A74: r=s;
    g2.r=(h4.r)*|[b,c]|+(h3.r)*|[a,c]| by A71
      .=(1-((h2.r)-1))*|[b,c]|+(h3.r)*|[a,c]| by A63,A65
      .=(1-((h2.r)-1))*|[b,c]|+((h2.r)-1)*|[a,c]| by A63
      .=(1-(2*(h1.r)-1))*|[b,c]|+((h2.r)-1)*|[a,c]| by A59
      .=(1-(2*(h1.r)-1))*|[b,c]|+(2*(h1.r)-1)*|[a,c]| by A59
      .=(1-(2*s-1))*|[b,c]|+(2*(h1.r)-1)*|[a,c]| by A57,A74
      .=(1-(2*s-1))*|[b,c]|+(2*s-1)*|[a,c]| by A57,A74;
    hence thesis;
  end;
  reconsider B11=[.0,1/2.] as non empty Subset of I[01]
  by A3,BORSUK_1:83,XBOOLE_1:7,XXREAL_1:1;
A75: dom (g1|B11)=dom g1 /\ B11 by RELAT_1:90
    .= (the carrier of I[01]) /\ B11 by FUNCT_2:def 1
    .=B11 by XBOOLE_1:28
    .=the carrier of (I[01]|B11) by PRE_TOPC:29;
  rng (g1|B11) c= the carrier of TOP-REAL 2;
  then reconsider g11=g1|B11 as Function
  of I[01]|B11,TOP-REAL 2 by A75,FUNCT_2:4;
A76: TOP-REAL 2 is SubSpace of TOP-REAL 2 by TSEP_1:2;
  then
A77: g11 is continuous by A68,BORSUK_4:69;
  reconsider B22=[.1/2,1.] as non empty Subset of I[01]
  by A3,BORSUK_1:83,XBOOLE_1:7,XXREAL_1:1;
A78: dom (g2|B22)=dom g2 /\ B22 by RELAT_1:90
    .= (the carrier of I[01]) /\ B22 by FUNCT_2:def 1
    .=B22 by XBOOLE_1:28
    .=the carrier of (I[01]|B22) by PRE_TOPC:29;
  rng (g2|B22) c= the carrier of TOP-REAL 2;
  then reconsider g22=g2|B22 as Function
  of I[01]|B22,TOP-REAL 2 by A78,FUNCT_2:4;
A79: g22 is continuous by A72,A76,BORSUK_4:69;
A80: B11=[#](I[01]|B11) by PRE_TOPC:def 10;
A81: B22=[#](I[01]|B22) by PRE_TOPC:def 10;
A82: B11 is closed by Th12;
A83: B22 is closed by Th12;
A84: [#](I[01]|B11) \/ [#](I[01]|B22)=[#]I[01]
  by A80,A81,BORSUK_1:83,XXREAL_1:165;
  for p being set st p in ([#](I[01]|B11)) /\ ([#](I[01]|B22))
  holds g11.p = g22.p
  proof
    let p be set;
    assume
A85: p in ([#](I[01]|B11)) /\ ([#](I[01]|B22));
    then
A86: p in [#](I[01]|B11) by XBOOLE_0:def 4;
A87: p in [#](I[01]|B22) by A85;
A88: p in B11 by A86,PRE_TOPC:def 10;
A89: p in B22 by A87,PRE_TOPC:def 10;
    reconsider rp=p as Real by A88;
A90: rp<=1/2 by A88,XXREAL_1:1;
    rp>=1/2 by A89,XXREAL_1:1;
    then rp=1/2 by A90,XXREAL_0:1;
    then
A91: 2*rp=1;
    thus g11.p=g1.p by A88,FUNCT_1:72
      .= (1-1)*|[b,d]|+(1)*|[b,c]| by A69,A88,A91
      .=0.TOP-REAL 2 +1*|[b,c]| by EUCLID:33
      .=(1-0)*|[b,c]| +(1-1)*|[a,c]| by EUCLID:33
      .=g2.p by A73,A88,A91
      .=g22.p by A89,FUNCT_1:72;
  end;
  then consider h being Function of I[01],TOP-REAL 2 such that
A92: h=g11+*g22 and
A93: h is continuous by A77,A79,A80,A81,A82,A83,A84,JGRAPH_2:9;
A94: dom f3=dom h by Th13;
A95: dom f3=the carrier of I[01] by Th13;
  for x being set st x in dom f2 holds f3.x=h.x
  proof
    let x be set;
    assume
A96: x in dom f2;
    then reconsider rx=x as Real by A95,BORSUK_1:83;
A97: 0<=rx by A94,A96,BORSUK_1:83,XXREAL_1:1;
A98: rx<=1 by A94,A96,BORSUK_1:83,XXREAL_1:1;
    per cases;
    suppose
A99:  rx<1/2;
      then
A100: rx in [.0,1/2.] by A97,XXREAL_1:1;
      not rx in dom g22 by A81,A99,XXREAL_1:1;
      then h.rx=g11.rx by A92,FUNCT_4:12
        .=g1.rx by A100,FUNCT_1:72
        .=(1-(2*rx))*|[b,d]|+(2*rx)*|[b,c]| by A69,A94,A96
        .=f3.rx by A32,A100;
      hence thesis;
    end;
    suppose rx >=1/2;
      then
A101: rx in [.1/2,1.] by A98,XXREAL_1:1;
      then rx in [#](I[01]|B22) by PRE_TOPC:def 10;
      then h.rx=g22.rx by A78,A92,FUNCT_4:14
        .=g2.rx by A101,FUNCT_1:72
        .=(1-(2*rx-1))*|[b,c]|+(2*rx-1)*|[a,c]| by A73,A94,A96
        .=f3.rx by A35,A101;
      hence thesis;
    end;
  end;
  then
A102: f2=h by A94,FUNCT_1:9;
A103: dom f3=[#](I[01]) by A14,BORSUK_1:83;
  for x1,x2 being set st x1 in dom f3 & x2 in dom f3 & f3.x1=f3.x2 holds x1=x2
  proof
    let x1,x2 be set;
    assume that
A104: x1 in dom f3 and
A105: x2 in dom f3 and
A106: f3.x1=f3.x2;
    reconsider r1=x1 as Real by A14,A104;
    reconsider r2=x2 as Real by A14,A105;
A107: LSeg(|[b,d]|,|[b,c]|) /\ LSeg(|[b,c]|,|[a,c]|) = {|[b,c]|} by A1,A2,Th42;
    now per cases by A3,A14,A104,A105,XBOOLE_0:def 3;
      case
A108:   x1 in [.0,1/2.] & x2 in [.0,1/2.];
        then f3.r1=(1-2*r1)*|[b,d]|+(2*r1)*|[b,c]| by A32;
        then (1-2*r2)*|[b,d]|+(2*r2)*|[b,c]|= (1-2*r1)*|[b,d]|+(2*r1)*|[b,c]|
        by A32,A106,A108;
        then (1-2*r2)*|[b,d]|+(2*r2)*|[b,c]| -(2*r1)*|[b,c]|
        = (1-2*r1)*|[b,d]| by EUCLID:52;
        then (1-2*r2)*|[b,d]|+((2*r2)*|[b,c]| -(2*r1)*|[b,c]|)
        = (1-2*r1)*|[b,d]| by EUCLID:49;
        then (1-2*r2)*|[b,d]|+(2*r2-2*r1)*(|[b,c]|)
        = (1-2*r1)*|[b,d]| by EUCLID:54;
        then (2*r2-2*r1)*(|[b,c]|)+((1-2*r2)*|[b,d]|-(1-2*r1)*|[b,d]|)
        = (1-2*r1)*|[b,d]|-(1-2*r1)*|[b,d]| by EUCLID:49;
        then (2*r2-2*r1)*(|[b,c]|)+((1-2*r2)*|[b,d]|-(1-2*r1)*|[b,d]|)
        = 0.TOP-REAL 2 by EUCLID:46;
        then (2*r2-2*r1)*(|[b,c]|)+((1-2*r2)-(1-2*r1))*|[b,d]|
        = 0.TOP-REAL 2 by EUCLID:54;
        then (2*r2-2*r1)*(|[b,c]|)+(-(2*r2-2*r1))*|[b,d]| = 0.TOP-REAL 2;
        then (2*r2-2*r1)*(|[b,c]|)+-((2*r2-2*r1)*|[b,d]|)
        = 0.TOP-REAL 2 by EUCLID:44;
        then (2*r2-2*r1)*(|[b,c]|)-((2*r2-2*r1)*|[b,d]|)
        = 0.TOP-REAL 2 by EUCLID:45;
        then (2*r2-2*r1)*((|[b,c]|)-(|[b,d]|)) = 0.TOP-REAL 2 by EUCLID:53;
        then (2*r2-2*r1)=0 or (|[b,c]|)-(|[b,d]|)=0.TOP-REAL 2 by EUCLID:35;
        then (2*r2-2*r1)=0 or |[b,c]|=|[b,d]| by EUCLID:47;
        then (2*r2-2*r1)=0 or d =|[b,c]|`2 by EUCLID:56;
        hence thesis by A2,EUCLID:56;
      end;
      case
A109:   x1 in [.0,1/2.] & x2 in [.1/2,1.];
        then
A110:   f3.r1=(1-2*r1)*|[b,d]|+(2*r1)*|[b,c]| by A32;
A111:   0<=r1 by A109,XXREAL_1:1;
        r1<=1/2 by A109,XXREAL_1:1;
        then r1*2<=1/2*2 by XREAL_1:66;
        then
A112:   f3.r1 in LSeg(|[b,d]|,|[b,c]|) by A110,A111;
A113:   f3.r2=(1-(2*r2-1))*|[b,c]|+(2*r2-1)*|[a,c]| by A35,A109;
A114:   1/2<=r2 by A109,XXREAL_1:1;
A115:   r2<=1 by A109,XXREAL_1:1;
        r2*2>=1/2*2 by A114,XREAL_1:66;
        then
A116:   2*r2-1>=0 by XREAL_1:50;
        2*1>=2*r2 by A115,XREAL_1:66;
        then 1+1-1>=2*r2-1 by XREAL_1:11;
then f3.r2 in { (1-lambda)*|[b,c]| + lambda*|[a,c]| where lambda is Real :
        0 <= lambda & lambda <= 1 } by A113,A116;
        then f3.r1 in LSeg(|[b,d]|,|[b,c]|) /\ LSeg(|[b,c]|,|[a,c]|)
        by A106,A112,XBOOLE_0:def 4;
        then
A117:   f3.r1= |[b,c]| by A107,TARSKI:def 1;
        then (1-2*r1)*|[b,d]|+(2*r1)*|[b,c]|+-(|[b,c]|)=0.TOP-REAL 2
        by A110,EUCLID:40;
        then (1-2*r1)*|[b,d]|+(2*r1)*|[b,c]|+(-1)*|[b,c]|=0.TOP-REAL 2
        by EUCLID:43;
        then (1-2*r1)*|[b,d]|+((2*r1)*|[b,c]|+(-1)*|[b,c]|)=0.TOP-REAL 2
        by EUCLID:30;
        then (1-2*r1)*|[b,d]|+((2*r1)+(-1))*|[b,c]|=0.TOP-REAL 2 by EUCLID:37;
        then (1-2*r1)*|[b,d]|+(-(1-(2*r1)))*|[b,c]|=0.TOP-REAL 2;
        then (1-2*r1)*|[b,d]|+-((1-(2*r1))*|[b,c]|)=0.TOP-REAL 2 by EUCLID:44;
        then (1-2*r1)*|[b,d]|-((1-(2*r1))*|[b,c]|)=0.TOP-REAL 2 by EUCLID:45;
        then (1-2*r1)*(|[b,d]|-(|[b,c]|))=0.TOP-REAL 2 by EUCLID:53;
        then 1-2*r1=0 or (|[b,d]|-(|[b,c]|))=0.TOP-REAL 2 by EUCLID:35;
        then 1-2*r1=0 or |[b,d]|=|[b,c]| by EUCLID:47;
        then
A118:   1-2*r1=0 or d =|[b,c]|`2 by EUCLID:56;
        (1-(2*r2-1))*|[b,c]|+(2*r2-1)*|[a,c]|+-(|[b,c]|)=0.TOP-REAL 2
        by A106,A113,A117,EUCLID:40;
        then
        (1-(2*r2-1))*|[b,c]|+((2*r2-1))*|[a,c]|+(-1)*|[b,c]|=0.TOP-REAL 2
        by EUCLID:43;
        then (2*r2-1) *|[a,c]|+((1-(2*r2-1))*|[b,c]|+(-1)*|[b,c]|)
        =0.TOP-REAL 2
        by EUCLID:30;
        then (2*r2-1) *|[a,c]|+((1-(2*r2-1))+(-1))*|[b,c]|=0.TOP-REAL 2
        by EUCLID:37;
        then (2*r2-1) *|[a,c]|+(-(2*r2-1))*|[b,c]|=0.TOP-REAL 2;
        then (2*r2-1) *|[a,c]|+-((2*r2-1)*|[b,c]|)=0.TOP-REAL 2 by EUCLID:44;
        then (2*r2-1) *|[a,c]|-((2*r2-1)*|[b,c]|)=0.TOP-REAL 2 by EUCLID:45;
        then (2*r2-1) *(|[a,c]|-(|[b,c]|))=0.TOP-REAL 2 by EUCLID:53;
        then (2*r2-1)=0 or (|[a,c]|-(|[b,c]|))=0.TOP-REAL 2 by EUCLID:35;
        then (2*r2-1)=0 or |[a,c]|=|[b,c]| by EUCLID:47;
        then (2*r2-1)=0 or a =|[b,c]|`1 by EUCLID:56;
        hence thesis by A1,A2,A118,EUCLID:56;
      end;
      case
A119:   x1 in [.1/2,1.] & x2 in [.0,1/2.];
        then
A120:   f3.r2=(1-2*r2)*|[b,d]|+(2*r2)*|[b,c]| by A32;
A121:   0<=r2 by A119,XXREAL_1:1;
        r2<=1/2 by A119,XXREAL_1:1;
        then r2*2<=1/2*2 by XREAL_1:66;
        then
A122:   f3.r2 in LSeg(|[b,d]|,|[b,c]|) by A120,A121;
A123:   f3.r1=(1-(2*r1-1))*|[b,c]|+(2*r1-1)*|[a,c]| by A35,A119;
A124:   1/2<=r1 by A119,XXREAL_1:1;
A125:   r1<=1 by A119,XXREAL_1:1;
        r1*2>=1/2*2 by A124,XREAL_1:66;
        then
A126:   2*r1-1>=0 by XREAL_1:50;
        2*1>=2*r1 by A125,XREAL_1:66;
        then 1+1-1>=2*r1-1 by XREAL_1:11;
then f3.r1 in { (1-lambda)*|[b,c]| + lambda*|[a,c]| where lambda is Real :
        0 <= lambda & lambda <= 1 } by A123,A126;
        then f3.r2 in LSeg(|[b,d]|,|[b,c]|) /\ LSeg(|[b,c]|,|[a,c]|)
        by A106,A122,XBOOLE_0:def 4;
        then
A127:   f3.r2= |[b,c]| by A107,TARSKI:def 1;
        then (1-2*r2)*|[b,d]|+(2*r2)*|[b,c]|+-(|[b,c]|)=0.TOP-REAL 2
        by A120,EUCLID:40;
        then (1-2*r2)*|[b,d]|+(2*r2)*|[b,c]|+(-1)*|[b,c]|=0.TOP-REAL 2
        by EUCLID:43;
        then (1-2*r2)*|[b,d]|+((2*r2)*|[b,c]|+(-1)*|[b,c]|)=0.TOP-REAL 2
        by EUCLID:30;
        then (1-2*r2)*|[b,d]|+((2*r2)+(-1))*|[b,c]|=0.TOP-REAL 2 by EUCLID:37;
        then (1-2*r2)*|[b,d]|+(-(1-(2*r2)))*|[b,c]|=0.TOP-REAL 2;
        then (1-2*r2)*|[b,d]|+-((1-(2*r2))*|[b,c]|)=0.TOP-REAL 2 by EUCLID:44;
        then (1-2*r2)*|[b,d]|-((1-(2*r2))*|[b,c]|)=0.TOP-REAL 2 by EUCLID:45;
        then (1-2*r2)*(|[b,d]|-(|[b,c]|))=0.TOP-REAL 2 by EUCLID:53;
        then 1-2*r2=0 or (|[b,d]|-(|[b,c]|))=0.TOP-REAL 2 by EUCLID:35;
        then 1-2*r2=0 or |[b,d]|=|[b,c]| by EUCLID:47;
        then
A128:   1-2*r2=0 or d =|[b,c]|`2 by EUCLID:56;
        (1-(2*r1-1))*|[b,c]|+(2*r1-1)*|[a,c]|+-(|[b,c]|)=0.TOP-REAL 2
        by A106,A123,A127,EUCLID:40;
        then
        (1-(2*r1-1))*|[b,c]|+((2*r1-1))*|[a,c]|+(-1)*|[b,c]|=0.TOP-REAL 2
        by EUCLID:43;
        then (2*r1-1) *|[a,c]|+((1-(2*r1-1))*|[b,c]|+(-1)*|[b,c]|)
        =0.TOP-REAL 2
        by EUCLID:30;
        then (2*r1-1) *|[a,c]|+((1-(2*r1-1))+(-1))*|[b,c]|=0.TOP-REAL 2
        by EUCLID:37;
        then (2*r1-1) *|[a,c]|+(-(2*r1-1))*|[b,c]|=0.TOP-REAL 2;
        then (2*r1-1) *|[a,c]|+-((2*r1-1)*|[b,c]|)=0.TOP-REAL 2 by EUCLID:44;
        then (2*r1-1) *|[a,c]|-((2*r1-1)*|[b,c]|)=0.TOP-REAL 2 by EUCLID:45;
        then (2*r1-1) *(|[a,c]|-(|[b,c]|))=0.TOP-REAL 2 by EUCLID:53;
        then (2*r1-1)=0 or (|[a,c]|-(|[b,c]|))=0.TOP-REAL 2 by EUCLID:35;
        then (2*r1-1)=0 or |[a,c]|=|[b,c]| by EUCLID:47;
        then (2*r1-1)=0 or a =|[b,c]|`1 by EUCLID:56;
        hence thesis by A1,A2,A128,EUCLID:56;
      end;
      case
A129:   x1 in [.1/2,1.] & x2 in [.1/2,1.];
        then f3.r1=(1-(2*r1-1))*|[b,c]|+((2*r1-1))*|[a,c]| by A35;
        then (1-(2*r2-1))*|[b,c]|+((2*r2-1))*|[a,c]|
        = (1-(2*r1-1))*|[b,c]|+((2*r1-1))*|[a,c]| by A35,A106,A129;
        then (1-(2*r2-1))*|[b,c]|+((2*r2-1))*|[a,c]| -((2*r1-1))*|[a,c]|
        = (1-(2*r1-1))*|[b,c]| by EUCLID:52;
        then (1-(2*r2-1))*|[b,c]|+(((2*r2-1))*|[a,c]| -((2*r1-1))*|[a,c]|)
        = (1-(2*r1-1))*|[b,c]| by EUCLID:49;
        then (1-(2*r2-1))*|[b,c]|+((2*r2-1)-(2*r1-1))*(|[a,c]|)
        = (1-(2*r1-1))*|[b,c]| by EUCLID:54;
        then ((2*r2-1)-(2*r1-1))*(|[a,c]|)
        +((1-(2*r2-1))*|[b,c]|-(1-(2*r1-1))*|[b,c]|)
        = (1-(2*r1-1))*|[b,c]|-(1-(2*r1-1))*|[b,c]| by EUCLID:49;
        then ((2*r2-1)-(2*r1-1))*(|[a,c]|)
        +((1-(2*r2-1))*|[b,c]|-(1-(2*r1-1))*|[b,c]|) = 0.TOP-REAL 2
        by EUCLID:46;
        then
        ((2*r2-1)-(2*r1-1))*(|[a,c]|)+((1-(2*r2-1))-(1-(2*r1-1)))*|[b,c]|
        = 0.TOP-REAL 2 by EUCLID:54;
        then ((2*r2-1)-(2*r1-1))*(|[a,c]|)+(-((2*r2-1)-(2*r1-1)))*|[b,c]|
        = 0.TOP-REAL 2;
        then ((2*r2-1)-(2*r1-1))*(|[a,c]|)+-(((2*r2-1)-(2*r1-1))*|[b,c]|)
        = 0.TOP-REAL 2 by EUCLID:44;
        then ((2*r2-1)-(2*r1-1))*(|[a,c]|)-(((2*r2-1)-(2*r1-1))*|[b,c]|)
        = 0.TOP-REAL 2 by EUCLID:45;
        then ((2*r2-1)-(2*r1-1))*((|[a,c]|)-(|[b,c]|))
        = 0.TOP-REAL 2 by EUCLID:53;
        then ((2*r2-1)-(2*r1-1))=0 or (|[a,c]|)-(|[b,c]|)=0.TOP-REAL 2
        by EUCLID:35;
        then ((2*r2-1)-(2*r1-1))=0 or |[a,c]|=|[b,c]| by EUCLID:47;
        then ((2*r2-1)-(2*r1-1))=0 or a =|[b,c]|`1 by EUCLID:56;
        hence thesis by A1,EUCLID:56;
      end;
    end;
    hence thesis;
  end;
  then
A130: f3 is one-to-one by FUNCT_1:def 8;
  [#]((TOP-REAL 2)|(Lower_Arc(K))) c= rng f3
  proof
    let y be set;
    assume y in [#]((TOP-REAL 2)|(Lower_Arc(K)));
    then
A131: y in Lower_Arc(K) by PRE_TOPC:def 10;
    then reconsider q=y as Point of TOP-REAL 2;
A132: Lower_Arc(K)=LSeg(|[b,d]|,|[b,c]|) \/ LSeg(|[b,c]|,|[a,c]|) by A1,A2,Th62
    ;
    now per cases by A131,A132,XBOOLE_0:def 3;
      case
A133:   q in LSeg(|[b,d]|,|[b,c]|);
        then
A134:   0<=((q`2)-d)/(c-d)/2 by A38;
A135:   ((q`2)-d)/(c-d)/2<=1 by A38,A133;
A136:   f3.(((q`2)-d)/(c-d)/2)=q by A38,A133;
        ((q`2)-d)/(c-d)/2 in [.0,1.] by A134,A135,XXREAL_1:1;
        hence thesis by A14,A136,FUNCT_1:def 5;
      end;
      case
A137:   q in LSeg(|[b,c]|,|[a,c]|);
        then
A138:   0<=((q`1)-b)/(a-b)/2+1/2 by A47;
A139:   ((q`1)-b)/(a-b)/2+1/2<=1 by A47,A137;
A140:   f3.(((q`1)-b)/(a-b)/2+1/2)=q by A47,A137;
        ((q`1)-b)/(a-b)/2+1/2 in [.0,1.] by A138,A139,XXREAL_1:1;
        hence thesis by A14,A140,FUNCT_1:def 5;
      end;
    end;
    hence thesis;
  end;
  then
A141: rng f3=[#]((TOP-REAL 2)|(Lower_Arc K)) by XBOOLE_0:def 10;
  I[01] is compact by HEINE:11,TOPMETR:27;
  then
A142: f3 is being_homeomorphism
  by A93,A102,A103,A130,A141,COMPTS_1:26,JGRAPH_1:63;
  rng f3=Lower_Arc(K) by A141,PRE_TOPC:def 10;
  hence thesis by A29,A31,A32,A35,A38,A47,A142;
end;

theorem Th65:
  for a,b,c,d being real number,p1,p2 being Point of TOP-REAL 2 st a<b & c <d
  & p1 in LSeg(|[a,c]|,|[a,d]|) & p2 in LSeg(|[a,c]|,|[a,d]|)
  holds LE p1,p2,rectangle(a,b,c,d) iff p1`2<=p2`2
proof
  let a,b,c,d be real number,p1,p2 be Point of TOP-REAL 2;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<b and
A2: c <d and
A3: p1 in LSeg(|[a,c]|,|[a,d]|) and
A4: p2 in LSeg(|[a,c]|,|[a,d]|);
A5: K is being_simple_closed_curve by A1,A2,Th60;
A6: p1`1=a by A2,A3,Th9;
A7: c <=p1`2 by A2,A3,Th9;
A8: p2`1=a by A2,A4,Th9;
A9: E-max(K)= |[b,d]| by A1,A2,Th56;
A10: Upper_Arc(K)=LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|) by A1,A2,Th61;
  then
A11: LSeg(|[a,c]|,|[a,d]|) c= Upper_Arc(K) by XBOOLE_1:7;
A12: Upper_Arc(K) /\ Lower_Arc(K)={W-min(K),E-max(K)} by A5,JORDAN6:def 9;
A13: now
    assume p2 in Lower_Arc(K);
    then
A14: p2 in Upper_Arc(K) /\ Lower_Arc(K) by A4,A11,XBOOLE_0:def 4;
    now
      assume p2=E-max(K);
      then p2`1=b by A9,EUCLID:56;
      hence contradiction by A1,A4,TOPREAL3:17;
    end;
    hence p2=W-min(K) by A12,A14,TARSKI:def 2;
  end;
  thus LE p1,p2,K implies p1`2<=p2`2
  proof
    assume LE p1,p2,K;
    then
A15: p1 in Upper_Arc(K) & p2 in Lower_Arc(K)& not p2=W-min(K) or
    p1 in Upper_Arc(K) & p2 in Upper_Arc(K) &
    LE p1,p2,Upper_Arc(K),W-min(K),E-max(K) or
    p1 in Lower_Arc(K) & p2 in Lower_Arc(K)& not p2=W-min(K) &
    LE p1,p2,Lower_Arc(K),E-max(K),W-min(K) by JORDAN6:def 10;
    consider f being Function of I[01],(TOP-REAL 2)|(Upper_Arc(K)) such that
A16: f is being_homeomorphism and
A17: f.0=W-min(K) and
A18: f.1=E-max(K) and rng f=Upper_Arc(K)
    and for r being Real st r in [.0,1/2.] holds f.r=(1-2*r)*|[a,c]|+(2*r)
    *|[a,d]|
    and for r being Real st r in [.1/2,1.] holds f.r=(1-(2*r-1))*|[a,d]|+(
    2*r-1)*|[b,d]| and
A19: for p being Point of TOP-REAL 2 st p in LSeg(|[a,c]|,|[a,d]|)
    holds 0<=((p`2)-c)/(d-c)/2 & ((p`2)-c)/(d-c)/2<=1 & f.(((p`2)-c)/(d-c)/2)=p
    and for p being Point of TOP-REAL 2 st p in LSeg(|[a,d]|,|[b,d]|)
holds 0<=((p`1)-a)/(b-a)/2+1/2 & ((p`1)-a)/(b-a)/2+1/2<=1 & f.(((p`1)-a)/(b-a)/
    2+1/2)=p
    by A1,A2,Th63;
    reconsider s1=((p1`2)-c)/(d-c)/2,s2=((p2`2)-c)/(d-c)/2 as Real;
A20: f.s1=p1 by A3,A19;
A21: f.s2=p2 by A4,A19;
A22: d-c >0 by A2,XREAL_1:52;
A23: s1<=1 by A3,A19;
A24: 0<=s2 by A4,A19;
    s2<=1 by A4,A19;
    then s1<=s2 by A13,A15,A16,A17,A18,A20,A21,A23,A24,JORDAN5C:def 3;
    then ((p1`2)-c)/(d-c)/2*2<=((p2`2)-c)/(d-c)/2*2 by XREAL_1:66;
    then ((p1`2)-c)/(d-c)*(d-c)<= ((p2`2)-c)/(d-c)*(d-c) by A22,XREAL_1:66;
    then ((p1`2)-c)<= ((p2`2)-c)/(d-c)*(d-c) by A22,XCMPLX_1:88;
    then ((p1`2)-c)<= ((p2`2)-c) by A22,XCMPLX_1:88;
    then ((p1`2)-c)+c <= ((p2`2)-c)+c by XREAL_1:9;
    hence thesis;
  end;
  thus p1`2<=p2`2 implies LE p1,p2,K
  proof
    assume
A25: p1`2<=p2`2;
    for g being Function of I[01], (TOP-REAL 2)|Upper_Arc(K),
    s1, s2 being Real st g is being_homeomorphism & g.0 = W-min(K) &
    g.1 = E-max(K)
    & g.s1 = p1 & 0 <= s1 & s1 <= 1 & g.s2 = p2 & 0 <= s2 & s2 <= 1
    holds s1 <= s2
    proof
      let g be Function of I[01], (TOP-REAL 2)|Upper_Arc(K), s1, s2 be Real;
      assume that
A26:  g is being_homeomorphism and
A27:  g.0 = W-min(K) and g.1 = E-max(K) and
A28:  g.s1 = p1 and
A29:  0 <= s1 and
A30:  s1 <= 1 and
A31:  g.s2 = p2 and
A32:  0 <= s2 and
A33:  s2 <= 1;
A34:  dom g=the carrier of I[01] by FUNCT_2:def 1;
A35:  g is one-to-one by A26,TOPS_2:def 5;
      A36:  the
 carrier of ((TOP-REAL 2)|Upper_Arc(K)) =Upper_Arc(K) by PRE_TOPC:29;
      then reconsider g1=g as Function of I[01],TOP-REAL 2 by FUNCT_2:9;
      g is continuous by A26,TOPS_2:def 5;
      then
A37:  g1 is continuous by PRE_TOPC:56;
      reconsider h1=proj1 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
      reconsider h2=proj2 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
      reconsider hh1=h1 as Function of the TopStruct of TOP-REAL 2,R^1;
      reconsider hh2=h2 as Function of the TopStruct of TOP-REAL 2,R^1;
A38:  the TopStruct of TOP-REAL 2
      = (the TopStruct of TOP-REAL 2)|([#](the TopStruct of TOP-REAL 2))
      by TSEP_1:3
        .= the TopStruct of ((TOP-REAL 2)|([#](TOP-REAL 2))) by PRE_TOPC:66
        .= (TOP-REAL 2)|([#](TOP-REAL 2));
      then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
      hh1.p=proj1.p) implies hh1 is continuous by JGRAPH_2:39;
      then
A39:  (for p being Point of (TOP-REAL 2)|([#]TOP-REAL 2)holds
      hh1.p=proj1.p) implies h1 is continuous by PRE_TOPC:62;
      (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
      hh2.p=proj2.p) implies hh2 is continuous by A38,JGRAPH_2:40;
      then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
      hh2.p=proj2.p) implies h2 is continuous by PRE_TOPC:62;
      then consider h being Function of TOP-REAL 2,R^1 such that
A40:  for p being Point of TOP-REAL 2, r1,r2 being real number st hh1.p=r1 &
      hh2.p=r2 holds h.p=r1+r2 and
A41:  h is continuous by A39,JGRAPH_2:29;
      reconsider k=h*g1 as Function of I[01],R^1;
A42:  W-min K=|[a,c]| by A1,A2,Th56;
      now
        assume
A43:    s1>s2;
A44:    dom g=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
        0 in [.0,1.] by XXREAL_1:1;
        then
A45:    k.0=h.(W-min(K)) by A27,A44,FUNCT_1:23
          .=h1.(W-min(K))+h2.(W-min(K)) by A40
          .=(W-min(K))`1+proj2.(W-min(K)) by PSCOMP_1:def 28
          .=(W-min(K))`1+(W-min(K))`2 by PSCOMP_1:def 29
          .=a+(W-min(K))`2 by A42,EUCLID:56
          .=a+c by A42,EUCLID:56;
        s1 in [.0,1.] by A29,A30,XXREAL_1:1;
        then
A46:    k.s1=h.p1 by A28,A44,FUNCT_1:23
          .=h1.p1+h2.p1 by A40
          .=p1`1+proj2.p1 by PSCOMP_1:def 28
          .=a+p1`2 by A6,PSCOMP_1:def 29;
A47:    s2 in [.0,1.] by A32,A33,XXREAL_1:1;
        then
A48:    k.s2=h.p2 by A31,A44,FUNCT_1:23
          .=h1.p2+h2.p2 by A40
          .=p2`1+proj2.p2 by PSCOMP_1:def 28
          .=a+p2`2 by A8,PSCOMP_1:def 29;
A49:    k.0<=k.s1 by A7,A45,A46,XREAL_1:9;
A50:    k.s1<=k.s2 by A25,A46,A48,XREAL_1:9;
A51:    0 in [.0,1.] by XXREAL_1:1;
        then
A52:    [.0,s2.] c= [.0,1.] by A47,XXREAL_2:def 12;
        reconsider B=[.0,s2.] as Subset of I[01] by A47,A51,BORSUK_1:83
,XXREAL_2:def 12;
A53:    B is connected by A32,A47,A51,BORSUK_1:83,BORSUK_4:49;
A54:    0 in B by A32,XXREAL_1:1;
A55:    s2 in B by A32,XXREAL_1:1;
A56:    k.0 is Real by XREAL_0:def 1;
A57:    k.s2 is Real by XREAL_0:def 1;
        k.s1 is Real by XREAL_0:def 1;
        then consider xc being Point of I[01] such that
A58:    xc in B and
A59:    k.xc =k.s1 by A37,A41,A49,A50,A53,A54,A55,A56,A57,TOPREAL5:11;
        xc in [.0,1.] by BORSUK_1:83;
        then reconsider rxc=xc as Real;
A60:    for x1,x2 being set st x1 in dom k & x2 in dom k &
        k.x1=k.x2 holds x1=x2
        proof
          let x1,x2 be set;
          assume that
A61:      x1 in dom k and
A62:      x2 in dom k and
A63:      k.x1=k.x2;
          reconsider r1=x1 as Point of I[01] by A61;
          reconsider r2=x2 as Point of I[01] by A62;
A64:      k.x1=h.(g1.x1) by A61,FUNCT_1:22
            .=h1.(g1.r1)+h2.(g1.r1) by A40
            .=(g1.r1)`1+proj2.(g1.r1) by PSCOMP_1:def 28
            .=(g1.r1)`1+(g1.r1)`2 by PSCOMP_1:def 29;
A65:      k.x2=h.(g1.x2) by A62,FUNCT_1:22
            .=h1.(g1.r2)+h2.(g1.r2) by A40
            .=(g1.r2)`1+proj2.(g1.r2) by PSCOMP_1:def 28
            .=(g1.r2)`1+(g1.r2)`2 by PSCOMP_1:def 29;
A66:      g.r1 in Upper_Arc(K) by A36;
A67:      g.r2 in Upper_Arc(K) by A36;
          reconsider gr1=g.r1 as Point of TOP-REAL 2 by A66;
          reconsider gr2=g.r2 as Point of TOP-REAL 2 by A67;
          now per cases by A10,A36,XBOOLE_0:def 3;
            case
              A68:          g
.r1 in LSeg(|[a,c]|,|[a,d]|) & g.r2 in LSeg(|[a,c]|,|[a,d]|);
              then
A69:          (gr1)`1=a by A2,Th9;
              (gr2)`1=a by A2,A68,Th9;
              then |[(gr1)`1,(gr1)`2]|=g.r2 by A63,A64,A65,A69,EUCLID:57;
              then g.r1=g.r2 by EUCLID:57;
              hence thesis by A34,A35,FUNCT_1:def 8;
            end;
            case
              A70:          g
.r1 in LSeg(|[a,c]|,|[a,d]|) & g.r2 in LSeg(|[a,d]|,|[b,d]|);
              then
A71:          (gr1)`1=a by A2,Th9;
A72:          (gr1)`2 <=d by A2,A70,Th9;
A73:          (gr2)`2=d by A1,A70,Th11;
A74:          a <=(gr2)`1 by A1,A70,Th11;
A75:          a+(gr1)`2=(gr2)`1 +d by A1,A63,A64,A65,A70,A71,Th11;
A76:          now
                assume a<>gr2`1;
                then a<gr2`1 by A74,XXREAL_0:1;
                hence contradiction by A72,A75,XREAL_1:10;
              end;
              now
                assume gr1`2<>d;
                then d>gr1`2 by A72,XXREAL_0:1;
                hence contradiction by A63,A64,A65,A71,A73,A74,XREAL_1:10;
              end;
              then |[(gr1)`1,(gr1)`2]|=g.r2 by A71,A73,A76,EUCLID:57;
              then g.r1=g.r2 by EUCLID:57;
              hence thesis by A34,A35,FUNCT_1:def 8;
            end;
            case
              A77:          g
.r1 in LSeg(|[a,d]|,|[b,d]|) & g.r2 in LSeg(|[a,c]|,|[a,d]|);
              then
A78:          (gr2)`1=a by A2,Th9;
A79:          (gr2)`2 <=d by A2,A77,Th9;
A80:          (gr1)`2=d by A1,A77,Th11;
A81:          a <=(gr1)`1 by A1,A77,Th11;
A82:          a+(gr2)`2=(gr1)`1 +d by A1,A63,A64,A65,A77,A78,Th11;
A83:          now
                assume a<>gr1`1;
                then a<gr1`1 by A81,XXREAL_0:1;
                hence contradiction by A79,A82,XREAL_1:10;
              end;
              now
                assume gr2`2<>d;
                then d>gr2`2 by A79,XXREAL_0:1;
                hence contradiction by A63,A64,A65,A78,A80,A81,XREAL_1:10;
              end;
              then |[(gr2)`1,(gr2)`2]|=g.r1 by A78,A80,A83,EUCLID:57;
              then g.r1=g.r2 by EUCLID:57;
              hence thesis by A34,A35,FUNCT_1:def 8;
            end;
            case
              A84:          g
.r1 in LSeg(|[a,d]|,|[b,d]|) & g.r2 in LSeg(|[a,d]|,|[b,d]|);
              then
A85:          (gr1)`2=d by A1,Th11;
              (gr2)`2=d by A1,A84,Th11;
              then |[(gr1)`1,(gr1)`2]|=g.r2 by A63,A64,A65,A85,EUCLID:57;
              then g.r1=g.r2 by EUCLID:57;
              hence thesis by A34,A35,FUNCT_1:def 8;
            end;
          end;
          hence thesis;
        end;
A86:    dom k=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
        then s1 in dom k by A29,A30,XXREAL_1:1;
        then rxc=s1 by A52,A58,A59,A60,A86;
        hence contradiction by A43,A58,XXREAL_1:1;
      end;
      hence thesis;
    end;
    then LE p1,p2,Upper_Arc(K),W-min(K),E-max(K) by A3,A4,A11,JORDAN5C:def 3;
    hence thesis by A3,A4,A11,JORDAN6:def 10;
  end;
end;

theorem Th66:
  for a,b,c,d being real number,p1,p2 being Point of TOP-REAL 2
  st a < b & c < d & p1 in LSeg(|[a,d]|,|[b,d]|) & p2 in LSeg(|[a,d]|,|[b,d]|)
  holds LE p1,p2,rectangle(a,b,c,d) iff p1`1<=p2`1
proof
  let a,b,c,d be real number,p1,p2 be Point of TOP-REAL 2;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<b and
A2: c <d and
A3: p1 in LSeg(|[a,d]|,|[b,d]|) and
A4: p2 in LSeg(|[a,d]|,|[b,d]|);
A5: K is being_simple_closed_curve by A1,A2,Th60;
A6: p1`2=d by A1,A3,Th11;
A7: a <=p1`1 by A1,A3,Th11;
A8: p1`1 <= b by A1,A3,Th11;
A9: p2`2=d by A1,A4,Th11;
A10: W-min(K)= |[a,c]| by A1,A2,Th56;
A11: E-max(K)= |[b,d]| by A1,A2,Th56;
A12: Upper_Arc(K)=LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|) by A1,A2,Th61;
  then
A13: LSeg(|[a,d]|,|[b,d]|) c= Upper_Arc(K) by XBOOLE_1:7;
A14: Upper_Arc(K) /\ Lower_Arc(K)={W-min(K),E-max(K)} by A5,JORDAN6:def 9;
A15: now
    assume p2 in Lower_Arc(K);
    then
A16: p2 in Upper_Arc(K) /\ Lower_Arc(K) by A4,A13,XBOOLE_0:def 4;
    now
      assume p2=W-min(K);
      then p2`2=c by A10,EUCLID:56;
      hence contradiction by A2,A4,TOPREAL3:18;
    end;
    hence p2=E-max(K) by A14,A16,TARSKI:def 2;
  end;
  thus LE p1,p2,K implies p1`1<=p2`1
  proof
    assume LE p1,p2,K;
    then
A17: p1 in Upper_Arc(K) & p2 in Lower_Arc(K)& not p2=W-min(K) or
    p1 in Upper_Arc(K) & p2 in Upper_Arc(K) &
    LE p1,p2,Upper_Arc(K),W-min(K),E-max(K) or
    p1 in Lower_Arc(K) & p2 in Lower_Arc(K)& not p2=W-min(K) &
    LE p1,p2,Lower_Arc(K),E-max(K),W-min(K) by JORDAN6:def 10;
    now per cases;
      case p2=E-max(K);
        hence thesis by A8,A11,EUCLID:56;
      end;
      case
A18:    p2<>E-max(K);
consider f being Function of I[01],(TOP-REAL 2)|(Upper_Arc(K)) such that
A19:    f is being_homeomorphism and
A20:    f.0=W-min(K) and
A21:    f.1=E-max(K) and rng f=Upper_Arc(K)
        and for r being Real st r in [.0,1/2.] holds f.r=(1-2*r)*|[a,c]|+(2*r)
        *|[a,d]|
        and for r being Real st r in [.1/2,1.] holds f.r=(1-(2*r-1))*|[a,d]|+(
        2*r-1)*|[b,d]|
        and for p being Point of TOP-REAL 2 st p in LSeg(|[a,c]|,|[a,d]|)
holds 0<=((p`2)-c)/(d-c)/2 & ((p`2)-c)/(d-c)/2<=1 & f.(((p`2)-c)/(d-c)/2)=p and
A22:    for p being Point of TOP-REAL 2 st p in LSeg(|[a,d]|,|[b,d]|)
holds 0<=((p`1)-a)/(b-a)/2+1/2 & ((p`1)-a)/(b-a)/2+1/2<=1 & f.(((p`1)-a)/(b-a)/
        2+1/2)=p
        by A1,A2,Th63;
        reconsider s1=((p1`1)-a)/(b-a)/2+1/2,s2=((p2`1)-a)/(b-a)/2+1/2 as
        Real;
A23:    f.s1=p1 by A3,A22;
A24:    f.s2=p2 by A4,A22;
A25:    b-a >0 by A1,XREAL_1:52;
A26:    s1<=1 by A3,A22;
A27:    0<=s2 by A4,A22;
        s2<=1 by A4,A22;
        then s1<=s2 by A15,A17,A18,A19,A20,A21,A23,A24,A26,A27,JORDAN5C:def 3;
        then ((p1`1)-a)/(b-a)/2<= ((p2`1)-a)/(b-a)/2 by XREAL_1:8;
        then ((p1`1)-a)/(b-a)/2*2<=((p2`1)-a)/(b-a)/2*2 by XREAL_1:66;
        then ((p1`1)-a)/(b-a)*(b-a)<= ((p2`1)-a)/(b-a)*(b-a) by A25,XREAL_1:66;
        then ((p1`1)-a)<= ((p2`1)-a)/(b-a)*(b-a) by A25,XCMPLX_1:88;
        then ((p1`1)-a)<= ((p2`1)-a) by A25,XCMPLX_1:88;
        then ((p1`1)-a)+a <= ((p2`1)-a)+a by XREAL_1:9;
        hence thesis;
      end;
    end;
    hence thesis;
  end;
  thus p1`1<=p2`1 implies LE p1,p2,K
  proof
    assume
A28: p1`1<=p2`1;
    for g being Function of I[01], (TOP-REAL 2)|Upper_Arc(K),
    s1, s2 being Real st g is being_homeomorphism & g.0 = W-min(K) &
    g.1 = E-max(K)
    & g.s1 = p1 & 0 <= s1 & s1 <= 1 & g.s2 = p2 & 0 <= s2 & s2 <= 1
    holds s1 <= s2
    proof
      let g be Function of I[01], (TOP-REAL 2)|Upper_Arc(K), s1, s2 be Real;
      assume that
A29:  g is being_homeomorphism and
A30:  g.0 = W-min(K) and g.1 = E-max(K) and
A31:  g.s1 = p1 and
A32:  0 <= s1 and
A33:  s1 <= 1 and
A34:  g.s2 = p2 and
A35:  0 <= s2 and
A36:  s2 <= 1;
A37:  dom g=the carrier of I[01] by FUNCT_2:def 1;
A38:  g is one-to-one by A29,TOPS_2:def 5;
      A39:  the
 carrier of ((TOP-REAL 2)|Upper_Arc(K)) =Upper_Arc(K) by PRE_TOPC:29;
      then reconsider g1=g as Function of I[01],TOP-REAL 2 by FUNCT_2:9;
      g is continuous by A29,TOPS_2:def 5;
      then
A40:  g1 is continuous by PRE_TOPC:56;
      reconsider h1=proj1 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
      reconsider h2=proj2 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
      reconsider hh1=h1 as Function of the TopStruct of TOP-REAL 2,R^1;
      reconsider hh2=h2 as Function of the TopStruct of TOP-REAL 2,R^1;
A41:  the TopStruct of TOP-REAL 2
      = (the TopStruct of TOP-REAL 2)|([#](the TopStruct of TOP-REAL 2))
      by TSEP_1:3
        .= the TopStruct of ((TOP-REAL 2)|([#](TOP-REAL 2))) by PRE_TOPC:66
        .= (TOP-REAL 2)|([#](TOP-REAL 2));
      then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
      hh1.p=proj1.p) implies hh1 is continuous by JGRAPH_2:39;
      then
A42:  (for p being Point of (TOP-REAL 2)|([#]TOP-REAL 2)holds
      hh1.p=proj1.p) implies h1 is continuous by PRE_TOPC:62;
      (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
      hh2.p=proj2.p) implies hh2 is continuous by A41,JGRAPH_2:40;
      then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
      hh2.p=proj2.p) implies h2 is continuous by PRE_TOPC:62;
      then consider h being Function of TOP-REAL 2,R^1 such that
A43:  for p being Point of TOP-REAL 2, r1,r2 being real number st h1.p=r1 &
      h2.p=r2 holds h.p=r1+r2 and
A44:  h is continuous by A42,JGRAPH_2:29;
      reconsider k=h*g1 as Function of I[01],R^1;
A45:  W-min K=|[a,c]| by A1,A2,Th56;
      now
        assume
A46:    s1>s2;
A47:    dom g=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
        0 in [.0,1.] by XXREAL_1:1;
        then
A48:    k.0=h.(W-min(K)) by A30,A47,FUNCT_1:23
          .=h1.(W-min(K))+h2.(W-min(K)) by A43
          .=(W-min(K))`1+proj2.(W-min(K)) by PSCOMP_1:def 28
          .=(W-min(K))`1+(W-min(K))`2 by PSCOMP_1:def 29
          .=(W-min(K))`1+c by A45,EUCLID:56
          .=a+c by A45,EUCLID:56;
        s1 in [.0,1.] by A32,A33,XXREAL_1:1;
        then
A49:    k.s1=h.p1 by A31,A47,FUNCT_1:23
          .=h1.p1+h2.p1 by A43
          .=p1`1+proj2.p1 by PSCOMP_1:def 28
          .=p1`1 +d by A6,PSCOMP_1:def 29;
A50:    s2 in [.0,1.] by A35,A36,XXREAL_1:1;
        then
A51:    k.s2=h.p2 by A34,A47,FUNCT_1:23
          .=h1.p2+h2.p2 by A43
          .=p2`1+proj2.p2 by PSCOMP_1:def 28
          .=p2`1 +d by A9,PSCOMP_1:def 29;
A52:    k.0<=k.s1 by A2,A7,A48,A49,XREAL_1:9;
A53:    k.s1<=k.s2 by A28,A49,A51,XREAL_1:9;
A54:    0 in [.0,1.] by XXREAL_1:1;
        then
A55:    [.0,s2.] c= [.0,1.] by A50,XXREAL_2:def 12;
        reconsider B=[.0,s2.] as Subset of I[01] by A50,A54,BORSUK_1:83
,XXREAL_2:def 12;
A56:    B is connected by A35,A50,A54,BORSUK_1:83,BORSUK_4:49;
A57:    0 in B by A35,XXREAL_1:1;
A58:    s2 in B by A35,XXREAL_1:1;
A59:    k.0 is Real by XREAL_0:def 1;
A60:    k.s2 is Real by XREAL_0:def 1;
        k.s1 is Real by XREAL_0:def 1;
        then consider xc being Point of I[01] such that
A61:    xc in B and
A62:    k.xc =k.s1 by A40,A44,A52,A53,A56,A57,A58,A59,A60,TOPREAL5:11;
        xc in [.0,1.] by BORSUK_1:83;
        then reconsider rxc=xc as Real;
A63:    for x1,x2 being set st x1 in dom k & x2 in dom k &
        k.x1=k.x2 holds x1=x2
        proof
          let x1,x2 be set;
          assume that
A64:      x1 in dom k and
A65:      x2 in dom k and
A66:      k.x1=k.x2;
          reconsider r1=x1 as Point of I[01] by A64;
          reconsider r2=x2 as Point of I[01] by A65;
A67:      k.x1=h.(g1.x1) by A64,FUNCT_1:22
            .=h1.(g1.r1)+h2.(g1.r1) by A43
            .=(g1.r1)`1+proj2.(g1.r1) by PSCOMP_1:def 28
            .=(g1.r1)`1+(g1.r1)`2 by PSCOMP_1:def 29;
A68:      k.x2=h.(g1.x2) by A65,FUNCT_1:22
            .=h1.(g1.r2)+h2.(g1.r2) by A43
            .=(g1.r2)`1+proj2.(g1.r2) by PSCOMP_1:def 28
            .=(g1.r2)`1+(g1.r2)`2 by PSCOMP_1:def 29;
A69:      g.r1 in Upper_Arc(K) by A39;
A70:      g.r2 in Upper_Arc(K) by A39;
          reconsider gr1=g.r1 as Point of TOP-REAL 2 by A69;
          reconsider gr2=g.r2 as Point of TOP-REAL 2 by A70;
          now per cases by A12,A39,XBOOLE_0:def 3;
            case
              A71:          g
.r1 in LSeg(|[a,c]|,|[a,d]|) & g.r2 in LSeg(|[a,c]|,|[a,d]|);
              then
A72:          (gr1)`1=a by A2,Th9;
              (gr2)`1=a by A2,A71,Th9;
              then |[(gr1)`1,(gr1)`2]|=g.r2 by A66,A67,A68,A72,EUCLID:57;
              then g.r1=g.r2 by EUCLID:57;
              hence thesis by A37,A38,FUNCT_1:def 8;
            end;
            case
              A73:          g
.r1 in LSeg(|[a,c]|,|[a,d]|) & g.r2 in LSeg(|[a,d]|,|[b,d]|);
              then
A74:          (gr1)`1=a by A2,Th9;
A75:          (gr1)`2 <=d by A2,A73,Th9;
A76:          (gr2)`2=d by A1,A73,Th11;
A77:          a <=(gr2)`1 by A1,A73,Th11;
A78:          a+(gr1)`2=(gr2)`1 +d by A1,A66,A67,A68,A73,A74,Th11;
A79:          now
                assume a<>gr2`1;
                then a<gr2`1 by A77,XXREAL_0:1;
                hence contradiction by A75,A78,XREAL_1:10;
              end;
              now
                assume gr1`2<>d;
                then d>gr1`2 by A75,XXREAL_0:1;
                hence contradiction by A66,A67,A68,A74,A76,A77,XREAL_1:10;
              end;
              then |[(gr1)`1,(gr1)`2]|=g.r2 by A74,A76,A79,EUCLID:57;
              then g.r1=g.r2 by EUCLID:57;
              hence thesis by A37,A38,FUNCT_1:def 8;
            end;
            case
              A80:          g
.r1 in LSeg(|[a,d]|,|[b,d]|) & g.r2 in LSeg(|[a,c]|,|[a,d]|);
              then
A81:          (gr2)`1=a by A2,Th9;
A82:          (gr2)`2 <=d by A2,A80,Th9;
A83:          (gr1)`2=d by A1,A80,Th11;
A84:          a <=(gr1)`1 by A1,A80,Th11;
A85:          a+(gr2)`2=(gr1)`1 +d by A1,A66,A67,A68,A80,A81,Th11;
A86:          now
                assume a<>gr1`1;
                then a<gr1`1 by A84,XXREAL_0:1;
                hence contradiction by A82,A85,XREAL_1:10;
              end;
              now
                assume gr2`2<>d;
                then d>gr2`2 by A82,XXREAL_0:1;
                hence contradiction by A66,A67,A68,A81,A83,A84,XREAL_1:10;
              end;
              then |[(gr2)`1,(gr2)`2]|=g.r1 by A81,A83,A86,EUCLID:57;
              then g.r1=g.r2 by EUCLID:57;
              hence thesis by A37,A38,FUNCT_1:def 8;
            end;
            case
              A87:          g
.r1 in LSeg(|[a,d]|,|[b,d]|) & g.r2 in LSeg(|[a,d]|,|[b,d]|);
              then
A88:          (gr1)`2=d by A1,Th11;
              (gr2)`2=d by A1,A87,Th11;
              then |[(gr1)`1,(gr1)`2]|=g.r2 by A66,A67,A68,A88,EUCLID:57;
              then g.r1=g.r2 by EUCLID:57;
              hence thesis by A37,A38,FUNCT_1:def 8;
            end;
          end;
          hence thesis;
        end;
A89:    dom k=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
        then s1 in dom k by A32,A33,XXREAL_1:1;
        then rxc=s1 by A55,A61,A62,A63,A89;
        hence contradiction by A46,A61,XXREAL_1:1;
      end;
      hence thesis;
    end;
    then LE p1,p2,Upper_Arc(K),W-min(K),E-max(K) by A3,A4,A13,JORDAN5C:def 3;
    hence thesis by A3,A4,A13,JORDAN6:def 10;
  end;
end;

theorem Th67:
  for a,b,c,d being real number,p1,p2 being Point of TOP-REAL 2 st a<b & c <d
  & p1 in LSeg(|[b,c]|,|[b,d]|) & p2 in LSeg(|[b,c]|,|[b,d]|)
  holds LE p1,p2,rectangle(a,b,c,d) iff p1`2>=p2`2
proof
  let a,b,c,d be real number,p1,p2 be Point of TOP-REAL 2;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<b and
A2: c <d and
A3: p1 in LSeg(|[b,c]|,|[b,d]|) and
A4: p2 in LSeg(|[b,c]|,|[b,d]|);
A5: K is being_simple_closed_curve by A1,A2,Th60;
A6: p1`1=b by A2,A3,Th9;
A7: p1`2 <= d by A2,A3,Th9;
A8: p2`1=b by A2,A4,Th9;
A9: p2`2 <= d by A2,A4,Th9;
A10: W-min(K)= |[a,c]| by A1,A2,Th56;
A11: E-max(K)= |[b,d]| by A1,A2,Th56;
A12: Lower_Arc(K)=LSeg(|[b,d]|,|[b,c]|) \/ LSeg(|[b,c]|,|[a,c]|) by A1,A2,Th62;
  then
A13: LSeg(|[b,d]|,|[b,c]|) c= Lower_Arc(K) by XBOOLE_1:7;
A14: Upper_Arc(K) /\ Lower_Arc(K)={W-min(K),E-max(K)} by A5,JORDAN6:def 9;
A15: now
    assume p1 in Upper_Arc(K);
    then
A16: p1 in Upper_Arc(K) /\ Lower_Arc(K) by A3,A13,XBOOLE_0:def 4;
    now
      assume p1=W-min(K);
      then p1`1=a by A10,EUCLID:56;
      hence contradiction by A1,A3,TOPREAL3:17;
    end;
    hence p1=E-max(K) by A14,A16,TARSKI:def 2;
  end;
  thus LE p1,p2,K implies p1`2>=p2`2
  proof
    assume LE p1,p2,K;
    then
A17: p1 in Upper_Arc(K) & p2 in Lower_Arc(K)& not p2=W-min(K) or
    p1 in Upper_Arc(K) & p2 in Upper_Arc(K) &
    LE p1,p2,Upper_Arc(K),W-min(K),E-max(K) or
    p1 in Lower_Arc(K) & p2 in Lower_Arc(K)& not p2=W-min(K) &
    LE p1,p2,Lower_Arc(K),E-max(K),W-min(K) by JORDAN6:def 10;
    now per cases;
      case p1=E-max(K);
        hence thesis by A9,A11,EUCLID:56;
      end;
      case
A18:    p1<>E-max(K);
consider f being Function of I[01],(TOP-REAL 2)|(Lower_Arc(K)) such that
A19:    f is being_homeomorphism and
A20:    f.0=E-max(K) and
A21:    f.1=W-min(K) and rng f=Lower_Arc(K)
        and for r being Real st r in [.0,1/2.] holds f.r=(1-2*r)*|[b,d]|+(2*r)
        *|[b,c]|
        and for r being Real st r in [.1/2,1.] holds f.r=(1-(2*r-1))*|[b,c]|+(
        2*r-1)*|[a,c]| and
A22:    for p being Point of TOP-REAL 2 st p in LSeg(|[b,d]|,|[b,c]|)
holds 0<=((p`2)-d)/(c-d)/2 & ((p`2)-d)/(c-d)/2<=1 & f.(((p`2)-d)/(c-d)/2)=p
        and for p being Point of TOP-REAL 2 st p in LSeg(|[b,c]|,|[a,c]|)
holds 0<=((p`1)-b)/(a-b)/2+1/2 & ((p`1)-b)/(a-b)/2+1/2<=1 & f.(((p`1)-b)/(a-b)/
        2+1/2)=p
        by A1,A2,Th64;
        reconsider s1=((p1`2)-d)/(c-d)/2,s2=((p2`2)-d)/(c-d)/2 as Real;
A23:    f.s1=p1 by A3,A22;
A24:    f.s2=p2 by A4,A22;
        d-c>0 by A2,XREAL_1:52;
        then
A25:    -(d-c)< -0 by XREAL_1:26;
A26:    s1<=1 by A3,A22;
A27:    0<=s2 by A4,A22;
        s2<=1 by A4,A22;
        then s1<=s2 by A15,A17,A18,A19,A20,A21,A23,A24,A26,A27,JORDAN5C:def 3;
        then ((p1`2)-d)/(c-d)/2*2<=((p2`2)-d)/(c-d)/2*2 by XREAL_1:66;
        then ((p1`2)-d)/(c-d)*(c-d)>= ((p2`2)-d)/(c-d)*(c-d) by A25,XREAL_1:67;
        then ((p1`2)-d)>= ((p2`2)-d)/(c-d)*(c-d) by A25,XCMPLX_1:88;
        then ((p1`2)-d)>= ((p2`2)-d) by A25,XCMPLX_1:88;
        then ((p1`2)-d)+d >= ((p2`2)-d)+d by XREAL_1:9;
        hence thesis;
      end;
    end;
    hence thesis;
  end;
  thus p1`2>=p2`2 implies LE p1,p2,K
  proof
    assume
A28: p1`2>=p2`2;
    now per cases;
      case p2=W-min (K);
        then p2=|[a,c]| by A1,A2,Th56;
        hence contradiction by A1,A8,EUCLID:56;
      end;
      case
A29:    p2<>W-min(K);
        for g being Function of I[01], (TOP-REAL 2)|Lower_Arc(K),
        s1, s2 being Real st g is being_homeomorphism
        & g.0 = E-max(K) & g.1 = W-min(K) & g.s1 = p1 & 0 <= s1 & s1 <= 1
        & g.s2 = p2 & 0 <= s2 & s2 <= 1 holds s1 <= s2
        proof
          let g be Function of I[01], (TOP-REAL 2)|Lower_Arc(K),
          s1, s2 be Real;
          assume that
A30:      g is being_homeomorphism and
A31:      g.0 = E-max(K) and g.1 = W-min(K) and
A32:      g.s1 = p1 and
A33:      0 <= s1 and
A34:      s1 <= 1 and
A35:      g.s2 = p2 and
A36:      0 <= s2 and
A37:      s2 <= 1;
A38:      dom g=the carrier of I[01] by FUNCT_2:def 1;
A39:      g is one-to-one by A30,TOPS_2:def 5;
A40:      the carrier of ((TOP-REAL 2)|Lower_Arc(K))
          =Lower_Arc(K) by PRE_TOPC:29;
          then reconsider g1=g as Function of I[01],TOP-REAL 2 by FUNCT_2:9;
          g is continuous by A30,TOPS_2:def 5;
          then
A41:      g1 is continuous by PRE_TOPC:56;
          reconsider h1=proj1 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
          reconsider h2=proj2 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
          reconsider hh1=h1 as Function of the TopStruct of TOP-REAL 2,R^1;
          reconsider hh2=h2 as Function of the TopStruct of TOP-REAL 2,R^1;
A42:      the TopStruct of TOP-REAL 2
          = (the TopStruct of TOP-REAL 2)|([#](the TopStruct of TOP-REAL 2))
          by TSEP_1:3
            .= the TopStruct of ((TOP-REAL 2)|([#](TOP-REAL 2))) by PRE_TOPC:66
            .= (TOP-REAL 2)|([#](TOP-REAL 2));
          then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh1.p=proj1.p) implies hh1 is continuous by JGRAPH_2:39;
          then
A43:      (for p being Point of (TOP-REAL 2)|([#]TOP-REAL 2)holds
          hh1.p=proj1.p) implies h1 is continuous by PRE_TOPC:62;
          (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh2.p=proj2.p) implies hh2 is continuous by A42,JGRAPH_2:40;
          then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh2.p=proj2.p) implies h2 is continuous by PRE_TOPC:62;
          then consider h being Function of TOP-REAL 2,R^1 such that
A44:      for p being Point of TOP-REAL 2, r1,r2 being real number st h1.p=r1 &
          h2.p=r2 holds h.p=r1+r2 and
A45:      h is continuous by A43,JGRAPH_2:29;
          reconsider k=h*g1 as Function of I[01],R^1;
A46:      E-max K=|[b,d]| by A1,A2,Th56;
          now
            assume
A47:        s1>s2;
A48:        dom g=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
            0 in [.0,1.] by XXREAL_1:1;
            then
A49:        k.0=h.(E-max(K)) by A31,A48,FUNCT_1:23
              .=h1.(E-max(K))+h2.(E-max(K)) by A44
              .=(E-max(K))`1+proj2.(E-max(K)) by PSCOMP_1:def 28
              .=(E-max(K))`1+(E-max(K))`2 by PSCOMP_1:def 29
              .=b+(E-max(K))`2 by A46,EUCLID:56
              .=b+d by A46,EUCLID:56;
            s1 in [.0,1.] by A33,A34,XXREAL_1:1;
            then
A50:        k.s1=h.p1 by A32,A48,FUNCT_1:23
              .=h1.p1+h2.p1 by A44
              .=p1`1+proj2.p1 by PSCOMP_1:def 28
              .=b+p1`2 by A6,PSCOMP_1:def 29;
A51:        s2 in [.0,1.] by A36,A37,XXREAL_1:1;
            then
A52:        k.s2=h.p2 by A35,A48,FUNCT_1:23
              .=proj1.p2 +proj2.p2 by A44
              .=p2`1+proj2.p2 by PSCOMP_1:def 28
              .=b+p2`2 by A8,PSCOMP_1:def 29;
A53:        k.0>=k.s1 by A7,A49,A50,XREAL_1:9;
A54:        k.s1>=k.s2 by A28,A50,A52,XREAL_1:9;
A55:        0 in [.0,1.] by XXREAL_1:1;
            then
A56:        [.0,s2.] c= [.0,1.] by A51,XXREAL_2:def 12;
            reconsider B=[.0,s2.] as Subset of I[01] by A51,A55,BORSUK_1:83
,XXREAL_2:def 12;
A57:        B is connected by A36,A51,A55,BORSUK_1:83,BORSUK_4:49;
A58:        0 in B by A36,XXREAL_1:1;
A59:        s2 in B by A36,XXREAL_1:1;
A60:        k.0 is Real by XREAL_0:def 1;
A61:        k.s2 is Real by XREAL_0:def 1;
            k.s1 is Real by XREAL_0:def 1;
            then consider xc being Point of I[01] such that
A62:        xc in B and
A63:        k.xc =k.s1 by A41,A45,A53,A54,A57,A58,A59,A60,A61,TOPREAL5:11;
            xc in [.0,1.] by BORSUK_1:83;
            then reconsider rxc=xc as Real;
A64:        for x1,x2 being set st x1 in dom k & x2 in dom k &
            k.x1=k.x2 holds x1=x2
            proof
              let x1,x2 be set;
              assume that
A65:          x1 in dom k and
A66:          x2 in dom k and
A67:          k.x1=k.x2;
              reconsider r1=x1 as Point of I[01] by A65;
              reconsider r2=x2 as Point of I[01] by A66;
A68:          k.x1=h.(g1.x1) by A65,FUNCT_1:22
                .=h1.(g1.r1)+h2.(g1.r1) by A44
                .=(g1.r1)`1+proj2.(g1.r1) by PSCOMP_1:def 28
                .=(g1.r1)`1+(g1.r1)`2 by PSCOMP_1:def 29;
A69:          k.x2=h.(g1.x2) by A66,FUNCT_1:22
                .=h1.(g1.r2)+h2.(g1.r2) by A44
                .=(g1.r2)`1+proj2.(g1.r2) by PSCOMP_1:def 28
                .=(g1.r2)`1+(g1.r2)`2 by PSCOMP_1:def 29;
A70:          g.r1 in Lower_Arc(K) by A40;
A71:          g.r2 in Lower_Arc(K) by A40;
              reconsider gr1=g.r1 as Point of TOP-REAL 2 by A70;
              reconsider gr2=g.r2 as Point of TOP-REAL 2 by A71;
              now per cases by A12,A40,XBOOLE_0:def 3;
                case
A72:              g.r1 in LSeg(|[b,c]|,|[b,d]|) &
                  g.r2 in LSeg(|[b,c]|,|[b,d]|);
                  then
A73:              (gr1)`1=b by A2,Th9;
                  (gr2)`1=b by A2,A72,Th9;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A67,A68,A69,A73,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A38,A39,FUNCT_1:def 8;
                end;
                case
A74:              g.r1 in LSeg(|[b,c]|,|[b,d]|) &
                  g.r2 in LSeg(|[b,c]|,|[a,c]|);
                  then
A75:              (gr1)`1=b by A2,Th9;
A76:              c <=(gr1)`2 by A2,A74,Th9;
A77:              (gr2)`2=c by A1,A74,Th11;
A78:              (gr2)`1 <=b by A1,A74,Th11;
A79:              b+(gr1)`2=(gr2)`1 +c by A1,A67,A68,A69,A74,A75,Th11;
A80:              now
                    assume b<>gr2`1;
                    then b>gr2`1 by A78,XXREAL_0:1;
                    hence contradiction by A76,A79,XREAL_1:10;
                  end;
                  now
                    assume gr1`2<>c;
                    then c <gr1`2 by A76,XXREAL_0:1;
                    hence contradiction by A67,A68,A69,A75,A77,A78,XREAL_1:10;
                  end;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A75,A77,A80,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A38,A39,FUNCT_1:def 8;
                end;
                case
A81:              g.r1 in LSeg(|[b,c]|,|[a,c]|) &
                  g.r2 in LSeg(|[b,c]|,|[b,d]|);
                  then
A82:              (gr2)`1=b by A2,Th9;
A83:              c <=(gr2)`2 by A2,A81,Th9;
A84:              (gr1)`2=c by A1,A81,Th11;
A85:              (gr1)`1 <=b by A1,A81,Th11;
A86:              b+(gr2)`2=(gr1)`1 +c by A1,A67,A68,A69,A81,A82,Th11;
A87:              now
                    assume b<>gr1`1;
                    then b> gr1`1 by A85,XXREAL_0:1;
                    hence contradiction by A83,A86,XREAL_1:10;
                  end;
                  now
                    assume gr2`2<> c;
                    then c <gr2`2 by A83,XXREAL_0:1;
                    hence contradiction by A67,A68,A69,A82,A84,A85,XREAL_1:10;
                  end;
                  then |[(gr2)`1,(gr2)`2]|=g.r1 by A82,A84,A87,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A38,A39,FUNCT_1:def 8;
                end;
                case
A88:              g.r1 in LSeg(|[b,c]|,|[a,c]|) &
                  g.r2 in LSeg(|[b,c]|,|[a,c]|);
                  then
A89:              (gr1)`2=c by A1,Th11;
                  (gr2)`2=c by A1,A88,Th11;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A67,A68,A69,A89,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A38,A39,FUNCT_1:def 8;
                end;
              end;
              hence thesis;
            end;
A90:        dom k=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
            then s1 in dom k by A33,A34,XXREAL_1:1;
            then rxc=s1 by A56,A62,A63,A64,A90;
            hence contradiction by A47,A62,XXREAL_1:1;
          end;
          hence thesis;
        end;
        then LE p1,p2,Lower_Arc(K),E-max(K),W-min(K) by A3,A4,A13,
JORDAN5C:def 3;
        hence thesis by A3,A4,A13,A29,JORDAN6:def 10;
      end;
    end;
    hence thesis;
  end;
end;

theorem Th68:
  for a,b,c,d being real number,p1,p2 being Point of TOP-REAL 2 st a<b & c <d
  & p1 in LSeg(|[a,c]|,|[b,c]|) & p2 in LSeg(|[a,c]|,|[b,c]|)
  holds LE p1,p2,rectangle(a,b,c,d) &
  p1<>W-min rectangle(a,b,c,d) iff p1`1>=p2`1 & p2<>W-min rectangle(a,b,c,d)
proof
  let a,b,c,d be real number,p1,p2 be Point of TOP-REAL 2;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<b and
A2: c <d and
A3: p1 in LSeg(|[a,c]|,|[b,c]|) and
A4: p2 in LSeg(|[a,c]|,|[b,c]|);
A5: K is being_simple_closed_curve by A1,A2,Th60;
A6: p1`2=c by A1,A3,Th11;
A7: p1`1 <= b by A1,A3,Th11;
A8: p2`2=c by A1,A4,Th11;
A9: a <=p2`1 by A1,A4,Th11;
A10: W-min(K)= |[a,c]| by A1,A2,Th56;
A11: E-max(K)= |[b,d]| by A1,A2,Th56;
A12: Lower_Arc(K)=LSeg(|[b,d]|,|[b,c]|) \/ LSeg(|[b,c]|,|[a,c]|) by A1,A2,Th62;
  then
A13: LSeg(|[b,c]|,|[a,c]|) c= Lower_Arc(K) by XBOOLE_1:7;
  then
A14: p1 in Lower_Arc(K) by A3;
A15: Lower_Arc(K) c= K by A5,JORDAN6:76;
A16: Upper_Arc(K) /\ Lower_Arc(K)={W-min(K),E-max(K)} by A5,JORDAN6:def 9;
A17: now
    assume p1 in Upper_Arc(K);
    then p1 in Upper_Arc(K) /\ Lower_Arc(K) by A3,A13,XBOOLE_0:def 4;
    then p1=W-min(K) or p1=E-max(K) by A16,TARSKI:def 2;
    hence p1=W-min(K) by A2,A6,A11,EUCLID:56;
  end;
  thus LE p1,p2,K & p1<>W-min(K) implies p1`1>=p2`1 & p2<>W-min(K)
  proof
    assume that
A18: LE p1,p2,K and
A19: p1<>W-min(K);
A20: p1 in Upper_Arc(K) & p2 in Lower_Arc(K)& not p2=W-min(K) or
    p1 in Upper_Arc(K) & p2 in Upper_Arc(K) &
    LE p1,p2,Upper_Arc(K),W-min(K),E-max(K) or
    p1 in Lower_Arc(K) & p2 in Lower_Arc(K)& not p2=W-min(K) &
    LE p1,p2,Lower_Arc(K),E-max(K),W-min(K) by A18,JORDAN6:def 10;
    consider f being Function of I[01],(TOP-REAL 2)|(Lower_Arc(K)) such that
A21: f is being_homeomorphism and
A22: f.0=E-max(K) and
A23: f.1=W-min(K) and rng f=Lower_Arc(K)
    and for r being Real st r in [.0,1/2.] holds f.r=(1-2*r)*|[b,d]|+(2*r)
    *|[b,c]|
    and for r being Real st r in [.1/2,1.] holds f.r=(1-(2*r-1))*|[b,c]|+(
    2*r-1)*|[a,c]|
    and for p being Point of TOP-REAL 2 st p in LSeg(|[b,d]|,|[b,c]|)
    holds 0<=((p`2)-d)/(c-d)/2 & ((p`2)-d)/(c-d)/2<=1 & f.(((p`2)-d)/(c-d)/2)=p
    and
A24: for p being Point of TOP-REAL 2 st p in LSeg(|[b,c]|,|[a,c]|)
holds 0<=((p`1)-b)/(a-b)/2+1/2 & ((p`1)-b)/(a-b)/2+1/2<=1 & f.(((p`1)-b)/(a-b)/
    2+1/2)=p
    by A1,A2,Th64;
    reconsider s1=((p1`1)-b)/(a-b)/2+1/2,s2=((p2`1)-b)/(a-b)/2+1/2 as Real;
A25: f.s1=p1 by A3,A24;
A26: f.s2=p2 by A4,A24;
    b-a>0 by A1,XREAL_1:52;
    then
A27: -(b-a)< -0 by XREAL_1:26;
A28: s1<=1 by A3,A24;
A29: 0<=s2 by A4,A24;
    s2<=1 by A4,A24;
    then s1<=s2 by A17,A19,A20,A21,A22,A23,A25,A26,A28,A29,JORDAN5C:def 3;
    then ((p1`1)-b)/(a-b)/2<= ((p2`1)-b)/(a-b)/2 by XREAL_1:8;
    then ((p1`1)-b)/(a-b)/2*2<=((p2`1)-b)/(a-b)/2*2 by XREAL_1:66;
    then ((p1`1)-b)/(a-b)*(a-b)>= ((p2`1)-b)/(a-b)*(a-b) by A27,XREAL_1:67;
    then ((p1`1)-b)>= ((p2`1)-b)/(a-b)*(a-b) by A27,XCMPLX_1:88;
    then ((p1`1)-b)>= ((p2`1)-b) by A27,XCMPLX_1:88;
    then ((p1`1)-b)+b >= ((p2`1)-b)+b by XREAL_1:9;
    hence p1`1>=p2`1;
    now
      assume
A30:  p2=W-min(K);
      then LE p2,p1,K by A5,A14,A15,JORDAN7:3;
      hence contradiction by A1,A2,A18,A19,A30,Th60,JORDAN6:72;
    end;
    hence thesis;
  end;
  thus p1`1>=p2`1 & p2<>W-min(K) implies LE p1,p2,K & p1<>W-min(K)
  proof
    assume that
A31: p1`1>=p2`1 and
A32: p2<>W-min(K);
A33: for g being Function of I[01], (TOP-REAL 2)|Lower_Arc(K),
    s1, s2 being Real st g is being_homeomorphism & g.0 = E-max(K) &
    g.1 = W-min(K)
    & g.s1 = p1 & 0 <= s1 & s1 <= 1 & g.s2 = p2 & 0 <= s2 & s2 <= 1
    holds s1 <= s2
    proof
      let g be Function of I[01], (TOP-REAL 2)|Lower_Arc(K), s1, s2 be Real;
      assume that
A34:  g is being_homeomorphism and
A35:  g.0 = E-max(K) and g.1 = W-min(K) and
A36:  g.s1 = p1 and
A37:  0 <= s1 and
A38:  s1 <= 1 and
A39:  g.s2 = p2 and
A40:  0 <= s2 and
A41:  s2 <= 1;
A42:  dom g=the carrier of I[01] by FUNCT_2:def 1;
A43:  g is one-to-one by A34,TOPS_2:def 5;
      A44:  the
 carrier of ((TOP-REAL 2)|Lower_Arc(K)) =Lower_Arc(K) by PRE_TOPC:29;
      then reconsider g1=g as Function of I[01],TOP-REAL 2 by FUNCT_2:9;
      g is continuous by A34,TOPS_2:def 5;
      then
A45:  g1 is continuous by PRE_TOPC:56;
      reconsider h1=proj1 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
      reconsider h2=proj2 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
      reconsider hh1=h1 as Function of the TopStruct of TOP-REAL 2,R^1;
      reconsider hh2=h2 as Function of the TopStruct of TOP-REAL 2,R^1;
A46:  the TopStruct of TOP-REAL 2
      = (the TopStruct of TOP-REAL 2)|([#](the TopStruct of TOP-REAL 2))
      by TSEP_1:3
        .= the TopStruct of ((TOP-REAL 2)|([#](TOP-REAL 2))) by PRE_TOPC:66
        .= (TOP-REAL 2)|([#](TOP-REAL 2));
      then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
      hh1.p=proj1.p) implies hh1 is continuous by JGRAPH_2:39;
      then
A47:  (for p being Point of (TOP-REAL 2)|([#]TOP-REAL 2)holds
      hh1.p=proj1.p) implies h1 is continuous by PRE_TOPC:62;
      (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
      hh2.p=proj2.p) implies hh2 is continuous by A46,JGRAPH_2:40;
      then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
      hh2.p=proj2.p) implies h2 is continuous by PRE_TOPC:62;
      then consider h being Function of TOP-REAL 2,R^1 such that
A48:  for p being Point of TOP-REAL 2, r1,r2 being real number st h1.p=r1 &
      h2.p=r2 holds h.p=r1+r2 and
A49:  h is continuous by A47,JGRAPH_2:29;
      reconsider k=h*g1 as Function of I[01],R^1;
A50:  E-max K=|[b,d]| by A1,A2,Th56;
      now
        assume
A51:    s1>s2;
A52:    dom g=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
        0 in [.0,1.] by XXREAL_1:1;
        then
A53:    k.0=h.(E-max(K)) by A35,A52,FUNCT_1:23
          .=h1.(E-max(K))+h2.(E-max(K)) by A48
          .=(E-max(K))`1+proj2.(E-max(K)) by PSCOMP_1:def 28
          .=(E-max(K))`1+(E-max(K))`2 by PSCOMP_1:def 29
          .=(E-max(K))`1+d by A50,EUCLID:56
          .=b+d by A50,EUCLID:56;
        s1 in [.0,1.] by A37,A38,XXREAL_1:1;
        then
A54:    k.s1=h.p1 by A36,A52,FUNCT_1:23
          .=proj1.p1 +proj2.p1 by A48
          .=p1`1+proj2.p1 by PSCOMP_1:def 28
          .=p1`1 +c by A6,PSCOMP_1:def 29;
A55:    s2 in [.0,1.] by A40,A41,XXREAL_1:1;
        then
A56:    k.s2=h.p2 by A39,A52,FUNCT_1:23
          .=h1.p2+h2.p2 by A48
          .=p2`1+proj2.p2 by PSCOMP_1:def 28
          .=p2`1 +c by A8,PSCOMP_1:def 29;
A57:    k.0>=k.s1 by A2,A7,A53,A54,XREAL_1:9;
A58:    k.s1>=k.s2 by A31,A54,A56,XREAL_1:9;
A59:    0 in [.0,1.] by XXREAL_1:1;
        then
A60:    [.0,s2.] c= [.0,1.] by A55,XXREAL_2:def 12;
        reconsider B=[.0,s2.] as Subset of I[01] by A55,A59,BORSUK_1:83
,XXREAL_2:def 12;
A61:    B is connected by A40,A55,A59,BORSUK_1:83,BORSUK_4:49;
A62:    0 in B by A40,XXREAL_1:1;
A63:    s2 in B by A40,XXREAL_1:1;
A64:    k.0 is Real by XREAL_0:def 1;
A65:    k.s2 is Real by XREAL_0:def 1;
        k.s1 is Real by XREAL_0:def 1;
        then consider xc being Point of I[01] such that
A66:    xc in B and
A67:    k.xc =k.s1 by A45,A49,A57,A58,A61,A62,A63,A64,A65,TOPREAL5:11;
        xc in [.0,1.] by BORSUK_1:83;
        then reconsider rxc=xc as Real;
A68:    for x1,x2 being set st x1 in dom k & x2 in dom k &
        k.x1=k.x2 holds x1=x2
        proof
          let x1,x2 be set;
          assume that
A69:      x1 in dom k and
A70:      x2 in dom k and
A71:      k.x1=k.x2;
          reconsider r1=x1 as Point of I[01] by A69;
          reconsider r2=x2 as Point of I[01] by A70;
A72:      k.x1=h.(g1.x1) by A69,FUNCT_1:22
            .=h1.(g1.r1)+h2.(g1.r1) by A48
            .=(g1.r1)`1+proj2.(g1.r1) by PSCOMP_1:def 28
            .=(g1.r1)`1+(g1.r1)`2 by PSCOMP_1:def 29;
A73:      k.x2=h.(g1.x2) by A70,FUNCT_1:22
            .=h1.(g1.r2)+h2.(g1.r2) by A48
            .=(g1.r2)`1+proj2.(g1.r2) by PSCOMP_1:def 28
            .=(g1.r2)`1+(g1.r2)`2 by PSCOMP_1:def 29;
A74:      g.r1 in Lower_Arc(K) by A44;
A75:      g.r2 in Lower_Arc(K) by A44;
          reconsider gr1=g.r1 as Point of TOP-REAL 2 by A74;
          reconsider gr2=g.r2 as Point of TOP-REAL 2 by A75;
          now per cases by A12,A44,XBOOLE_0:def 3;
            case
              A76:          g
.r1 in LSeg(|[b,d]|,|[b,c]|) & g.r2 in LSeg(|[b,d]|,|[b,c]|);
              then
A77:          (gr1)`1=b by A2,Th9;
              (gr2)`1=b by A2,A76,Th9;
              then |[(gr1)`1,(gr1)`2]|=g.r2 by A71,A72,A73,A77,EUCLID:57;
              then g.r1=g.r2 by EUCLID:57;
              hence thesis by A42,A43,FUNCT_1:def 8;
            end;
            case
              A78:          g
.r1 in LSeg(|[b,d]|,|[b,c]|) & g.r2 in LSeg(|[b,c]|,|[a,c]|);
              then
A79:          (gr1)`1=b by A2,Th9;
A80:          c <=(gr1)`2 by A2,A78,Th9;
A81:          (gr2)`2=c by A1,A78,Th11;
A82:          (gr2)`1 <=b by A1,A78,Th11;
A83:          b+(gr1)`2=(gr2)`1 +c by A1,A71,A72,A73,A78,A79,Th11;
A84:          now
                assume b<>gr2`1;
                then b>gr2`1 by A82,XXREAL_0:1;
                hence contradiction by A80,A83,XREAL_1:10;
              end;
              now
                assume gr1`2<>c;
                then c <gr1`2 by A80,XXREAL_0:1;
                hence contradiction by A71,A72,A73,A79,A81,A82,XREAL_1:10;
              end;
              then |[(gr1)`1,(gr1)`2]|=g.r2 by A79,A81,A84,EUCLID:57;
              then g.r1=g.r2 by EUCLID:57;
              hence thesis by A42,A43,FUNCT_1:def 8;
            end;
            case
              A85:          g
.r1 in LSeg(|[b,c]|,|[a,c]|) & g.r2 in LSeg(|[b,d]|,|[b,c]|);
              then
A86:          (gr2)`1=b by A2,Th9;
A87:          c <=(gr2)`2 by A2,A85,Th9;
A88:          (gr1)`2=c by A1,A85,Th11;
A89:          (gr1)`1 <=b by A1,A85,Th11;
A90:          b+(gr2)`2=(gr1)`1 +c by A1,A71,A72,A73,A85,A86,Th11;
A91:          now
                assume b<>gr1`1;
                then b>gr1`1 by A89,XXREAL_0:1;
                hence contradiction by A87,A90,XREAL_1:10;
              end;
              now
                assume gr2`2<>c;
                then c <gr2`2 by A87,XXREAL_0:1;
                hence contradiction by A71,A72,A73,A86,A88,A89,XREAL_1:10;
              end;
              then |[(gr2)`1,(gr2)`2]|=g.r1 by A86,A88,A91,EUCLID:57;
              then g.r1=g.r2 by EUCLID:57;
              hence thesis by A42,A43,FUNCT_1:def 8;
            end;
            case
              A92:          g
.r1 in LSeg(|[b,c]|,|[a,c]|) & g.r2 in LSeg(|[b,c]|,|[a,c]|);
              then
A93:          (gr1)`2=c by A1,Th11;
              (gr2)`2=c by A1,A92,Th11;
              then |[(gr1)`1,(gr1)`2]|=g.r2 by A71,A72,A73,A93,EUCLID:57;
              then g.r1=g.r2 by EUCLID:57;
              hence thesis by A42,A43,FUNCT_1:def 8;
            end;
          end;
          hence thesis;
        end;
A94:    dom k=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
        then s1 in dom k by A37,A38,XXREAL_1:1;
        then rxc=s1 by A60,A66,A67,A68,A94;
        hence contradiction by A51,A66,XXREAL_1:1;
      end;
      hence thesis;
    end;
A95: now
      assume
A96:  p1=W-min(K);
      then p1`1=a by A10,EUCLID:56;
      then p1`1=p2`1 by A9,A31,XXREAL_0:1;
      then |[(p1)`1,(p1)`2]|=p2 by A6,A8,EUCLID:57;
      hence contradiction by A32,A96,EUCLID:57;
    end;
    LE p1,p2,Lower_Arc(K),E-max(K),W-min(K) by A3,A4,A13,A33,JORDAN5C:def 3;
    hence LE p1,p2,K by A3,A4,A13,A32,JORDAN6:def 10;
    thus thesis by A95;
  end;
end;

theorem Th69:
  for a,b,c,d being real number,p1,p2 being Point of TOP-REAL 2 st a<b & c <d
  & p1 in LSeg(|[a,c]|,|[a,d]|)
holds LE p1,p2,rectangle(a,b,c,d) iff p2 in LSeg(|[a,c]|,|[a,d]|) & p1`2<=p2`2
  or p2 in LSeg(|[a,d]|,|[b,d]|) or p2 in LSeg(|[b,d]|,|[b,c]|)
  or p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min rectangle(a,b,c,d)
proof
  let a,b,c,d be real number,p1,p2 be Point of TOP-REAL 2;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<b and
A2: c <d and
A3: p1 in LSeg(|[a,c]|,|[a,d]|);
A4: K is being_simple_closed_curve by A1,A2,Th60;
  Upper_Arc(K)=LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|) by A1,A2,Th61;
  then
A5: LSeg(|[a,c]|,|[a,d]|) c= Upper_Arc(K) by XBOOLE_1:7;
A6: p1`1=a by A2,A3,Th9;
A7: c <=p1`2 by A2,A3,Th9;
A8: p1`2 <= d by A2,A3,Th9;
  thus LE p1,p2,K implies p2 in LSeg(|[a,c]|,|[a,d]|) & p1`2<=p2`2
  or p2 in LSeg(|[a,d]|,|[b,d]|) or p2 in LSeg(|[b,d]|,|[b,c]|)
  or p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min(K)
  proof
    assume
A9: LE p1,p2,K;
    then
A10: p1 in K by A4,JORDAN7:5;
A11: p2 in K by A4,A9,JORDAN7:5;
    K= LSeg(|[ a,c ]|, |[ a,d ]|) \/ LSeg(|[ a,d ]|, |[ b,d ]|)
    \/ (LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]|))
    by SPPOL_2:def 3
      .=LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
    \/ LSeg(|[b,d]|,|[b,c]|) \/ LSeg(|[b,c]|,|[a,c]|) by XBOOLE_1:4;
    then p2 in LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
    \/ LSeg(|[b,d]|,|[b,c]|) or
    p2 in LSeg(|[b,c]|,|[a,c]|) by A11,XBOOLE_0:def 3;
    then
A12: p2 in LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|) or
    p2 in LSeg(|[b,d]|,|[b,c]|) or
    p2 in LSeg(|[b,c]|,|[a,c]|) by XBOOLE_0:def 3;
    now per cases by A12,XBOOLE_0:def 3;
      case p2 in LSeg(|[a,c]|,|[a,d]|);
        hence thesis by A1,A2,A3,A9,Th65;
      end;
      case p2 in LSeg(|[a,d]|,|[b,d]|);
        hence thesis;
      end;
      case p2 in LSeg(|[b,d]|,|[b,c]|);
        hence thesis;
      end;
      case
A13:    p2 in LSeg(|[b,c]|,|[a,c]|);
        now per cases;
          case p2=W-min(K);
            then LE p2,p1,K by A4,A10,JORDAN7:3;
            hence thesis by A1,A2,A3,A9,Th60,JORDAN6:72;
          end;
          case p2<>W-min(K);
            hence thesis by A13;
          end;
        end;
        hence thesis;
      end;
    end;
    hence thesis;
  end;
A14: W-min(K)= |[a,c]| by A1,A2,Th56;
  thus p2 in LSeg(|[a,c]|,|[a,d]|) & p1`2<=p2`2
  or p2 in LSeg(|[a,d]|,|[b,d]|) or p2 in LSeg(|[b,d]|,|[b,c]|)
  or p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min(K) implies LE p1,p2,K
  proof
    assume that
A15: p2 in LSeg(|[a,c]|,|[a,d]|) & p1`2<=p2`2
    or p2 in LSeg(|[a,d]|,|[b,d]|) or p2 in LSeg(|[b,d]|,|[b,c]|)
    or p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min(K);
    now per cases by A15;
      case p2 in LSeg(|[a,c]|,|[a,d]|) & p1`2<=p2`2;
        hence thesis by A1,A2,A3,Th65;
      end;
      case
A16:    p2 in LSeg(|[a,d]|,|[b,d]|);
        then
A17:    p2`2=d by A1,Th11;
A18:    a <=p2`1 by A1,A16,Th11;
A19:    Upper_Arc(K)=LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
        by A1,A2,Th61;
        then
A20:    p2 in Upper_Arc(K) by A16,XBOOLE_0:def 3;
A21:    p1 in Upper_Arc(K) by A3,A19,XBOOLE_0:def 3;
        for g being Function of I[01], (TOP-REAL 2)|Upper_Arc(K),
        s1, s2 being Real st g is being_homeomorphism
        & g.0 = W-min(K) & g.1 = E-max(K) & g.s1 = p1 & 0 <= s1 & s1 <= 1
        & g.s2 = p2 & 0 <= s2 & s2 <= 1 holds s1 <= s2
        proof
          let g be Function of I[01], (TOP-REAL 2)|Upper_Arc(K),
          s1, s2 be Real;
          assume that
A22:      g is being_homeomorphism and
A23:      g.0 = W-min(K) and g.1 = E-max(K) and
A24:      g.s1 = p1 and
A25:      0 <= s1 and
A26:      s1 <= 1 and
A27:      g.s2 = p2 and
A28:      0 <= s2 and
A29:      s2 <= 1;
A30:      dom g=the carrier of I[01] by FUNCT_2:def 1;
A31:      g is one-to-one by A22,TOPS_2:def 5;
A32:      the carrier of ((TOP-REAL 2)|Upper_Arc(K))
          =Upper_Arc(K) by PRE_TOPC:29;
          then reconsider g1=g as Function of I[01],TOP-REAL 2 by FUNCT_2:9;
          g is continuous by A22,TOPS_2:def 5;
          then
A33:      g1 is continuous by PRE_TOPC:56;
          reconsider h1=proj1 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
          reconsider h2=proj2 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
          reconsider hh1=h1 as Function of the TopStruct of TOP-REAL 2,R^1;
          reconsider hh2=h2 as Function of the TopStruct of TOP-REAL 2,R^1;
A34:      the TopStruct of TOP-REAL 2
          = (the TopStruct of TOP-REAL 2)|([#](the TopStruct of TOP-REAL 2))
          by TSEP_1:3
            .= the TopStruct of ((TOP-REAL 2)|([#](TOP-REAL 2))) by PRE_TOPC:66
            .= (TOP-REAL 2)|([#](TOP-REAL 2));
          then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh1.p=proj1.p) implies hh1 is continuous by JGRAPH_2:39;
          then
A35:      h1 is continuous by PRE_TOPC:62;
          (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh2.p=proj2.p) implies hh2 is continuous by A34,JGRAPH_2:40;
          then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh2.p=proj2.p) implies h2 is continuous by PRE_TOPC:62;
          then consider h being Function of TOP-REAL 2,R^1 such that
A36:      for p being Point of TOP-REAL 2, r1,r2 being real number st h1.p=r1 &
          h2.p=r2 holds h.p=r1+r2 and
A37:      h is continuous by A35,JGRAPH_2:29;
          reconsider k=h*g1 as Function of I[01],R^1;
A38:      W-min K=|[a,c]| by A1,A2,Th56;
          now
            assume
A39:        s1>s2;
A40:        dom g=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
            0 in [.0,1.] by XXREAL_1:1;
            then
A41:        k.0=h.(W-min(K)) by A23,A40,FUNCT_1:23
              .=h1.(W-min(K))+h2.(W-min(K)) by A36
              .=(W-min(K))`1+proj2.(W-min(K)) by PSCOMP_1:def 28
              .=(W-min(K))`1+(W-min(K))`2 by PSCOMP_1:def 29
              .=(W-min(K))`1+c by A38,EUCLID:56
              .=a+c by A38,EUCLID:56;
            s1 in [.0,1.] by A25,A26,XXREAL_1:1;
            then
A42:        k.s1=h.p1 by A24,A40,FUNCT_1:23
              .=proj1.p1 +proj2.p1 by A36
              .=p1`1+proj2.p1 by PSCOMP_1:def 28
              .=a +p1`2 by A6,PSCOMP_1:def 29;
A43:        s2 in [.0,1.] by A28,A29,XXREAL_1:1;
            then
A44:        k.s2=h.p2 by A27,A40,FUNCT_1:23
              .=proj1.p2 +proj2.p2 by A36
              .=p2`1+proj2.p2 by PSCOMP_1:def 28
              .=p2`1 +d by A17,PSCOMP_1:def 29;
A45:        k.0<=k.s1 by A7,A41,A42,XREAL_1:9;
A46:        k.s1<=k.s2 by A8,A18,A42,A44,XREAL_1:9;
A47:        0 in [.0,1.] by XXREAL_1:1;
            then
A48:        [.0,s2.] c= [.0,1.] by A43,XXREAL_2:def 12;
            reconsider B=[.0,s2.] as Subset of I[01] by A43,A47,BORSUK_1:83
,XXREAL_2:def 12;
A49:        B is connected by A28,A43,A47,BORSUK_1:83,BORSUK_4:49;
A50:        0 in B by A28,XXREAL_1:1;
A51:        s2 in B by A28,XXREAL_1:1;
A52:        k.0 is Real by XREAL_0:def 1;
A53:        k.s2 is Real by XREAL_0:def 1;
            k.s1 is Real by XREAL_0:def 1;
            then consider xc being Point of I[01] such that
A54:        xc in B and
A55:        k.xc =k.s1 by A33,A37,A45,A46,A49,A50,A51,A52,A53,TOPREAL5:11;
            xc in [.0,1.] by BORSUK_1:83;
            then reconsider rxc=xc as Real;
A56:        for x1,x2 being set st x1 in dom k & x2 in dom k &
            k.x1=k.x2 holds x1=x2
            proof
              let x1,x2 be set;
              assume that
A57:          x1 in dom k and
A58:          x2 in dom k and
A59:          k.x1=k.x2;
              reconsider r1=x1 as Point of I[01] by A57;
              reconsider r2=x2 as Point of I[01] by A58;
A60:          k.x1=h.(g1.x1) by A57,FUNCT_1:22
                .=h1.(g1.r1)+h2.(g1.r1) by A36
                .=(g1.r1)`1+proj2.(g1.r1) by PSCOMP_1:def 28
                .=(g1.r1)`1+(g1.r1)`2 by PSCOMP_1:def 29;
A61:          k.x2=h.(g1.x2) by A58,FUNCT_1:22
                .=h1.(g1.r2)+h2.(g1.r2) by A36
                .=(g1.r2)`1+proj2.(g1.r2) by PSCOMP_1:def 28
                .=(g1.r2)`1+(g1.r2)`2 by PSCOMP_1:def 29;
A62:          g.r1 in Upper_Arc(K) by A32;
A63:          g.r2 in Upper_Arc(K) by A32;
              reconsider gr1=g.r1 as Point of TOP-REAL 2 by A62;
              reconsider gr2=g.r2 as Point of TOP-REAL 2 by A63;
              now per cases by A19,A32,XBOOLE_0:def 3;
                case
A64:              g.r1 in LSeg(|[a,c]|,|[a,d]|) &
                  g.r2 in LSeg(|[a,c]|,|[a,d]|);
                  then
A65:              (gr1)`1=a by A2,Th9;
                  (gr2)`1=a by A2,A64,Th9;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A59,A60,A61,A65,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A30,A31,FUNCT_1:def 8;
                end;
                case
A66:              g.r1 in LSeg(|[a,c]|,|[a,d]|) &
                  g.r2 in LSeg(|[a,d]|,|[b,d]|);
                  then
A67:              (gr1)`1=a by A2,Th9;
A68:              (gr1 )`2 <=d by A2,A66,Th9;
A69:              (gr2)`2=d by A1,A66,Th11;
A70:              a <=(gr2)`1 by A1,A66,Th11;
A71:              a+(gr1)`2=(gr2)`1 +d by A1,A59,A60,A61,A66,A67,Th11;
A72:              now
                    assume a<>gr2`1;
                    then a<gr2`1 by A70,XXREAL_0:1;
                    hence contradiction by A68,A71,XREAL_1:10;
                  end;
                  now
                    assume gr1`2<>d;
                    then d>gr1`2 by A68,XXREAL_0:1;
                    hence contradiction by A59,A60,A61,A67,A69,A70,XREAL_1:10;
                  end;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A67,A69,A72,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A30,A31,FUNCT_1:def 8;
                end;
                case
A73:              g.r1 in LSeg(|[a,d]|,|[b,d]|) &
                  g.r2 in LSeg(|[a,c]|,|[a,d]|);
                  then
A74:              (gr2)`1=a by A2,Th9;
A75:              (gr2 )`2 <=d by A2,A73,Th9;
A76:              (gr1)`2=d by A1,A73,Th11;
A77:              a <=(gr1)`1 by A1,A73,Th11;
A78:              a+(gr2)`2=(gr1)`1 +d by A1,A59,A60,A61,A73,A74,Th11;
A79:              now
                    assume a<>gr1`1;
                    then a<gr1`1 by A77,XXREAL_0:1;
                    hence contradiction by A75,A78,XREAL_1:10;
                  end;
                  now
                    assume gr2`2<>d;
                    then d>gr2`2 by A75,XXREAL_0:1;
                    hence contradiction by A59,A60,A61,A74,A76,A77,XREAL_1:10;
                  end;
                  then |[(gr2)`1,(gr2)`2]|=g.r1 by A74,A76,A79,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A30,A31,FUNCT_1:def 8;
                end;
                case
A80:              g.r1 in LSeg(|[a,d]|,|[b,d]|) &
                  g.r2 in LSeg(|[a,d]|,|[b,d]|);
                  then
A81:              (gr1)`2=d by A1,Th11;
                  (gr2)`2=d by A1,A80,Th11;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A59,A60,A61,A81,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A30,A31,FUNCT_1:def 8;
                end;
              end;
              hence thesis;
            end;
A82:        dom k=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
            then s1 in dom k by A25,A26,XXREAL_1:1;
            then rxc=s1 by A48,A54,A55,A56,A82;
            hence contradiction by A39,A54,XXREAL_1:1;
          end;
          hence thesis;
        end;
        then LE p1,p2,Upper_Arc(K),W-min(K),E-max(K) by A20,A21,JORDAN5C:def 3;
        hence thesis by A20,A21,JORDAN6:def 10;
      end;
      case
A83:    p2 in LSeg(|[b,d]|,|[b,c]|);
        then
A84:    p2`1 =b by TOPREAL3:17;
        Lower_Arc(K)=LSeg(|[b,d]|,|[b,c]|) \/ LSeg(|[b,c]|,|[a,c]|) by A1,A2
,Th62;
        then
A85:    LSeg(|[b,d]|,|[b,c]|) c= Lower_Arc(K) by XBOOLE_1:7;
        p2 <> W-min(K) by A1,A14,A84,EUCLID:56;
        hence thesis by A3,A5,A83,A85,JORDAN6:def 10;
      end;
      case
A86:    p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min(K);
        Lower_Arc(K)=LSeg(|[b,d]|,|[b,c]|) \/ LSeg(|[b,c]|,|[a,c]|) by A1,A2
,Th62;
        then LSeg(|[b,c]|,|[a,c]|) c= Lower_Arc(K) by XBOOLE_1:7;
        hence thesis by A3,A5,A86,JORDAN6:def 10;
      end;
    end;
    hence thesis;
  end;
end;

theorem Th70:
  for a,b,c,d being real number,p1,p2 being Point of TOP-REAL 2 st a<b & c <d
  & p1 in LSeg(|[a,d]|,|[b,d]|)
holds LE p1,p2,rectangle(a,b,c,d) iff p2 in LSeg(|[a,d]|,|[b,d]|) & p1`1<=p2`1
  or p2 in LSeg(|[b,d]|,|[b,c]|)
  or p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min rectangle(a,b,c,d)
proof
  let a,b,c,d be real number,p1,p2 be Point of TOP-REAL 2;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<b and
A2: c <d and
A3: p1 in LSeg(|[a,d]|,|[b,d]|);
A4: K is being_simple_closed_curve by A1,A2,Th60;
  Upper_Arc(K)=LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|) by A1,A2,Th61;
  then
A5: LSeg(|[a,d]|,|[b,d]|) c= Upper_Arc(K) by XBOOLE_1:7;
A6: p1`2=d by A1,A3,Th11;
A7: a <=p1`1 by A1,A3,Th11;
  thus LE p1,p2,K implies p2 in LSeg(|[a,d]|,|[b,d]|) & p1`1<=p2`1
  or p2 in LSeg(|[b,d]|,|[b,c]|) or p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min(K)
  proof
    assume
A8: LE p1,p2,K;
    then
A9: p1 in K by A4,JORDAN7:5;
A10: p2 in K by A4,A8,JORDAN7:5;
    K= LSeg(|[ a,c ]|, |[ a,d ]|) \/ LSeg(|[ a,d ]|, |[ b,d ]|)
    \/ (LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]|))
    by SPPOL_2:def 3
      .=LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
    \/ LSeg(|[b,d]|,|[b,c]|) \/ LSeg(|[b,c]|,|[a,c]|) by XBOOLE_1:4;
    then p2 in LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
    \/ LSeg(|[b,d]|,|[b,c]|) or
    p2 in LSeg(|[b,c]|,|[a,c]|) by A10,XBOOLE_0:def 3;
    then
A11: p2 in LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|) or
    p2 in LSeg(|[b,d]|,|[b,c]|) or
    p2 in LSeg(|[b,c]|,|[a,c]|) by XBOOLE_0:def 3;
    now per cases by A11,XBOOLE_0:def 3;
      case p2 in LSeg(|[a,c]|,|[a,d]|);
        then LE p2,p1,K by A1,A2,A3,Th69;
        hence thesis by A1,A2,A3,A8,Th60,JORDAN6:72;
      end;
      case p2 in LSeg(|[a,d]|,|[b,d]|);
        hence thesis by A1,A2,A3,A8,Th66;
      end;
      case p2 in LSeg(|[b,d]|,|[b,c]|);
        hence thesis;
      end;
      case
A12:    p2 in LSeg(|[b,c]|,|[a,c]|);
        now per cases;
          case p2=W-min(K);
            then LE p2,p1,K by A4,A9,JORDAN7:3;
            hence thesis by A1,A2,A3,A8,Th60,JORDAN6:72;
          end;
          case p2<>W-min(K);
            hence thesis by A12;
          end;
        end;
        hence thesis;
      end;
    end;
    hence thesis;
  end;
A13: W-min(K)= |[a,c]| by A1,A2,Th56;
  thus
  p2 in LSeg(|[a,d]|,|[b,d]|)& p1`1<=p2`1 or p2 in LSeg(|[b,d]|,|[b,c]|)
  or p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min(K) implies LE p1,p2,K
  proof
    assume that
A14: p2 in LSeg(|[a,d]|,|[b,d]|)& p1`1<=p2`1 or p2 in LSeg(|[b,d]|,|[b,c]|)
    or p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min(K);
    now per cases by A14;
      case
A15:    p2 in LSeg(|[a,d]|,|[b,d]|)& p1`1<=p2`1;
        then
A16:    p2`2=d by A1,Th11;
A17:    Upper_Arc(K)=LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
        by A1,A2,Th61;
        then
A18:    p2 in Upper_Arc(K) by A15,XBOOLE_0:def 3;
A19:    p1 in Upper_Arc(K) by A3,A17,XBOOLE_0:def 3;
        for g being Function of I[01], (TOP-REAL 2)|Upper_Arc(K),
        s1, s2 being Real st g is being_homeomorphism
        & g.0 = W-min(K) & g.1 = E-max(K) & g.s1 = p1 & 0 <= s1 & s1 <= 1
        & g.s2 = p2 & 0 <= s2 & s2 <= 1 holds s1 <= s2
        proof
          let g be Function of I[01], (TOP-REAL 2)|Upper_Arc(K),
          s1, s2 be Real;
          assume that
A20:      g is being_homeomorphism and
A21:      g.0 = W-min(K) and g.1 = E-max(K) and
A22:      g.s1 = p1 and
A23:      0 <= s1 and
A24:      s1 <= 1 and
A25:      g.s2 = p2 and
A26:      0 <= s2 and
A27:      s2 <= 1;
A28:      dom g=the carrier of I[01] by FUNCT_2:def 1;
A29:      g is one-to-one by A20,TOPS_2:def 5;
A30:      the carrier of ((TOP-REAL 2)|Upper_Arc(K))
          =Upper_Arc(K) by PRE_TOPC:29;
          then reconsider g1=g as Function of I[01],TOP-REAL 2 by FUNCT_2:9;
          g is continuous by A20,TOPS_2:def 5;
          then
A31:      g1 is continuous by PRE_TOPC:56;
          reconsider h1=proj1 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
          reconsider h2=proj2 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
          reconsider hh1=h1 as Function of the TopStruct of TOP-REAL 2,R^1;
          reconsider hh2=h2 as Function of the TopStruct of TOP-REAL 2,R^1;
A32:      the TopStruct of TOP-REAL 2
          = (the TopStruct of TOP-REAL 2)|([#](the TopStruct of TOP-REAL 2))
          by TSEP_1:3
            .= the TopStruct of ((TOP-REAL 2)|([#](TOP-REAL 2))) by PRE_TOPC:66
            .= (TOP-REAL 2)|([#](TOP-REAL 2));
          then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh1.p=proj1.p) implies hh1 is continuous by JGRAPH_2:39;
          then
A33:      (for p being Point of (TOP-REAL 2)|([#]TOP-REAL 2)holds
          hh1.p=proj1.p) implies h1 is continuous by PRE_TOPC:62;
          (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh2.p=proj2.p) implies hh2 is continuous by A32,JGRAPH_2:40;
          then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh2.p=proj2.p) implies h2 is continuous by PRE_TOPC:62;
          then consider h being Function of TOP-REAL 2,R^1 such that
A34:      for p being Point of TOP-REAL 2, r1,r2 being real number st h1.p=r1 &
          h2.p=r2 holds h.p=r1+r2 and
A35:      h is continuous by A33,JGRAPH_2:29;
          reconsider k=h*g1 as Function of I[01],R^1;
A36:      W-min K=|[a,c]| by A1,A2,Th56;
          now
            assume
A37:        s1>s2;
A38:        dom g=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
            0 in [.0,1.] by XXREAL_1:1;
            then
A39:        k.0=h.(W-min(K)) by A21,A38,FUNCT_1:23
              .=h1.(W-min(K))+h2.(W-min(K)) by A34
              .=(W-min(K))`1+proj2.(W-min(K)) by PSCOMP_1:def 28
              .=(W-min(K))`1+(W-min(K))`2 by PSCOMP_1:def 29
              .=(W-min(K))`1+c by A36,EUCLID:56
              .=a+c by A36,EUCLID:56;
            s1 in [.0,1.] by A23,A24,XXREAL_1:1;
            then
A40:        k.s1=h.p1 by A22,A38,FUNCT_1:23
              .=proj1.p1 +proj2.p1 by A34
              .=p1`1+proj2.p1 by PSCOMP_1:def 28
              .=p1`1+d by A6,PSCOMP_1:def 29;
A41:        s2 in [.0,1.] by A26,A27,XXREAL_1:1;
            then
A42:        k.s2=h.p2 by A25,A38,FUNCT_1:23
              .=proj1.p2 +proj2.p2 by A34
              .=p2`1+proj2.p2 by PSCOMP_1:def 28
              .=p2`1 +d by A16,PSCOMP_1:def 29;
A43:        k.0<=k.s1 by A2,A7,A39,A40,XREAL_1:9;
A44:        k.s1<=k.s2 by A15,A40,A42,XREAL_1:9;
A45:        0 in [.0,1.] by XXREAL_1:1;
            then
A46:        [.0,s2.] c= [.0,1.] by A41,XXREAL_2:def 12;
            reconsider B=[.0,s2.] as Subset of I[01] by A41,A45,BORSUK_1:83
,XXREAL_2:def 12;
A47:        B is connected by A26,A41,A45,BORSUK_1:83,BORSUK_4:49;
A48:        0 in B by A26,XXREAL_1:1;
A49:        s2 in B by A26,XXREAL_1:1;
A50:        k.0 is Real by XREAL_0:def 1;
A51:        k.s2 is Real by XREAL_0:def 1;
            k.s1 is Real by XREAL_0:def 1;
            then consider xc being Point of I[01] such that
A52:        xc in B and
A53:        k.xc =k.s1 by A31,A35,A43,A44,A47,A48,A49,A50,A51,TOPREAL5:11;
            xc in [.0,1.] by BORSUK_1:83;
            then reconsider rxc=xc as Real;
A54:        for x1,x2 being set st x1 in dom k & x2 in dom k &
            k.x1=k.x2 holds x1=x2
            proof
              let x1,x2 be set;
              assume that
A55:          x1 in dom k and
A56:          x2 in dom k and
A57:          k.x1=k.x2;
              reconsider r1=x1 as Point of I[01] by A55;
              reconsider r2=x2 as Point of I[01] by A56;
A58:          k.x1=h.(g1.x1) by A55,FUNCT_1:22
                .=h1.(g1.r1)+h2.(g1.r1) by A34
                .=(g1.r1)`1+proj2.(g1.r1) by PSCOMP_1:def 28
                .=(g1.r1)`1+(g1.r1)`2 by PSCOMP_1:def 29;
A59:          k.x2=h.(g1.x2) by A56,FUNCT_1:22
                .=h1.(g1.r2)+h2.(g1.r2) by A34
                .=(g1.r2)`1+proj2.(g1.r2) by PSCOMP_1:def 28
                .=(g1.r2)`1+(g1.r2)`2 by PSCOMP_1:def 29;
A60:          g.r1 in Upper_Arc(K) by A30;
A61:          g.r2 in Upper_Arc(K) by A30;
              reconsider gr1=g.r1 as Point of TOP-REAL 2 by A60;
              reconsider gr2=g.r2 as Point of TOP-REAL 2 by A61;
              now per cases by A17,A30,XBOOLE_0:def 3;
                case
A62:              g.r1 in LSeg(|[a,c]|,|[a,d]|) &
                  g.r2 in LSeg(|[a,c]|,|[a,d]|);
                  then
A63:              (gr1)`1=a by A2,Th9;
                  (gr2)`1=a by A2,A62,Th9;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A57,A58,A59,A63,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A28,A29,FUNCT_1:def 8;
                end;
                case
A64:              g.r1 in LSeg(|[a,c]|,|[a,d]|) &
                  g.r2 in LSeg(|[a,d]|,|[b,d]|);
                  then
A65:              (gr1)`1=a by A2,Th9;
A66:              (gr1 )`2 <=d by A2,A64,Th9;
A67:              (gr2)`2=d by A1,A64,Th11;
A68:              a <=(gr2)`1 by A1,A64,Th11;
A69:              a+(gr1)`2=(gr2)`1 +d by A1,A57,A58,A59,A64,A65,Th11;
A70:              now
                    assume a<>gr2`1;
                    then a<gr2`1 by A68,XXREAL_0:1;
                    hence contradiction by A66,A69,XREAL_1:10;
                  end;
                  now
                    assume gr1`2<>d;
                    then d>gr1`2 by A66,XXREAL_0:1;
                    hence contradiction by A57,A58,A59,A65,A67,A68,XREAL_1:10;
                  end;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A65,A67,A70,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A28,A29,FUNCT_1:def 8;
                end;
                case
A71:              g.r1 in LSeg(|[a,d]|,|[b,d]|) &
                  g.r2 in LSeg(|[a,c]|,|[a,d]|);
                  then
A72:              (gr2)`1=a by A2,Th9;
A73:              (gr2 )`2 <=d by A2,A71,Th9;
A74:              (gr1)`2=d by A1,A71,Th11;
A75:              a <=(gr1)`1 by A1,A71,Th11;
A76:              a+(gr2)`2=(gr1)`1 +d by A1,A57,A58,A59,A71,A72,Th11;
A77:              now
                    assume a<>gr1`1;
                    then a<gr1`1 by A75,XXREAL_0:1;
                    hence contradiction by A73,A76,XREAL_1:10;
                  end;
                  now
                    assume gr2`2<>d;
                    then d>gr2`2 by A73,XXREAL_0:1;
                    hence contradiction by A57,A58,A59,A72,A74,A75,XREAL_1:10;
                  end;
                  then |[(gr2)`1,(gr2)`2]|=g.r1 by A72,A74,A77,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A28,A29,FUNCT_1:def 8;
                end;
                case
A78:              g.r1 in LSeg(|[a,d]|,|[b,d]|) &
                  g.r2 in LSeg(|[a,d]|,|[b,d]|);
                  then
A79:              (gr1)`2=d by A1,Th11;
                  (gr2)`2=d by A1,A78,Th11;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A57,A58,A59,A79,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A28,A29,FUNCT_1:def 8;
                end;
              end;
              hence thesis;
            end;
A80:        dom k=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
            then s1 in dom k by A23,A24,XXREAL_1:1;
            then rxc=s1 by A46,A52,A53,A54,A80;
            hence contradiction by A37,A52,XXREAL_1:1;
          end;
          hence thesis;
        end;
        then LE p1,p2,Upper_Arc(K),W-min(K),E-max(K) by A18,A19,JORDAN5C:def 3;
        hence thesis by A18,A19,JORDAN6:def 10;
      end;
      case
A81:    p2 in LSeg(|[b,d]|,|[b,c]|);
        then
A82:    p2`1 =b by TOPREAL3:17;
        Lower_Arc(K)=LSeg(|[b,d]|,|[b,c]|) \/ LSeg(|[b,c]|,|[a,c]|) by A1,A2
,Th62;
        then
A83:    LSeg(|[b,d]|,|[b,c]|) c= Lower_Arc(K) by XBOOLE_1:7;
        p2 <> W-min(K) by A1,A13,A82,EUCLID:56;
        hence thesis by A3,A5,A81,A83,JORDAN6:def 10;
      end;
      case
A84:    p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min(K);
        Lower_Arc(K)=LSeg(|[b,d]|,|[b,c]|) \/ LSeg(|[b,c]|,|[a,c]|) by A1,A2
,Th62;
        then LSeg(|[b,c]|,|[a,c]|) c= Lower_Arc(K) by XBOOLE_1:7;
        hence thesis by A3,A5,A84,JORDAN6:def 10;
      end;
    end;
    hence thesis;
  end;
end;

theorem Th71:
  for a,b,c,d being real number,p1,p2 being Point of TOP-REAL 2
  st a<b & c <d & p1 in LSeg(|[b,d]|,|[b,c]|)
holds LE p1,p2,rectangle(a,b,c,d) iff p2 in LSeg(|[b,d]|,|[b,c]|) & p1`2>=p2`2
  or p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min rectangle(a,b,c,d)
proof
  let a,b,c,d be real number,p1,p2 be Point of TOP-REAL 2;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<b and
A2: c <d and
A3: p1 in LSeg(|[b,d]|,|[b,c]|);
A4: K is being_simple_closed_curve by A1,A2,Th60;
A5: p1`1=b by A2,A3,Th9;
A6: c <=p1`2 by A2,A3,Th9;
A7: p1`2 <= d by A2,A3,Th9;
  thus LE p1,p2,K implies p2 in LSeg(|[b,d]|,|[b,c]|) & p1`2>=p2`2
  or p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min(K)
  proof
    assume
A8: LE p1,p2,K;
    then
A9: p1 in K by A4,JORDAN7:5;
A10: p2 in K by A4,A8,JORDAN7:5;
    K= LSeg(|[ a,c ]|, |[ a,d ]|) \/ LSeg(|[ a,d ]|, |[ b,d ]|)
    \/ (LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]|))
    by SPPOL_2:def 3
      .=LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
    \/ LSeg(|[b,d]|,|[b,c]|) \/ LSeg(|[b,c]|,|[a,c]|) by XBOOLE_1:4;
    then p2 in LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
    \/ LSeg(|[b,d]|,|[b,c]|) or
    p2 in LSeg(|[b,c]|,|[a,c]|) by A10,XBOOLE_0:def 3;
    then
A11: p2 in LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|) or
    p2 in LSeg(|[b,d]|,|[b,c]|) or
    p2 in LSeg(|[b,c]|,|[a,c]|) by XBOOLE_0:def 3;
    now per cases by A11,XBOOLE_0:def 3;
      case p2 in LSeg(|[a,c]|,|[a,d]|);
        then LE p2,p1,K by A1,A2,A3,Th69;
        hence thesis by A1,A2,A3,A8,Th60,JORDAN6:72;
      end;
      case p2 in LSeg(|[a,d]|,|[b,d]|);
        then LE p2,p1,K by A1,A2,A3,Th70;
        hence thesis by A1,A2,A3,A8,Th60,JORDAN6:72;
      end;
      case p2 in LSeg(|[b,d]|,|[b,c]|);
        hence thesis by A1,A2,A3,A8,Th67;
      end;
      case
A12:    p2 in LSeg(|[b,c]|,|[a,c]|);
        now per cases;
          case p2=W-min(K);
            then LE p2,p1,K by A4,A9,JORDAN7:3;
            hence thesis by A1,A2,A3,A8,Th60,JORDAN6:72;
          end;
          case p2<>W-min(K);
            hence thesis by A12;
          end;
        end;
        hence thesis;
      end;
    end;
    hence thesis;
  end;
  thus
  p2 in LSeg(|[b,d]|,|[b,c]|)& p1`2>=p2`2
  or p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min(K) implies LE p1,p2,K
  proof
    assume that
A13: p2 in LSeg(|[b,d]|,|[b,c]|)& p1`2>=p2`2
    or p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min(K);
    now per cases by A13;
      case
A14:    p2 in LSeg(|[b,d]|,|[b,c]|)& p1`2>=p2`2;
        then
A15:    p2`1=b by A2,Th9;
        W-min K=|[a,c]| by A1,A2,Th56;
        then
A16:    p2 <> W-min(K) by A1,A15,EUCLID:56;
A17:    Lower_Arc(K)=LSeg(|[b,d]|,|[b,c]|) \/ LSeg(|[b,c]|,|[a,c]|)
        by A1,A2,Th62;
        then
A18:    p2 in Lower_Arc(K) by A14,XBOOLE_0:def 3;
A19:    p1 in Lower_Arc(K) by A3,A17,XBOOLE_0:def 3;
        for g being Function of I[01], (TOP-REAL 2)|Lower_Arc(K),
        s1, s2 being Real st g is being_homeomorphism
        & g.0 = E-max(K) & g.1 = W-min(K) & g.s1 = p1 & 0 <= s1 & s1 <= 1
        & g.s2 = p2 & 0 <= s2 & s2 <= 1 holds s1 <= s2
        proof
          let g be Function of I[01], (TOP-REAL 2)|Lower_Arc(K),
          s1, s2 be Real;
          assume that
A20:      g is being_homeomorphism and
A21:      g.0 = E-max(K) and g.1 = W-min(K) and
A22:      g.s1 = p1 and
A23:      0 <= s1 and
A24:      s1 <= 1 and
A25:      g.s2 = p2 and
A26:      0 <= s2 and
A27:      s2 <= 1;
A28:      dom g=the carrier of I[01] by FUNCT_2:def 1;
A29:      g is one-to-one by A20,TOPS_2:def 5;
A30:      the carrier of ((TOP-REAL 2)|Lower_Arc(K))
          =Lower_Arc(K) by PRE_TOPC:29;
          then reconsider g1=g as Function of I[01],TOP-REAL 2 by FUNCT_2:9;
          g is continuous by A20,TOPS_2:def 5;
          then
A31:      g1 is continuous by PRE_TOPC:56;
          reconsider h1=proj1 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
          reconsider h2=proj2 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
          reconsider hh1=h1 as Function of the TopStruct of TOP-REAL 2,R^1;
          reconsider hh2=h2 as Function of the TopStruct of TOP-REAL 2,R^1;
A32:      the TopStruct of TOP-REAL 2
          = (the TopStruct of TOP-REAL 2)|([#](the TopStruct of TOP-REAL 2))
          by TSEP_1:3
            .= the TopStruct of ((TOP-REAL 2)|([#](TOP-REAL 2))) by PRE_TOPC:66
            .= (TOP-REAL 2)|([#](TOP-REAL 2));
          then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh1.p=proj1.p) implies hh1 is continuous by JGRAPH_2:39;
          then
A33:      (for p being Point of (TOP-REAL 2)|([#]TOP-REAL 2)holds
          hh1.p=proj1.p) implies h1 is continuous by PRE_TOPC:62;
          (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh2.p=proj2.p) implies hh2 is continuous by A32,JGRAPH_2:40;
          then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh2.p=proj2.p) implies h2 is continuous by PRE_TOPC:62;
          then consider h being Function of TOP-REAL 2,R^1 such that
A34:      for p being Point of TOP-REAL 2, r1,r2 being real number st h1.p=r1 &
          h2.p=r2 holds h.p=r1+r2 and
A35:      h is continuous by A33,JGRAPH_2:29;
          reconsider k=h*g1 as Function of I[01],R^1;
A36:      E-max K=|[b,d]| by A1,A2,Th56;
          now
            assume
A37:        s1>s2;
A38:        dom g=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
            0 in [.0,1.] by XXREAL_1:1;
            then
A39:        k.0=h.(E-max(K)) by A21,A38,FUNCT_1:23
              .=h1.(E-max(K))+h2.(E-max(K)) by A34
              .=(E-max(K))`1+proj2.(E-max(K)) by PSCOMP_1:def 28
              .=(E-max(K))`1+(E-max(K))`2 by PSCOMP_1:def 29
              .=(E-max(K))`1+d by A36,EUCLID:56
              .=b+d by A36,EUCLID:56;
            s1 in [.0,1.] by A23,A24,XXREAL_1:1;
            then
A40:        k.s1=h.p1 by A22,A38,FUNCT_1:23
              .=proj1.p1 +proj2.p1 by A34
              .=p1`1+proj2.p1 by PSCOMP_1:def 28
              .=b+p1`2 by A5,PSCOMP_1:def 29;
A41:        s2 in [.0,1.] by A26,A27,XXREAL_1:1;
            then
A42:        k.s2=h.p2 by A25,A38,FUNCT_1:23
              .=proj1.p2 +proj2.p2 by A34
              .=p2`1+proj2.p2 by PSCOMP_1:def 28
              .=b+p2`2 by A15,PSCOMP_1:def 29;
A43:        k.0>=k.s1 by A7,A39,A40,XREAL_1:9;
A44:        k.s1>=k.s2 by A14,A40,A42,XREAL_1:9;
A45:        0 in [.0,1.] by XXREAL_1:1;
            then
A46:        [.0,s2.] c= [.0,1.] by A41,XXREAL_2:def 12;
            reconsider B=[.0,s2.] as Subset of I[01] by A41,A45,BORSUK_1:83
,XXREAL_2:def 12;
A47:        B is connected by A26,A41,A45,BORSUK_1:83,BORSUK_4:49;
A48:        0 in B by A26,XXREAL_1:1;
A49:        s2 in B by A26,XXREAL_1:1;
A50:        k.0 is Real by XREAL_0:def 1;
A51:        k.s2 is Real by XREAL_0:def 1;
            k.s1 is Real by XREAL_0:def 1;
            then consider xc being Point of I[01] such that
A52:        xc in B and
A53:        k.xc =k.s1 by A31,A35,A43,A44,A47,A48,A49,A50,A51,TOPREAL5:11;
            xc in [.0,1.] by BORSUK_1:83;
            then reconsider rxc=xc as Real;
A54:        for x1,x2 being set st x1 in dom k & x2 in dom k &
            k.x1=k.x2 holds x1=x2
            proof
              let x1,x2 be set;
              assume that
A55:          x1 in dom k and
A56:          x2 in dom k and
A57:          k.x1=k.x2;
              reconsider r1=x1 as Point of I[01] by A55;
              reconsider r2=x2 as Point of I[01] by A56;
A58:          k.x1=h.(g1.x1) by A55,FUNCT_1:22
                .=h1.(g1.r1)+h2.(g1.r1) by A34
                .=(g1.r1)`1+proj2.(g1.r1) by PSCOMP_1:def 28
                .=(g1.r1)`1+(g1.r1)`2 by PSCOMP_1:def 29;
A59:          k.x2=h.(g1.x2) by A56,FUNCT_1:22
                .=h1.(g1.r2)+h2.(g1.r2) by A34
                .=(g1.r2)`1+proj2.(g1.r2) by PSCOMP_1:def 28
                .=(g1.r2)`1+(g1.r2)`2 by PSCOMP_1:def 29;
A60:          g.r1 in Lower_Arc(K) by A30;
A61:          g.r2 in Lower_Arc(K) by A30;
              reconsider gr1=g.r1 as Point of TOP-REAL 2 by A60;
              reconsider gr2=g.r2 as Point of TOP-REAL 2 by A61;
              now per cases by A17,A30,XBOOLE_0:def 3;
                case
A62:              g.r1 in LSeg(|[b,d]|,|[b,c]|) &
                  g.r2 in LSeg(|[b,d]|,|[b,c]|);
                  then
A63:              (gr1)`1=b by A2,Th9;
                  (gr2)`1=b by A2,A62,Th9;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A57,A58,A59,A63,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A28,A29,FUNCT_1:def 8;
                end;
                case
A64:              g.r1 in LSeg(|[b,d]|,|[b,c]|) &
                  g.r2 in LSeg(|[b,c]|,|[a,c]|);
                  then
A65:              (gr1)`1=b by A2,Th9;
A66:              c <=(gr1)`2 by A2,A64,Th9;
A67:              (gr2)`2=c by A1,A64,Th11;
A68:              (gr2)`1 <=b by A1,A64,Th11;
A69:              b+(gr1)`2=(gr2)`1 +c by A2,A57,A58,A59,A64,A67,Th9;
A70:              now
                    assume b<>gr2`1;
                    then b>gr2`1 by A68,XXREAL_0:1;
                    hence contradiction by A57,A58,A59,A65,A66,A67,XREAL_1:10;
                  end;
                  now
                    assume gr1`2<> c;
                    then c <gr1`2 by A66,XXREAL_0:1;
                    hence contradiction by A68,A69,XREAL_1:10;
                  end;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A65,A67,A70,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A28,A29,FUNCT_1:def 8;
                end;
                case
A71:              g.r1 in LSeg(|[b,c]|,|[a,c]|) &
                  g.r2 in LSeg(|[b,d]|,|[b,c]|);
                  then
A72:              (gr2)`1=b by A2,Th9;
A73:              c <=(gr2)`2 by A2,A71,Th9;
A74:              (gr1)`2=c by A1,A71,Th11;
A75:              (gr1)`1 <=b by A1,A71,Th11;
A76:              b+(gr2)`2=(gr1)`1 +c by A1,A57,A58,A59,A71,A72,Th11;
A77:              now
                    assume b<>gr1`1;
                    then b>gr1`1 by A75,XXREAL_0:1;
                    hence contradiction by A73,A76,XREAL_1:10;
                  end;
                  now
                    assume gr2`2<> c;
                    then c < gr2`2 by A73,XXREAL_0:1;
                    hence contradiction by A57,A58,A59,A72,A74,A75,XREAL_1:10;
                  end;
                  then |[(gr2)`1,(gr2)`2]|=g.r1 by A72,A74,A77,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A28,A29,FUNCT_1:def 8;
                end;
                case
A78:              g.r1 in LSeg(|[b,c]|,|[a,c]|) &
                  g.r2 in LSeg(|[b,c]|,|[a,c]|);
                  then
A79:              (gr1)`2=c by A1,Th11;
                  (gr2)`2=c by A1,A78,Th11;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A57,A58,A59,A79,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A28,A29,FUNCT_1:def 8;
                end;
              end;
              hence thesis;
            end;
A80:        dom k=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
            then s1 in dom k by A23,A24,XXREAL_1:1;
            then rxc=s1 by A46,A52,A53,A54,A80;
            hence contradiction by A37,A52,XXREAL_1:1;
          end;
          hence thesis;
        end;
        then LE p1,p2,Lower_Arc(K),E-max(K),W-min(K) by A18,A19,JORDAN5C:def 3;
        hence thesis by A16,A18,A19,JORDAN6:def 10;
      end;
      case
A81:    p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min(K);
        then
A82:    p2`2=c by A1,Th11;
A83:    p2`1 <= b by A1,A81,Th11;
A84:    Lower_Arc(K)=LSeg(|[b,d]|,|[b,c]|) \/ LSeg(|[b,c]|,|[a,c]|)
        by A1,A2,Th62;
        then
A85:    p2 in Lower_Arc(K) by A81,XBOOLE_0:def 3;
A86:    p1 in Lower_Arc(K) by A3,A84,XBOOLE_0:def 3;
        for g being Function of I[01], (TOP-REAL 2)|Lower_Arc(K),
        s1, s2 being Real st g is being_homeomorphism
        & g.0 = E-max(K) & g.1 = W-min(K) & g.s1 = p1 & 0 <= s1 & s1 <= 1
        & g.s2 = p2 & 0 <= s2 & s2 <= 1 holds s1 <= s2
        proof
          let g be Function of I[01], (TOP-REAL 2)|Lower_Arc(K),
          s1, s2 be Real;
          assume that
A87:      g is being_homeomorphism and
A88:      g.0 = E-max(K) and g.1 = W-min(K) and
A89:      g.s1 = p1 and
A90:      0 <= s1 and
A91:      s1 <= 1 and
A92:      g.s2 = p2 and
A93:      0 <= s2 and
A94:      s2 <= 1;
A95:      dom g=the carrier of I[01] by FUNCT_2:def 1;
A96:      g is one-to-one by A87,TOPS_2:def 5;
A97:      the carrier of ((TOP-REAL 2)|Lower_Arc(K))
          =Lower_Arc(K) by PRE_TOPC:29;
          then reconsider g1=g as Function of I[01],TOP-REAL 2 by FUNCT_2:9;
          g is continuous by A87,TOPS_2:def 5;
          then
A98:      g1 is continuous by PRE_TOPC:56;
          reconsider h1=proj1 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
          reconsider h2=proj2 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
          reconsider hh1=h1 as Function of the TopStruct of TOP-REAL 2,R^1;
          reconsider hh2=h2 as Function of the TopStruct of TOP-REAL 2,R^1;
A99:      the TopStruct of TOP-REAL 2
          = (the TopStruct of TOP-REAL 2)|([#](the TopStruct of TOP-REAL 2))
          by TSEP_1:3
            .= the TopStruct of ((TOP-REAL 2)|([#](TOP-REAL 2))) by PRE_TOPC:66
            .= (TOP-REAL 2)|([#](TOP-REAL 2));
          then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh1.p=proj1.p) implies hh1 is continuous by JGRAPH_2:39;
          then
A100:     (for p being Point of (TOP-REAL 2)|([#]TOP-REAL 2)holds
          hh1.p=proj1.p) implies h1 is continuous by PRE_TOPC:62;
          (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh2.p=proj2.p) implies hh2 is continuous by A99,JGRAPH_2:40;
          then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh2.p=proj2.p) implies h2 is continuous by PRE_TOPC:62;
          then consider h being Function of TOP-REAL 2,R^1 such that
A101:     for p being Point of TOP-REAL 2, r1,r2 being real number st h1.p=r1 &
          h2.p=r2 holds h.p=r1+r2 and
A102:     h is continuous by A100,JGRAPH_2:29;
          reconsider k=h*g1 as Function of I[01],R^1;
A103:     E-max K=|[b,d]| by A1,A2,Th56;
          now
            assume
A104:       s1>s2;
A105:       dom g=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
            0 in [.0,1.] by XXREAL_1:1;
            then
A106:       k.0=h.(E-max(K)) by A88,A105,FUNCT_1:23
              .=h1.(E-max(K))+h2.(E-max(K)) by A101
              .=(E-max(K))`1+proj2.(E-max(K)) by PSCOMP_1:def 28
              .=(E-max(K))`1+(E-max(K))`2 by PSCOMP_1:def 29
              .=(E-max(K))`1+d by A103,EUCLID:56
              .=b+d by A103,EUCLID:56;
            s1 in [.0,1.] by A90,A91,XXREAL_1:1;
            then
A107:       k.s1=h.p1 by A89,A105,FUNCT_1:23
              .=proj1.p1 +proj2.p1 by A101
              .=p1`1+proj2.p1 by PSCOMP_1:def 28
              .=b+p1`2 by A5,PSCOMP_1:def 29;
A108:       s2 in [.0,1.] by A93,A94,XXREAL_1:1;
            then
A109:       k.s2=h.p2 by A92,A105,FUNCT_1:23
              .=proj1.p2 +proj2.p2 by A101
              .=p2`1+proj2.p2 by PSCOMP_1:def 28
              .=p2`1+c by A82,PSCOMP_1:def 29;
A110:       k.0>=k.s1 by A7,A106,A107,XREAL_1:9;
A111:       k.s1>=k.s2 by A6,A83,A107,A109,XREAL_1:9;
A112:       0 in [.0,1.] by XXREAL_1:1;
            then
A113:       [.0,s2.] c= [.0,1.] by A108,XXREAL_2:def 12;
            reconsider B=[.0,s2.] as Subset of I[01] by A108,A112,BORSUK_1:83
,XXREAL_2:def 12;
A114:       B is connected by A93,A108,A112,BORSUK_1:83,BORSUK_4:49;
A115:       0 in B by A93,XXREAL_1:1;
A116:       s2 in B by A93,XXREAL_1:1;
A117:       k.0 is Real by XREAL_0:def 1;
A118:       k.s2 is Real by XREAL_0:def 1;
            k.s1 is Real by XREAL_0:def 1;
            then consider xc being Point of I[01] such that
A119:       xc in B and
A120:       k.xc =k.s1 by A98,A102,A110,A111,A114,A115,A116,A117,A118,
TOPREAL5:11;
            xc in [.0,1.] by BORSUK_1:83;
            then reconsider rxc=xc as Real;
A121:       for x1,x2 being set st x1 in dom k & x2 in dom k &
            k.x1=k.x2 holds x1=x2
            proof
              let x1,x2 be set;
              assume that
A122:         x1 in dom k and
A123:         x2 in dom k and
A124:         k.x1=k.x2;
              reconsider r1=x1 as Point of I[01] by A122;
              reconsider r2=x2 as Point of I[01] by A123;
A125:         k.x1=h.(g1.x1) by A122,FUNCT_1:22
                .=h1.(g1.r1)+h2.(g1.r1) by A101
                .=(g1.r1)`1+proj2.(g1.r1) by PSCOMP_1:def 28
                .=(g1.r1)`1+(g1.r1)`2 by PSCOMP_1:def 29;
A126:         k.x2=h.(g1.x2) by A123,FUNCT_1:22
                .=h1.(g1.r2)+h2.(g1.r2) by A101
                .=(g1.r2)`1+proj2.(g1.r2) by PSCOMP_1:def 28
                .=(g1.r2)`1+(g1.r2)`2 by PSCOMP_1:def 29;
A127:         g.r1 in Lower_Arc(K) by A97;
A128:         g.r2 in Lower_Arc(K) by A97;
              reconsider gr1=g.r1 as Point of TOP-REAL 2 by A127;
              reconsider gr2=g.r2 as Point of TOP-REAL 2 by A128;
              now per cases by A84,A97,XBOOLE_0:def 3;
                case
A129:             g.r1 in LSeg(|[b,d]|,|[b,c]|) &
                  g.r2 in LSeg(|[b,d]|,|[b,c]|);
                  then
A130:             (gr1)`1=b by A2,Th9;
                  (gr2)`1=b by A2,A129,Th9;
then |[(gr1)`1,(gr1)`2]|=g.r2 by A124,A125,A126,A130,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A95,A96,FUNCT_1:def 8;
                end;
                case
A131:             g.r1 in LSeg(|[b,d]|,|[b,c]|) &
                  g.r2 in LSeg(|[b,c]|,|[a,c]|);
                  then
A132:             (gr1)`1=b by A2,Th9;
A133:             c <=(gr1)`2 by A2,A131,Th9;
A134:             (gr2)`2=c by A1,A131,Th11;
A135:             (gr2)`1 <=b by A1,A131,Th11;
A136:             b+(gr1)`2=(gr2)`1 +c by A2,A124,A125,A126,A131,A134,Th9;
A137:             now
                    assume b<>gr2`1;
                    then b>gr2`1 by A135,XXREAL_0:1;
                    hence contradiction by A124,A125,A126,A132,A133,A134,
XREAL_1:10;
                  end;
                  now
                    assume gr1`2<> c;
                    then c <gr1`2 by A133,XXREAL_0:1;
                    hence contradiction by A135,A136,XREAL_1:10;
                  end;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A132,A134,A137,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A95,A96,FUNCT_1:def 8;
                end;
                case
A138:             g.r1 in LSeg(|[b,c]|,|[a,c]|) &
                  g.r2 in LSeg(|[b,d]|,|[b,c]|);
                  then
A139:             (gr2)`1=b by A2,Th9;
A140:             c <=(gr2)`2 by A2,A138,Th9;
A141:             (gr1)`2=c by A1,A138,Th11;
A142:             (gr1)`1 <=b by A1,A138,Th11;
A143:             b+(gr2)`2=(gr1)`1 +c by A1,A124,A125,A126,A138,A139,Th11;
A144:             now
                    assume b<>gr1`1;
                    then b>gr1`1 by A142,XXREAL_0:1;
                    hence contradiction by A140,A143,XREAL_1:10;
                  end;
                  now
                    assume gr2`2<> c;
                    then c < gr2`2 by A140,XXREAL_0:1;
hence contradiction by A124,A125,A126,A139,A141,A142,XREAL_1:10;
                  end;
                  then |[(gr2)`1,(gr2)`2]|=g.r1 by A139,A141,A144,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A95,A96,FUNCT_1:def 8;
                end;
                case
A145:             g.r1 in LSeg(|[b,c]|,|[a,c]|) &
                  g.r2 in LSeg(|[b,c]|,|[a,c]|);
                  then
A146:             (gr1)`2=c by A1,Th11;
                  (gr2)`2=c by A1,A145,Th11;
then |[(gr1)`1,(gr1)`2]|=g.r2 by A124,A125,A126,A146,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A95,A96,FUNCT_1:def 8;
                end;
              end;
              hence thesis;
            end;
A147:       dom k=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
            then s1 in dom k by A90,A91,XXREAL_1:1;
            then rxc=s1 by A113,A119,A120,A121,A147;
            hence contradiction by A104,A119,XXREAL_1:1;
          end;
          hence thesis;
        end;
        then LE p1,p2,Lower_Arc(K),E-max(K),W-min(K) by A85,A86,JORDAN5C:def 3;
        hence thesis by A81,A85,A86,JORDAN6:def 10;
      end;
    end;
    hence thesis;
  end;
end;

theorem Th72:
  for a,b,c,d being real number,p1,p2 being Point of TOP-REAL 2
  st a<b & c < d & p1 in LSeg(|[b,c]|,|[a,c]|)& p1<>W-min rectangle(a,b,c,d)
  holds LE p1,p2,rectangle(a,b,c,d) iff p2 in LSeg(|[b,c]|,|[a,c]|) &
  p1`1>=p2`1 & p2<>W-min rectangle(a,b,c,d)
proof
  let a,b,c,d be real number,p1,p2 be Point of TOP-REAL 2;
  set K = rectangle(a,b,c,d);
  assume that
A1: a<b and
A2: c <d and
A3: p1 in LSeg(|[b,c]|,|[a,c]|) and
A4: p1<>W-min(K);
A5: K is being_simple_closed_curve by A1,A2,Th60;
A6: p1`2=c by A1,A3,Th11;
A7: p1`1 <= b by A1,A3,Th11;
  thus LE p1,p2,K implies
  p2 in LSeg(|[b,c]|,|[a,c]|) & p1`1>=p2`1 & p2<>W-min(K)
  proof
    assume
A8: LE p1,p2,K;
    then
A9: p2 in K by A5,JORDAN7:5;
    K= LSeg(|[ a,c ]|, |[ a,d ]|) \/ LSeg(|[ a,d ]|, |[ b,d ]|)
    \/ (LSeg(|[ a,c ]|, |[ b,c ]|) \/ LSeg(|[ b,c ]|, |[ b,d ]|))
    by SPPOL_2:def 3
      .=LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
    \/ LSeg(|[b,d]|,|[b,c]|) \/ LSeg(|[b,c]|,|[a,c]|) by XBOOLE_1:4;
    then p2 in LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|)
    \/ LSeg(|[b,d]|,|[b,c]|) or
    p2 in LSeg(|[b,c]|,|[a,c]|) by A9,XBOOLE_0:def 3;
    then
A10: p2 in LSeg(|[a,c]|,|[a,d]|) \/ LSeg(|[a,d]|,|[b,d]|) or
    p2 in LSeg(|[b,d]|,|[b,c]|) or
    p2 in LSeg(|[b,c]|,|[a,c]|) by XBOOLE_0:def 3;
    now per cases by A10,XBOOLE_0:def 3;
      case p2 in LSeg(|[a,c]|,|[a,d]|);
        then LE p2,p1,K by A1,A2,A3,A4,Th69;
        hence thesis by A1,A2,A3,A4,A8,Th60,JORDAN6:72;
      end;
      case p2 in LSeg(|[a,d]|,|[b,d]|);
        then LE p2,p1,K by A1,A2,A3,A4,Th70;
        hence thesis by A1,A2,A3,A4,A8,Th60,JORDAN6:72;
      end;
      case p2 in LSeg(|[b,d]|,|[b,c]|);
        then LE p2,p1,K by A1,A2,A3,A4,Th71;
        hence thesis by A1,A2,A3,A4,A8,Th60,JORDAN6:72;
      end;
      case p2 in LSeg(|[b,c]|,|[a,c]|);
        hence thesis by A1,A2,A3,A4,A8,Th68;
      end;
    end;
    hence thesis;
  end;
  thus
  p2 in LSeg(|[b,c]|,|[a,c]|)& p1`1>=p2`1 & p2<>W-min(K) implies LE p1,p2,K
  proof
    assume that
A11: p2 in LSeg(|[b,c]|,|[a,c]|) and
A12: p1`1>=p2`1 and
A13: p2<>W-min(K);
    now per cases by A11,A12;
      case
A14:    p2 in LSeg(|[b,c]|,|[a,c]|)& p1`1>=p2`1;
        then
A15:    p2`2=c by A1,Th11;
A16:    Lower_Arc(K)=LSeg(|[b,d]|,|[b,c]|) \/ LSeg(|[b,c]|,|[a,c]|)
        by A1,A2,Th62;
        then
A17:    p2 in Lower_Arc(K) by A14,XBOOLE_0:def 3;
A18:    p1 in Lower_Arc(K) by A3,A16,XBOOLE_0:def 3;
        for g being Function of I[01], (TOP-REAL 2)|Lower_Arc(K),
        s1, s2 being Real st g is being_homeomorphism
        & g.0 = E-max(K) & g.1 = W-min(K) & g.s1 = p1 & 0 <= s1 & s1 <= 1
        & g.s2 = p2 & 0 <= s2 & s2 <= 1 holds s1 <= s2
        proof
          let g be Function of I[01], (TOP-REAL 2)|Lower_Arc(K),
          s1, s2 be Real;
          assume that
A19:      g is being_homeomorphism and
A20:      g.0 = E-max(K) and g.1 = W-min(K) and
A21:      g.s1 = p1 and
A22:      0 <= s1 and
A23:      s1 <= 1 and
A24:      g.s2 = p2 and
A25:      0 <= s2 and
A26:      s2 <= 1;
A27:      dom g=the carrier of I[01] by FUNCT_2:def 1;
A28:      g is one-to-one by A19,TOPS_2:def 5;
A29:      the carrier of ((TOP-REAL 2)|Lower_Arc(K))
          =Lower_Arc(K) by PRE_TOPC:29;
          then reconsider g1=g as Function of I[01],TOP-REAL 2 by FUNCT_2:9;
          g is continuous by A19,TOPS_2:def 5;
          then
A30:      g1 is continuous by PRE_TOPC:56;
          reconsider h1=proj1 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
          reconsider h2=proj2 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
          reconsider hh1=h1 as Function of the TopStruct of TOP-REAL 2,R^1;
          reconsider hh2=h2 as Function of the TopStruct of TOP-REAL 2,R^1;
A31:      the TopStruct of TOP-REAL 2
          = (the TopStruct of TOP-REAL 2)|([#](the TopStruct of TOP-REAL 2))
          by TSEP_1:3
            .= the TopStruct of ((TOP-REAL 2)|([#](TOP-REAL 2))) by PRE_TOPC:66
            .= (TOP-REAL 2)|([#](TOP-REAL 2));
          then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh1.p=proj1.p) implies hh1 is continuous by JGRAPH_2:39;
          then
A32:      (for p being Point of (TOP-REAL 2)|([#]TOP-REAL 2)holds
          hh1.p=proj1.p) implies h1 is continuous by PRE_TOPC:62;
          (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh2.p=proj2.p) implies hh2 is continuous by A31,JGRAPH_2:40;
          then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh2.p=proj2.p) implies h2 is continuous by PRE_TOPC:62;
          then consider h being Function of TOP-REAL 2,R^1 such that
A33:      for p being Point of TOP-REAL 2, r1,r2 being real number st h1.p=r1 &
          h2.p=r2 holds h.p=r1+r2 and
A34:      h is continuous by A32,JGRAPH_2:29;
          reconsider k=h*g1 as Function of I[01],R^1;
A35:      E-max K=|[b,d]| by A1,A2,Th56;
          now
            assume
A36:        s1>s2;
A37:        dom g=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
            0 in [.0,1.] by XXREAL_1:1;
            then
A38:        k.0=h.(E-max(K)) by A20,A37,FUNCT_1:23
              .=h1.(E-max(K))+h2.(E-max(K)) by A33
              .=(E-max(K))`1+proj2.(E-max(K)) by PSCOMP_1:def 28
              .=(E-max(K))`1+(E-max(K))`2 by PSCOMP_1:def 29
              .=(E-max(K))`1+d by A35,EUCLID:56
              .=b+d by A35,EUCLID:56;
            s1 in [.0,1.] by A22,A23,XXREAL_1:1;
            then
A39:        k.s1=h.p1 by A21,A37,FUNCT_1:23
              .=proj1.p1 +proj2.p1 by A33
              .=p1`1+proj2.p1 by PSCOMP_1:def 28
              .=p1`1+c by A6,PSCOMP_1:def 29;
A40:        s2 in [.0,1.] by A25,A26,XXREAL_1:1;
            then
A41:        k.s2=h.p2 by A24,A37,FUNCT_1:23
              .=proj1.p2 +proj2.p2 by A33
              .=p2`1+proj2.p2 by PSCOMP_1:def 28
              .=p2`1+c by A15,PSCOMP_1:def 29;
A42:        k.0>=k.s1 by A2,A7,A38,A39,XREAL_1:9;
A43:        k.s1>=k.s2 by A14,A39,A41,XREAL_1:9;
A44:        0 in [.0,1.] by XXREAL_1:1;
            then
A45:        [.0,s2.] c= [.0,1.] by A40,XXREAL_2:def 12;
            reconsider B=[.0,s2.] as Subset of I[01] by A40,A44,BORSUK_1:83
,XXREAL_2:def 12;
A46:        B is connected by A25,A40,A44,BORSUK_1:83,BORSUK_4:49;
A47:        0 in B by A25,XXREAL_1:1;
A48:        s2 in B by A25,XXREAL_1:1;
A49:        k.0 is Real by XREAL_0:def 1;
A50:        k.s2 is Real by XREAL_0:def 1;
            k.s1 is Real by XREAL_0:def 1;
            then consider xc being Point of I[01] such that
A51:        xc in B and
A52:        k.xc =k.s1 by A30,A34,A42,A43,A46,A47,A48,A49,A50,TOPREAL5:11;
            xc in [.0,1.] by BORSUK_1:83;
            then reconsider rxc=xc as Real;
A53:        for x1,x2 being set st x1 in dom k & x2 in dom k &
            k.x1=k.x2 holds x1=x2
            proof
              let x1,x2 be set;
              assume that
A54:          x1 in dom k and
A55:          x2 in dom k and
A56:          k.x1=k.x2;
              reconsider r1=x1 as Point of I[01] by A54;
              reconsider r2=x2 as Point of I[01] by A55;
A57:          k.x1=h.(g1.x1) by A54,FUNCT_1:22
                .=h1.(g1.r1)+h2.(g1.r1) by A33
                .=(g1.r1)`1+proj2.(g1.r1) by PSCOMP_1:def 28
                .=(g1.r1)`1+(g1.r1)`2 by PSCOMP_1:def 29;
A58:          k.x2=h.(g1.x2) by A55,FUNCT_1:22
                .=h1.(g1.r2)+h2.(g1.r2) by A33
                .=(g1.r2)`1+proj2.(g1.r2) by PSCOMP_1:def 28
                .=(g1.r2)`1+(g1.r2)`2 by PSCOMP_1:def 29;
A59:          g.r1 in Lower_Arc(K) by A29;
A60:          g.r2 in Lower_Arc(K) by A29;
              reconsider gr1=g.r1 as Point of TOP-REAL 2 by A59;
              reconsider gr2=g.r2 as Point of TOP-REAL 2 by A60;
              now per cases by A16,A29,XBOOLE_0:def 3;
                case
A61:              g.r1 in LSeg(|[b,d]|,|[b,c]|) &
                  g.r2 in LSeg(|[b,d]|,|[b,c]|);
                  then
A62:              (gr1)`1=b by A2,Th9;
                  (gr2)`1=b by A2,A61,Th9;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A56,A57,A58,A62,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A27,A28,FUNCT_1:def 8;
                end;
                case
A63:              g.r1 in LSeg(|[b,d]|,|[b,c]|) &
                  g.r2 in LSeg(|[b,c]|,|[a,c]|);
                  then
A64:              (gr1)`1=b by A2,Th9;
A65:              c <=(gr1)`2 by A2,A63,Th9;
A66:              (gr2)`2=c by A1,A63,Th11;
A67:              (gr2)`1 <=b by A1,A63,Th11;
A68:              b+(gr1)`2=(gr2)`1 +c by A2,A56,A57,A58,A63,A66,Th9;
A69:              now
                    assume b<>gr2`1;
                    then b>gr2`1 by A67,XXREAL_0:1;
                    hence contradiction by A56,A57,A58,A64,A65,A66,XREAL_1:10;
                  end;
                  now
                    assume gr1`2<> c;
                    then c <gr1`2 by A65,XXREAL_0:1;
                    hence contradiction by A67,A68,XREAL_1:10;
                  end;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A64,A66,A69,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A27,A28,FUNCT_1:def 8;
                end;
                case
A70:              g.r1 in LSeg(|[b,c]|,|[a,c]|) &
                  g.r2 in LSeg(|[b,d]|,|[b,c]|);
                  then
A71:              (gr2)`1=b by A2,Th9;
A72:              c <=(gr2)`2 by A2,A70,Th9;
A73:              (gr1)`2=c by A1,A70,Th11;
A74:              (gr1)`1 <=b by A1,A70,Th11;
A75:              b+(gr2)`2=(gr1)`1 +c by A1,A56,A57,A58,A70,A71,Th11;
A76:              now
                    assume b<>gr1`1;
                    then b>gr1`1 by A74,XXREAL_0:1;
                    hence contradiction by A72,A75,XREAL_1:10;
                  end;
                  now
                    assume gr2`2<> c;
                    then c < gr2`2 by A72,XXREAL_0:1;
                    hence contradiction by A56,A57,A58,A71,A73,A74,XREAL_1:10;
                  end;
                  then |[(gr2)`1,(gr2)`2]|=g.r1 by A71,A73,A76,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A27,A28,FUNCT_1:def 8;
                end;
                case
A77:              g.r1 in LSeg(|[b,c]|,|[a,c]|) &
                  g.r2 in LSeg(|[b,c]|,|[a,c]|);
                  then
A78:              (gr1)`2=c by A1,Th11;
                  (gr2)`2=c by A1,A77,Th11;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A56,A57,A58,A78,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A27,A28,FUNCT_1:def 8;
                end;
              end;
              hence thesis;
            end;
A79:        dom k=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
            then s1 in dom k by A22,A23,XXREAL_1:1;
            then rxc=s1 by A45,A51,A52,A53,A79;
            hence contradiction by A36,A51,XXREAL_1:1;
          end;
          hence thesis;
        end;
        then LE p1,p2,Lower_Arc(K),E-max(K),W-min(K) by A17,A18,JORDAN5C:def 3;
        hence thesis by A13,A17,A18,JORDAN6:def 10;
      end;
      case
A80:    p2 in LSeg(|[b,c]|,|[a,c]|) & p2<>W-min(K);
        then
A81:    p2`2=c by A1,Th11;
A82:    Lower_Arc(K)=LSeg(|[b,d]|,|[b,c]|) \/ LSeg(|[b,c]|,|[a,c]|)
        by A1,A2,Th62;
        then
A83:    p2 in Lower_Arc(K) by A80,XBOOLE_0:def 3;
A84:    p1 in Lower_Arc(K) by A3,A82,XBOOLE_0:def 3;
        for g being Function of I[01], (TOP-REAL 2)|Lower_Arc(K),
        s1, s2 being Real st g is being_homeomorphism
        & g.0 = E-max(K) & g.1 = W-min(K) & g.s1 = p1 & 0 <= s1 & s1 <= 1
        & g.s2 = p2 & 0 <= s2 & s2 <= 1 holds s1 <= s2
        proof
          let g be Function of I[01], (TOP-REAL 2)|Lower_Arc(K),
          s1, s2 be Real;
          assume that
A85:      g is being_homeomorphism and
A86:      g.0 = E-max(K) and g.1 = W-min(K) and
A87:      g.s1 = p1 and
A88:      0 <= s1 and
A89:      s1 <= 1 and
A90:      g.s2 = p2 and
A91:      0 <= s2 and
A92:      s2 <= 1;
A93:      dom g=the carrier of I[01] by FUNCT_2:def 1;
A94:      g is one-to-one by A85,TOPS_2:def 5;
A95:      the carrier of ((TOP-REAL 2)|Lower_Arc(K))
          =Lower_Arc(K) by PRE_TOPC:29;
          then reconsider g1=g as Function of I[01],TOP-REAL 2 by FUNCT_2:9;
          g is continuous by A85,TOPS_2:def 5;
          then
A96:      g1 is continuous by PRE_TOPC:56;
          reconsider h1=proj1 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
          reconsider h2=proj2 as Function of TOP-REAL 2,R^1 by TOPMETR:24;
          reconsider hh1=h1 as Function of the TopStruct of TOP-REAL 2,R^1;
          reconsider hh2=h2 as Function of the TopStruct of TOP-REAL 2,R^1;
A97:      the TopStruct of TOP-REAL 2
          = (the TopStruct of TOP-REAL 2)|([#](the TopStruct of TOP-REAL 2))
          by TSEP_1:3
            .= the TopStruct of ((TOP-REAL 2)|([#](TOP-REAL 2))) by PRE_TOPC:66
            .= (TOP-REAL 2)|([#](TOP-REAL 2));
          then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh1.p=proj1.p) implies hh1 is continuous by JGRAPH_2:39;
          then
A98:      (for p being Point of (TOP-REAL 2)|([#]TOP-REAL 2)holds
          hh1.p=proj1.p) implies h1 is continuous by PRE_TOPC:62;
          (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh2.p=proj2.p) implies hh2 is continuous by A97,JGRAPH_2:40;
          then (for p being Point of (TOP-REAL 2)|([#](TOP-REAL 2)) holds
          hh2.p=proj2.p) implies h2 is continuous by PRE_TOPC:62;
          then consider h being Function of TOP-REAL 2,R^1 such that
A99:      for p being Point of TOP-REAL 2, r1,r2 being real number st h1.p=r1 &
          h2.p=r2 holds h.p=r1+r2 and
A100:     h is continuous by A98,JGRAPH_2:29;
          reconsider k=h*g1 as Function of I[01],R^1;
A101:     E-max K=|[b,d]| by A1,A2,Th56;
          now
            assume
A102:       s1>s2;
A103:       dom g=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
            0 in [.0,1.] by XXREAL_1:1;
            then
A104:       k.0=h.(E-max(K)) by A86,A103,FUNCT_1:23
              .=h1.(E-max(K))+h2.(E-max(K)) by A99
              .=(E-max(K))`1+proj2.(E-max(K)) by PSCOMP_1:def 28
              .=(E-max(K))`1+(E-max(K))`2 by PSCOMP_1:def 29
              .=(E-max(K))`1+d by A101,EUCLID:56
              .=b+d by A101,EUCLID:56;
            s1 in [.0,1.] by A88,A89,XXREAL_1:1;
            then
A105:       k.s1=h.p1 by A87,A103,FUNCT_1:23
              .=proj1.p1 +proj2.p1 by A99
              .=p1`1+proj2.p1 by PSCOMP_1:def 28
              .=p1`1+c by A6,PSCOMP_1:def 29;
A106:       s2 in [.0,1.] by A91,A92,XXREAL_1:1;
            then
A107:       k.s2=h.p2 by A90,A103,FUNCT_1:23
              .=proj1.p2 +proj2.p2 by A99
              .=p2`1+proj2.p2 by PSCOMP_1:def 28
              .=p2`1+c by A81,PSCOMP_1:def 29;
A108:       k.0>=k.s1 by A2,A7,A104,A105,XREAL_1:9;
A109:       k.s1>=k.s2 by A12,A105,A107,XREAL_1:9;
A110:       0 in [.0,1.] by XXREAL_1:1;
            then
A111:       [.0,s2.] c= [.0,1.] by A106,XXREAL_2:def 12;
            reconsider B=[.0,s2.] as Subset of I[01] by A106,A110,BORSUK_1:83
,XXREAL_2:def 12;
A112:       B is connected by A91,A106,A110,BORSUK_1:83,BORSUK_4:49;
A113:       0 in B by A91,XXREAL_1:1;
A114:       s2 in B by A91,XXREAL_1:1;
A115:       k.0 is Real by XREAL_0:def 1;
A116:       k.s2 is Real by XREAL_0:def 1;
            k.s1 is Real by XREAL_0:def 1;
            then consider xc being Point of I[01] such that
A117:       xc in B and
A118:       k.xc =k.s1 by A96,A100,A108,A109,A112,A113,A114,A115,A116,
TOPREAL5:11;
            xc in [.0,1.] by BORSUK_1:83;
            then reconsider rxc=xc as Real;
A119:       for x1,x2 being set st x1 in dom k & x2 in dom k &
            k.x1=k.x2 holds x1=x2
            proof
              let x1,x2 be set;
              assume that
A120:         x1 in dom k and
A121:         x2 in dom k and
A122:         k.x1=k.x2;
              reconsider r1=x1 as Point of I[01] by A120;
              reconsider r2=x2 as Point of I[01] by A121;
A123:         k.x1=h.(g1.x1) by A120,FUNCT_1:22
                .=h1.(g1.r1)+h2.(g1.r1) by A99
                .=(g1.r1)`1+proj2.(g1.r1) by PSCOMP_1:def 28
                .=(g1.r1)`1+(g1.r1)`2 by PSCOMP_1:def 29;
A124:         k.x2=h.(g1.x2) by A121,FUNCT_1:22
                .=h1.(g1.r2)+h2.(g1.r2) by A99
                .=(g1.r2)`1+proj2.(g1.r2) by PSCOMP_1:def 28
                .=(g1.r2)`1+(g1.r2)`2 by PSCOMP_1:def 29;
A125:         g.r1 in Lower_Arc(K) by A95;
A126:         g.r2 in Lower_Arc(K) by A95;
              reconsider gr1=g.r1 as Point of TOP-REAL 2 by A125;
              reconsider gr2=g.r2 as Point of TOP-REAL 2 by A126;
              now per cases by A82,A95,XBOOLE_0:def 3;
                case
A127:             g.r1 in LSeg(|[b,d]|,|[b,c]|) &
                  g.r2 in LSeg(|[b,d]|,|[b,c]|);
                  then
A128:             (gr1)`1=b by A2,Th9;
                  (gr2)`1=b by A2,A127,Th9;
then |[(gr1)`1,(gr1)`2]|=g.r2 by A122,A123,A124,A128,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A93,A94,FUNCT_1:def 8;
                end;
                case
A129:             g.r1 in LSeg(|[b,d]|,|[b,c]|) &
                  g.r2 in LSeg(|[b,c]|,|[a,c]|);
                  then
A130:             (gr1)`1=b by A2,Th9;
A131:             c <=(gr1)`2 by A2,A129,Th9;
A132:             (gr2)`2=c by A1,A129,Th11;
A133:             (gr2)`1 <=b by A1,A129,Th11;
A134:             b+(gr1)`2=(gr2)`1 +c by A2,A122,A123,A124,A129,A132,Th9;
A135:             now
                    assume b<>gr2`1;
                    then b>gr2`1 by A133,XXREAL_0:1;
                    hence contradiction by A122,A123,A124,A130,A131,A132,
XREAL_1:10;
                  end;
                  now
                    assume gr1`2<> c;
                    then c <gr1`2 by A131,XXREAL_0:1;
                    hence contradiction by A133,A134,XREAL_1:10;
                  end;
                  then |[(gr1)`1,(gr1)`2]|=g.r2 by A130,A132,A135,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A93,A94,FUNCT_1:def 8;
                end;
                case
A136:             g.r1 in LSeg(|[b,c]|,|[a,c]|) &
                  g.r2 in LSeg(|[b,d]|,|[b,c]|);
                  then
A137:             (gr2)`1=b by A2,Th9;
A138:             c <=(gr2)`2 by A2,A136,Th9;
A139:             (gr1)`2=c by A1,A136,Th11;
A140:             (gr1)`1 <=b by A1,A136,Th11;
A141:             b+(gr2)`2=(gr1)`1 +c by A1,A122,A123,A124,A136,A137,Th11;
A142:             now
                    assume b<>gr1`1;
                    then b>gr1`1 by A140,XXREAL_0:1;
                    hence contradiction by A138,A141,XREAL_1:10;
                  end;
                  now
                    assume gr2`2<> c;
                    then c < gr2`2 by A138,XXREAL_0:1;
hence contradiction by A122,A123,A124,A137,A139,A140,XREAL_1:10;
                  end;
                  then |[(gr2)`1,(gr2)`2]|=g.r1 by A137,A139,A142,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A93,A94,FUNCT_1:def 8;
                end;
                case
A143:             g.r1 in LSeg(|[b,c]|,|[a,c]|) &
                  g.r2 in LSeg(|[b,c]|,|[a,c]|);
                  then
A144:             (gr1)`2=c by A1,Th11;
                  (gr2)`2=c by A1,A143,Th11;
then |[(gr1)`1,(gr1)`2]|=g.r2 by A122,A123,A124,A144,EUCLID:57;
                  then g.r1=g.r2 by EUCLID:57;
                  hence thesis by A93,A94,FUNCT_1:def 8;
                end;
              end;
              hence thesis;
            end;
A145:       dom k=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
            then s1 in dom k by A88,A89,XXREAL_1:1;
            then rxc=s1 by A111,A117,A118,A119,A145;
            hence contradiction by A102,A117,XXREAL_1:1;
          end;
          hence thesis;
        end;
        then LE p1,p2,Lower_Arc(K),E-max(K),W-min(K) by A83,A84,JORDAN5C:def 3;
        hence thesis by A80,A83,A84,JORDAN6:def 10;
      end;
    end;
    hence thesis;
  end;
end;

theorem Th73:
  for x being set,a,b,c,d being real number
  st x in rectangle(a,b,c,d) & a<b & c <d
  holds x in LSeg(|[a,c]|,|[a,d]|) or x in LSeg(|[a,d]|,|[b,d]|)
  or x in LSeg(|[b,d]|,|[b,c]|) or x in LSeg(|[b,c]|,|[a,c]|)
proof
  let x be set,a,b,c,d be real number;
  assume that
A1: x in rectangle(a,b,c,d) and
A2: a<b and
A3: c <d;
  x in {q: q`1 = a & q`2 <= d & q`2 >= c or q`1 <= b & q`1 >= a & q`2 = d or
  q`1 <= b & q`1 >= a & q`2 = c or q`1 = b & q`2 <= d & q`2 >= c}
  by A1,A2,A3,SPPOL_2:58;
  then consider p such that
A4: p=x and
A5: p`1 = a & p`2 <= d & p`2 >= c or p`1 <= b & p`1 >= a & p`2 = d or p
  `1 <= b & p`1 >= a & p`2 = c or p`1 = b & p`2 <= d & p`2 >= c;
  now per cases by A5;
    case
A6:   p`1=a & c <=p`2 & p`2<=d;
A7:   d-c >0 by A3,XREAL_1:52;
A8:   p`2 -c >=0 by A6,XREAL_1:50;
A9:   d-p`2 >=0 by A6,XREAL_1:50;
      reconsider r=(p`2-c)/(d-c) as Real;
A10:  1-r=(d-c)/(d-c)-(p`2-c)/(d-c) by A7,XCMPLX_1:60
        .=((d-c)-(p`2 -c))/(d-c) by XCMPLX_1:121
        .=(d-p`2)/(d-c);
      then
A11:  1-r+r>=0+r by A7,A9,XREAL_1:9;
A12:  ((1-r)*(|[a,c]|)+r*(|[a,d]|))`1
      =((1-r)*(|[a,c]|))`1+(r*(|[a,d]|))`1 by TOPREAL3:7
        .=(1-r)*((|[a,c]|)`1)+(r*(|[a,d]|))`1 by TOPREAL3:9
        .=(1-r)*a+(r*(|[a,d]|))`1 by EUCLID:56
        .=(1-r)*a+r*((|[a,d]|)`1) by TOPREAL3:9
        .=(1-r)*a+r*a by EUCLID:56
        .=p`1 by A6;
      ((1-r)*(|[a,c]|)+r*(|[a,d]|))`2
      =((1-r)*(|[a,c]|))`2+(r*(|[a,d]|))`2 by TOPREAL3:7
        .=(1-r)*((|[a,c]|)`2)+(r*(|[a,d]|))`2 by TOPREAL3:9
        .=(1-r)*c+(r*(|[a,d]|))`2 by EUCLID:56
        .=(1-r)*c+r*((|[a,d]|)`2) by TOPREAL3:9
        .=(d-p`2)/(d-c)*c+(p`2-c)/(d-c)*d by A10,EUCLID:56
        .=(d-p`2)*(d-c)"*c + (p`2-c)/(d-c)*d by XCMPLX_0:def 9
        .=(d-c)"*((d-p`2)*c)+ (d-c)"*(p`2-c)*d by XCMPLX_0:def 9
        .=(d-c)"*(d -c)*p`2
        .=1*p`2 by A7,XCMPLX_0:def 7
        .=p`2;
      then p=|[((1-r)*(|[a,c]|)+r*(|[a,d]|))`1,
      ((1-r)*(|[a,c]|)+r*(|[a,d]|))`2]| by A12,EUCLID:57
        .=(1-r)*(|[a,c]|)+r*(|[a,d]|) by EUCLID:57;
      hence thesis by A4,A7,A8,A11;
    end;
    case
A13:  p`2=d & a<=p`1 & p`1<=b;
A14:  b-a >0 by A2,XREAL_1:52;
A15:  p`1 -a >=0 by A13,XREAL_1:50;
A16:  b-p`1 >=0 by A13,XREAL_1:50;
      reconsider r=(p`1-a)/(b-a) as Real;
A17:  1-r=(b-a)/(b-a)-(p`1-a)/(b-a) by A14,XCMPLX_1:60
        .=((b-a)-(p`1 -a))/(b-a) by XCMPLX_1:121
        .=(b-p`1)/(b-a);
      then
A18:  1-r+r>=0+r by A14,A16,XREAL_1:9;
A19:  ((1-r)*(|[a,d]|)+r*(|[b,d]|))`1
      =((1-r)*(|[a,d]|))`1+(r*(|[b,d]|))`1 by TOPREAL3:7
        .=(1-r)*((|[a,d]|)`1)+(r*(|[b,d]|))`1 by TOPREAL3:9
        .=(1-r)*a+(r*(|[b,d]|))`1 by EUCLID:56
        .=(1-r)*a+r*((|[b,d]|)`1) by TOPREAL3:9
        .=(b-p`1)/(b-a)*a+(p`1-a)/(b-a)*b by A17,EUCLID:56
        .=(b-p`1)*(b-a)"*a + (p`1-a)/(b-a)*b by XCMPLX_0:def 9
        .=(b-a)"*((b-p`1)*a)+ (b-a)"*(p`1-a)*b by XCMPLX_0:def 9
        .=(b-a)"*(b -a)*p`1
        .=1*p`1 by A14,XCMPLX_0:def 7
        .=p`1;
      ((1-r)*(|[a,d]|)+r*(|[b,d]|))`2
      =((1-r)*(|[a,d]|))`2+(r*(|[b,d]|))`2 by TOPREAL3:7
        .=(1-r)*((|[a,d]|)`2)+(r*(|[b,d]|))`2 by TOPREAL3:9
        .=(1-r)*d+(r*(|[b,d]|))`2 by EUCLID:56
        .=(1-r)*d+r*((|[b,d]|)`2) by TOPREAL3:9
        .=(1-r)*d+r*d by EUCLID:56
        .=p`2 by A13;
      then p=|[((1-r)*(|[a,d]|)+r*(|[b,d]|))`1,
      ((1-r)*(|[a,d]|)+r*(|[b,d]|))`2]| by A19,EUCLID:57
        .=(1-r)*(|[a,d]|)+r*(|[b,d]|) by EUCLID:57;
      hence thesis by A4,A14,A15,A18;
    end;
    case
A20:  p`1=b & c <=p`2 & p`2<=d;
A21:  d-c >0 by A3,XREAL_1:52;
A22:  p`2 -c >=0 by A20,XREAL_1:50;
A23:  d-p`2 >=0 by A20,XREAL_1:50;
      reconsider r=(d-p`2)/(d-c) as Real;
A24:  1-r=(d-c)/(d-c)-(d-p`2)/(d-c) by A21,XCMPLX_1:60
        .=((d-c)-(d-p`2))/(d-c) by XCMPLX_1:121
        .=(p`2-c)/(d-c);
      then
A25:  1-r+r>=0+r by A21,A22,XREAL_1:9;
A26:  ((1-r)*(|[b,d]|)+r*(|[b,c]|))`1
      =((1-r)*(|[b,d]|))`1+(r*(|[b,c]|))`1 by TOPREAL3:7
        .=(1-r)*((|[b,d]|)`1)+(r*(|[b,c]|))`1 by TOPREAL3:9
        .=(1-r)*b+(r*(|[b,c]|))`1 by EUCLID:56
        .=(1-r)*b+r*((|[b,c]|)`1) by TOPREAL3:9
        .=(1-r)*b+r*b by EUCLID:56
        .=p`1 by A20;
      ((1-r)*(|[b,d]|)+r*(|[b,c]|))`2
      =((1-r)*(|[b,d]|))`2+(r*(|[b,c]|))`2 by TOPREAL3:7
        .=(1-r)*((|[b,d]|)`2)+(r*(|[b,c]|))`2 by TOPREAL3:9
        .=(1-r)*d+(r*(|[b,c]|))`2 by EUCLID:56
        .=(1-r)*d+r*((|[b,c]|)`2) by TOPREAL3:9
        .=(p`2-c)/(d-c)*d+(d-p`2)/(d-c)*c by A24,EUCLID:56
        .=(p`2-c)*(d-c)"*d + (d-p`2)/(d-c)*c by XCMPLX_0:def 9
        .=(d-c)"*((p`2-c)*d)+ (d-c)"*(d-p`2)*c by XCMPLX_0:def 9
        .=(d-c)"*(d -c)*p`2
        .=1*p`2 by A21,XCMPLX_0:def 7
        .=p`2;
      then p=|[((1-r)*(|[b,d]|)+r*(|[b,c]|))`1,
      ((1-r)*(|[b,d]|)+r*(|[b,c]|))`2]| by A26,EUCLID:57
        .=(1-r)*(|[b,d]|)+r*(|[b,c]|) by EUCLID:57;
      hence thesis by A4,A21,A23,A25;
    end;
    case
A27:  p`2=c & a<=p`1 & p`1<=b;
A28:  b-a >0 by A2,XREAL_1:52;
A29:  p`1 -a >=0 by A27,XREAL_1:50;
A30:  b-p`1 >=0 by A27,XREAL_1:50;
      reconsider r=(b-p`1)/(b-a) as Real;
A31:  1-r=(b-a)/(b-a)-(b-p`1)/(b-a) by A28,XCMPLX_1:60
        .=((b-a)-(b-p`1))/(b-a) by XCMPLX_1:121
        .=(p`1-a)/(b-a);
      then
A32:  1-r+r>=0+r by A28,A29,XREAL_1:9;
A33:  ((1-r)*(|[b,c]|)+r*(|[a,c]|))`1
      =((1-r)*(|[b,c]|))`1+(r*(|[a,c]|))`1 by TOPREAL3:7
        .=(1-r)*((|[b,c]|)`1)+(r*(|[a,c]|))`1 by TOPREAL3:9
        .=(1-r)*b+(r*(|[a,c]|))`1 by EUCLID:56
        .=(1-r)*b+r*((|[a,c]|)`1) by TOPREAL3:9
        .=(p`1-a)/(b-a)*b+(b-p`1)/(b-a)*a by A31,EUCLID:56
        .=(p`1-a)*(b-a)"*b + (b-p`1)/(b-a)*a by XCMPLX_0:def 9
        .=(b-a)"*((p`1-a)*b)+ (b-a)"*(b-p`1)*a by XCMPLX_0:def 9
        .=(b-a)"*(b -a)*p`1
        .=1*p`1 by A28,XCMPLX_0:def 7
        .=p`1;
      ((1-r)*(|[b,c]|)+r*(|[a,c]|))`2
      =((1-r)*(|[b,c]|))`2+(r*(|[a,c]|))`2 by TOPREAL3:7
        .=(1-r)*((|[b,c]|)`2)+(r*(|[a,c]|))`2 by TOPREAL3:9
        .=(1-r)*c+(r*(|[a,c]|))`2 by EUCLID:56
        .=(1-r)*c+r*((|[a,c]|)`2) by TOPREAL3:9
        .=(1-r)*c+r*c by EUCLID:56
        .=p`2 by A27;
      then p=|[((1-r)*(|[b,c]|)+r*(|[a,c]|))`1,
      ((1-r)*(|[b,c]|)+r*(|[a,c]|))`2]| by A33,EUCLID:57
        .=(1-r)*(|[b,c]|)+r*(|[a,c]|) by EUCLID:57;
      hence thesis by A4,A28,A30,A32;
    end;
  end;
  hence thesis;
end;

begin :: General Fashoda Theorem for Unit Square

theorem Th74:
  for p1,p2 being Point of TOP-REAL 2
  st LE p1,p2,rectangle(-1,1,-1,1) & p1 in LSeg(|[-1,-1]|,|[-1,1]|)
  holds p2 in LSeg(|[-1,-1]|,|[-1,1]|)& p2`2>=p1`2 or
  p2 in LSeg(|[-1,1]|,|[1,1]|) or p2 in LSeg(|[1,1]|,|[1,-1]|)
  or p2 in LSeg(|[1,-1]|,|[-1,-1]|)& p2<>|[-1,-1]|
proof
  let p1,p2 be Point of TOP-REAL 2;
  set K = rectangle(-1,1,-1,1);
  assume that
A1: LE p1,p2,K and
A2: p1 in LSeg(|[-1,-1]|,|[-1,1]|);
  p2 in LSeg(|[-1,-1]|,|[-1,1]|) & p1`2<=p2`2
  or p2 in LSeg(|[-1,1]|,|[1,1]|) or p2 in LSeg(|[1,1]|,|[1,-1]|)
  or p2 in LSeg(|[1,-1]|,|[-1,-1]|) & p2<>W-min(K) by A1,A2,Th69;
  hence thesis by Th56;
end;

theorem Th75:
  for p1,p2 being Point of TOP-REAL 2,
  P being non empty compact Subset of TOP-REAL 2,
  f being Function of TOP-REAL 2,TOP-REAL 2 st P= circle(0,0,1) & f=Sq_Circ
  & p1 in LSeg(|[-1,-1]|,|[-1,1]|)& p1`2>=0 & LE p1,p2,rectangle(-1,1,-1,1)
  holds LE f.p1,f.p2,P
proof
  let p1,p2 be Point of TOP-REAL 2,
  P be non empty compact Subset of TOP-REAL 2,
  f be Function of TOP-REAL 2,TOP-REAL 2;
  set K = rectangle(-1,1,-1,1);
  assume that
A1: P= circle(0,0,1) and
A2: f=Sq_Circ and
A3: p1 in LSeg(|[-1,-1]|,|[-1,1]|) and
A4: p1`2>=0 and
A5: LE p1,p2,K;
A6: K is being_simple_closed_curve by Th60;
A7: P={p: |.p.|=1} by A1,Th33;
A8: p1`1=-1 by A3,Th9;
A9: p1`2<=1 by A3,Th9;
A10: p1 in K by A5,A6,JORDAN7:5;
A11: p2 in K by A5,A6,JORDAN7:5;
A12: f.:K=P by A2,A7,Lm15,Th45,JGRAPH_3:33;
A13: dom f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
  then
A14: f.p1 in P by A10,A12,FUNCT_1:def 12;
A15: f.p2 in P by A11,A12,A13,FUNCT_1:def 12;
A16: p1`1=-1 by A3,Th9;
A17: (p1`2)^2 >=0 by XREAL_1:65;
  then
A18: sqrt(1+(p1`2)^2)>0 by SQUARE_1:93;
A19: p1`2<=-p1`1 by A3,A8,Th9;
  p1<>0.TOP-REAL 2 by A8,EUCLID:56,58;
  then
A20: f.p1= |[p1`1/sqrt(1+(p1`2/p1`1)^2),p1`2/sqrt(1+(p1`2/p1`1)^2)]|
  by A2,A4,A16,A19,JGRAPH_3:def 1;
  then
A21: (f.p1)`1= p1`1/sqrt(1+(p1`2/(-1))^2) by A16,EUCLID:56
    .=(p1`1)/sqrt(1+(p1`2)^2);
A22: (f.p1)`2= p1`2/sqrt(1+(p1`2/(-1))^2) by A16,A20,EUCLID:56
    .=(p1`2)/sqrt(1+(p1`2)^2);
A23: (f.p1)`1<0 by A16,A17,A21,SQUARE_1:93,XREAL_1:143;
A24: (f.p1)`2>=0 by A4,A18,A22;
  f.p1 in {p9 where p9 is Point of TOP-REAL 2:p9 in P & p9`2>=0} by A4,A14,A18
,A22;
  then
A25: f.p1 in Upper_Arc(P) by A7,JGRAPH_5:37;
  now per cases by A3,A5,Th74;
    case
A26:  p2 in LSeg(|[-1,-1]|,|[-1,1]|)& p2`2>=p1`2;
A27:  (p2`2)^2 >=0 by XREAL_1:65;
      then
A28:  sqrt(1+(p2`2)^2)>0 by SQUARE_1:93;
A29:  p2`1=-1 by A26,Th9;
A30:  -1<=p2`2 by A26,Th9;
A31:  p2`2<=-p2`1 by A26,A29,Th9;
      p2<>0.TOP-REAL 2 by A29,EUCLID:56,58;
      then
A32:  f.p2= |[p2`1/sqrt(1+(p2`2/p2`1)^2),p2`2/sqrt(1+(p2`2/p2`1)^2) ]|
      by A2,A29,A30,A31,JGRAPH_3:def 1;
      then
A33:  (f.p2)`1= p2`1/sqrt(1+(p2`2/(-1))^2) by A29,EUCLID:56
        .=(p2`1)/sqrt(1+(p2`2)^2);
A34:  (f.p2)`2= p2`2/sqrt(1+(p2`2/(-1))^2) by A29,A32,EUCLID:56
        .=(p2`2)/sqrt(1+(p2`2)^2);
A35:  (f.p2)`1<0 by A27,A29,A33,SQUARE_1:93,XREAL_1:143;
      (p1`2)*sqrt(1+(p2`2)^2)<= (p2`2)*sqrt(1+(p1`2)^2) by A4,A26,Lm3;
      then (p1`2)*sqrt(1+(p2`2)^2)/sqrt(1+(p2`2)^2)
      <= (p2`2)*sqrt(1+(p1`2)^2)/sqrt(1+(p2`2)^2) by A28,XREAL_1:74;
      then (p1`2)
      <= (p2`2)*sqrt(1+(p1`2)^2)/sqrt(1+(p2`2)^2) by A28,XCMPLX_1:90;
      then (p1`2)/sqrt(1+(p1`2)^2)
      <= (p2`2)*sqrt(1+(p1`2)^2)/sqrt(1+(p2`2)^2)/sqrt(1+(p1`2)^2)
      by A18,XREAL_1:74;
      then (p1`2)/sqrt(1+(p1`2)^2)
      <= (p2`2)*sqrt(1+(p1`2)^2)/sqrt(1+(p1`2)^2)/sqrt(1+(p2`2)^2)
      by XCMPLX_1:48;
      then (f.p1)`2<=(f.p2)`2 by A18,A22,A34,XCMPLX_1:90;
      hence thesis by A7,A14,A15,A23,A24,A35,JGRAPH_5:56;
    end;
    case
A36:  p2 in LSeg(|[-1,1]|,|[1,1]|);
      then
A37:  p2`2=1 by Th11;
A38:  -1<=p2`1 by A36,Th11;
A39:  p2`1<=1 by A36,Th11;
      (p2`1)^2 >=0 by XREAL_1:65;
      then
A40:  sqrt(1+(p2`1)^2)>0 by SQUARE_1:93;
      p2<>0.TOP-REAL 2 by A37,EUCLID:56,58;
      then
A41:  f.p2= |[p2`1/sqrt(1+(p2`1/p2`2)^2),p2`2/sqrt(1+(p2`1/p2`2)^2) ]|
      by A2,A37,A38,A39,JGRAPH_3:14;
      then
A42:  (f.p2)`1=(p2`1)/sqrt(1+(p2`1)^2) by A37,EUCLID:56;
A43:  (f.p2)`2>=0 by A37,A40,A41,EUCLID:56;
      -sqrt(1+(p2`1)^2)<= (p2`1)*sqrt(1+(p1`2)^2) by A4,A9,A38,A39,SQUARE_1:125
;
      then (p1`1)*sqrt(1+(p2`1)^2)/sqrt(1+(p2`1)^2)
      <= (p2`1)*sqrt(1+(p1`2)^2)/sqrt(1+(p2`1)^2) by A8,A40,XREAL_1:74;
      then (p1`1)
      <= (p2`1)*sqrt(1+(p1`2)^2)/sqrt(1+(p2`1)^2) by A40,XCMPLX_1:90;
      then (p1`1)/sqrt(1+(p1`2)^2)
      <= (p2`1)*sqrt(1+(p1`2)^2)/sqrt(1+(p2`1)^2)/sqrt(1+(p1`2)^2)
      by A18,XREAL_1:74;
      then (p1`1)/sqrt(1+(p1`2)^2)
      <= (p2`1)*sqrt(1+(p1`2)^2)/sqrt(1+(p1`2)^2)/sqrt(1+(p2`1)^2)
      by XCMPLX_1:48;
      then (f.p1)`1<=(f.p2)`1 by A18,A21,A42,XCMPLX_1:90;
      hence thesis by A4,A7,A14,A15,A18,A22,A43,JGRAPH_5:57;
    end;
    case
A44:  p2 in LSeg(|[1,1]|,|[1,-1]|);
      then
A45:  p2`1=1 by Th9;
A46:  -1<=p2`2 by A44,Th9;
A47:  p2`2<=1 by A44,Th9;
      (p2`2)^2 >=0 by XREAL_1:65;
      then
A48:  sqrt(1+(p2`2)^2)>0 by SQUARE_1:93;
      p2<>0.TOP-REAL 2 by A45,EUCLID:56,58;
      then f.p2= |[p2`1/sqrt(1+(p2`2/p2`1)^2),p2`2/sqrt(1+(p2`2/p2`1)^2)]|
      by A2,A45,A46,A47,JGRAPH_3:def 1;
      then
A49:  (f.p2)`1=(p2`1)/sqrt(1+(p2`2)^2) by A45,EUCLID:56;
      (p1`1)/sqrt(1+(p1`2)^2)
      <= (p2`1)*sqrt(1+(p1`2)^2)/sqrt(1+(p2`2)^2)/sqrt(1+(p1`2)^2)
      by A8,A18,A45,A48,XREAL_1:74;
      then (p1`1)/sqrt(1+(p1`2)^2)
      <= (p2`1)*sqrt(1+(p1`2)^2)/sqrt(1+(p1`2)^2)/sqrt(1+(p2`2)^2)
      by XCMPLX_1:48;
      then
A50:  (f.p1)`1<=(f.p2)`1 by A18,A21,A49,XCMPLX_1:90;
      now per cases;
        case (f.p2)`2>=0;
          hence thesis by A4,A7,A14,A15,A18,A22,A50,JGRAPH_5:57;
        end;
        case
A51:      (f.p2)`2<0;
          then f.p2 in {p9 where p9 is Point of TOP-REAL 2:p9 in P & p9`2<=0}
          by A15;
          then
A52:      f.p2 in Lower_Arc(P) by A7,JGRAPH_5:38;
          W-min(P)=|[-1,0]| by A7,JGRAPH_5:32;
          then f.p2 <> W-min(P) by A51,EUCLID:56;
          hence thesis by A25,A52,JORDAN6:def 10;
        end;
      end;
      hence thesis;
    end;
    case
A53:  p2 in LSeg(|[1,-1]|,|[-1,-1]|)& p2<>|[-1,-1]|;
      then
A54:  p2`2=-1 by Th11;
A55:  -1<=p2`1 by A53,Th11;
A56:  (p2`1)^2 >=0 by XREAL_1:65;
A57:  p2`1<=-p2`2 by A53,A54,Th11;
      p2<>0.TOP-REAL 2 by A54,EUCLID:56,58;
      then f.p2= |[p2`1/sqrt(1+(p2`1/p2`2)^2),p2`2/sqrt(1+(p2`1/p2`2)^2)]|
      by A2,A54,A55,A57,JGRAPH_3:14;
      then (f.p2)`2= p2`2/sqrt(1+(p2`1/(-1))^2) by A54,EUCLID:56
        .=(p2`2)/sqrt(1+(p2`1)^2);
      then
A58:  (f.p2)`2<0 by A54,A56,SQUARE_1:93,XREAL_1:143;
      then f.p2 in {p9 where p9 is Point of TOP-REAL 2:p9 in P & p9`2<=0}
      by A15;
      then
A59:  f.p2 in Lower_Arc(P) by A7,JGRAPH_5:38;
      W-min(P)=|[-1,0]| by A7,JGRAPH_5:32;
      then f.p2 <> W-min(P) by A58,EUCLID:56;
      hence thesis by A25,A59,JORDAN6:def 10;
    end;
  end;
  hence thesis;
end;

theorem Th76:
  for p1,p2,p3 being Point of TOP-REAL 2,
  P being non empty compact Subset of TOP-REAL 2,
  f being Function of TOP-REAL 2,TOP-REAL 2 st P= circle(0,0,1) & f=Sq_Circ
  & p1 in LSeg(|[-1,-1]|,|[-1,1]|)& p1`2>=0 &
  LE p1,p2,rectangle(-1,1,-1,1) & LE p2,p3,rectangle(-1,1,-1,1)
  holds LE f.p2,f.p3,P
proof
  let p1,p2,p3 be Point of TOP-REAL 2,
  P be non empty compact Subset of TOP-REAL 2,
  f be Function of TOP-REAL 2,TOP-REAL 2;
  set K = rectangle(-1,1,-1,1);
  assume that
A1: P= circle(0,0,1) and
A2: f=Sq_Circ and
A3: p1 in LSeg(|[-1,-1]|,|[-1,1]|) and
A4: p1`2>=0 and
A5: LE p1,p2,K and
A6: LE p2,p3,K;
A7: K is being_simple_closed_curve by Th60;
A8: P={p: |.p.|=1} by A1,Th33;
A9: p3 in K by A6,A7,JORDAN7:5;
A10: p2 in K by A5,A7,JORDAN7:5;
A11: f.:K=P by A2,A8,Lm15,Th45,JGRAPH_3:33;
A12: dom f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
  then
A13: f.p2 in P by A10,A11,FUNCT_1:def 12;
A14: f.p3 in P by A9,A11,A12,FUNCT_1:def 12;
  now per cases by A3,A5,Th74;
    case p2 in LSeg(|[-1,-1]|,|[-1,1]|)& p2`2>=p1`2;
      hence thesis by A1,A2,A4,A6,Th75;
    end;
    case
A15:  p2 in LSeg(|[-1,1]|,|[1,1]|);
      then
A16:  p2`2=1 by Th11;
A17:  -1<=p2`1 by A15,Th11;
A18:  p2`1<=1 by A15,Th11;
      (p2`1)^2 >=0 by XREAL_1:65;
      then
A19:  sqrt(1+(p2`1)^2)>0 by SQUARE_1:93;
      p2<>0.TOP-REAL 2 by A16,EUCLID:56,58;
      then
A20:  f.p2= |[p2`1/sqrt(1+(p2`1/p2`2)^2),p2`2/sqrt(1+(p2`1/p2`2)^2) ]|
      by A2,A16,A17,A18,JGRAPH_3:14;
      then
A21:  (f.p2)`1=(p2`1)/sqrt(1+(p2`1)^2) by A16,EUCLID:56;
A22:  (f.p2)`2>=0 by A16,A19,A20,EUCLID:56;
      then f.p2 in {p9 where p9 is Point of TOP-REAL 2:p9 in P & p9`2>=0}
      by A13;
      then
A23:  f.p2 in Upper_Arc(P) by A8,JGRAPH_5:37;
      now per cases by A6,A15,Th70;
        case
A24:      p3 in LSeg(|[-1,1]|,|[1,1]|) & p2`1<=p3`1;
          then
A25:      p3`2=1 by Th11;
A26:      -1<=p3`1 by A24,Th11;
A27:      p3`1<=1 by A24,Th11;
          (p3`1)^2 >=0 by XREAL_1:65;
          then
A28:      sqrt(1+(p3`1)^2)>0 by SQUARE_1:93;
          p3<>0.TOP-REAL 2 by A25,EUCLID:56,58;
          then
          A29:      f
.p3= |[p3`1/sqrt(1+(p3`1/p3`2)^2),p3`2/sqrt(1+(p3`1/ p3`2)^2) ]|
          by A2,A25,A26,A27,JGRAPH_3:14;
          then
A30:      (f.p3)`1=(p3`1)/sqrt(1+(p3`1)^2) by A25,EUCLID:56;
A31:      (f.p3)`2>=0 by A25,A28,A29,EUCLID:56;
          (p2`1)*sqrt(1+(p3`1)^2)<= (p3`1)*sqrt(1+(p2`1)^2)
          by A24,SQUARE_1:127;
          then (p2`1)*sqrt(1+(p3`1)^2)/sqrt(1+(p3`1)^2)
          <= (p3`1)*sqrt(1+(p2`1)^2)/sqrt(1+(p3`1)^2) by A28,XREAL_1:74;
          then (p2`1)
          <= (p3`1)*sqrt(1+(p2`1)^2)/sqrt(1+(p3`1)^2) by A28,XCMPLX_1:90;
          then (p2`1)/sqrt(1+(p2`1)^2)
          <= (p3`1)*sqrt(1+(p2`1)^2)/sqrt(1+(p3`1)^2)/sqrt(1+(p2`1)^2)
          by A19,XREAL_1:74;
          then (p2`1)/sqrt(1+(p2`1)^2)
          <= (p3`1)*sqrt(1+(p2`1)^2)/sqrt(1+(p2`1)^2)/sqrt(1+(p3`1)^2)
          by XCMPLX_1:48;
          then (f.p2)`1<=(f.p3)`1 by A19,A21,A30,XCMPLX_1:90;
          hence thesis by A8,A13,A14,A22,A31,JGRAPH_5:57;
        end;
        case
A32:      p3 in LSeg(|[1,1]|,|[1,-1]|);
          then
A33:      p3`1=1 by Th9;
A34:      -1<=p3`2 by A32,Th9;
A35:      p3`2<=1 by A32,Th9;
          (p3`2)^2 >=0 by XREAL_1:65;
          then
A36:      sqrt(1+(p3`2)^2)>0 by SQUARE_1:93;
          p3<>0.TOP-REAL 2 by A33,EUCLID:56,58;
          then
          f.p3= |[p3`1/sqrt(1+(p3`2/p3`1)^2),p3`2/sqrt(1+(p3`2/p3`1)^2)]|
          by A2,A33,A34,A35,JGRAPH_3:def 1;
          then
A37:      (f.p3)`1=(p3`1)/sqrt(1+(p3`2)^2) by A33,EUCLID:56;
A38:      -1<=-p2`1 by A18,XREAL_1:26;
A39:      --1>=-p2`1 by A17,XREAL_1:26;
          (p2`1)^2 = (-p2`1)^2;
          then (--p2`1)*sqrt(1+(p3`2)^2)<= sqrt(1+(p2`1)^2)
          by A34,A35,A38,A39,SQUARE_1:125;
          then (p2`1)*sqrt(1+(p3`2)^2)/sqrt(1+(p3`2)^2)
          <= (p3`1)*sqrt(1+(p2`1)^2)/sqrt(1+(p3`2)^2) by A33,A36,XREAL_1:74;
          then (p2`1)
          <= (p3`1)*sqrt(1+(p2`1)^2)/sqrt(1+(p3`2)^2) by A36,XCMPLX_1:90;
          then (p2`1)/sqrt(1+(p2`1)^2)
          <= (p3`1)*sqrt(1+(p2`1)^2)/sqrt(1+(p3`2)^2)/sqrt(1+(p2`1)^2)
          by A19,XREAL_1:74;
          then (p2`1)/sqrt(1+(p2`1)^2)
          <= (p3`1)*sqrt(1+(p2`1)^2)/sqrt(1+(p2`1)^2)/sqrt(1+(p3`2)^2)
          by XCMPLX_1:48;
          then
A40:      (f.p2)`1<=(f.p3)`1 by A19,A21,A37,XCMPLX_1:90;
          now per cases;
            case (f.p3)`2>=0;
              hence thesis by A8,A13,A14,A22,A40,JGRAPH_5:57;
            end;
            case
A41:          (f.p3)`2<0;
then f.p3 in {p9 where p9 is Point of TOP-REAL 2:p9 in P & p9`2<=0} by A14;
              then
A42:          f.p3 in Lower_Arc(P) by A8,JGRAPH_5:38;
              W-min(P)=|[-1,0]| by A8,JGRAPH_5:32;
              then f.p3 <> W-min(P) by A41,EUCLID:56;
              hence thesis by A23,A42,JORDAN6:def 10;
            end;
          end;
          hence thesis;
        end;
        case
A43:      p3 in LSeg(|[1,-1]|,|[-1,-1]|) & p3<>W-min(K);
          then
A44:      p3`2=-1 by Th11;
A45:      -1<=p3`1 by A43,Th11;
A46:      (p3`1)^2 >=0 by XREAL_1:65;
A47:      -p3`2>=p3`1 by A43,A44,Th11;
          p3<>0.TOP-REAL 2 by A44,EUCLID:56,58;
          then
          f.p3= |[p3`1/sqrt(1+(p3`1/p3`2)^2),p3`2/sqrt(1+(p3`1/p3`2)^2)]|
          by A2,A44,A45,A47,JGRAPH_3:14;
          then (f.p3)`2= p3`2/sqrt(1+(p3`1/(-1))^2) by A44,EUCLID:56
            .=(p3`2)/sqrt(1+(p3`1)^2);
          then
A48:      (f.p3)`2<0 by A44,A46,SQUARE_1:93,XREAL_1:143;
          then f.p3 in {p9 where p9 is Point of TOP-REAL 2:p9 in P & p9`2<=0}
          by A14;
          then
A49:      f.p3 in Lower_Arc(P) by A8,JGRAPH_5:38;
          W-min(P)=|[-1,0]| by A8,JGRAPH_5:32;
          then f.p3 <> W-min(P) by A48,EUCLID:56;
          hence thesis by A23,A49,JORDAN6:def 10;
        end;
      end;
      hence thesis;
    end;
    case
A50:  p2 in LSeg(|[1,1]|,|[1,-1]|);
      then
A51:  p2`1=1 by Th9;
A52:  -1<=p2`2 by A50,Th9;
A53:  p2`2<=1 by A50,Th9;
      (p2`2)^2 >=0 by XREAL_1:65;
      then
A54:  sqrt(1+(p2`2)^2)>0 by SQUARE_1:93;
      p2<>0.TOP-REAL 2 by A51,EUCLID:56,58;
      then
A55:  f.p2= |[p2`1/sqrt(1+(p2`2/p2`1)^2),p2`2/sqrt(1+(p2`2/p2`1)^2) ]|
      by A2,A51,A52,A53,JGRAPH_3:def 1;
      then
A56:  (f.p2)`1=(p2`1)/sqrt(1+(p2`2)^2) by A51,EUCLID:56;
A57:  (f.p2)`2=(p2`2)/sqrt(1+(p2`2)^2) by A51,A55,EUCLID:56;
      now per cases by A6,A50,Th71;
        case
A58:      p3 in LSeg(|[1,1]|,|[1,-1]|) & p2`2>=p3`2;
          then
A59:      p3`1=1 by Th9;
A60:      -1<=p3`2 by A58,Th9;
A61:      p3`2<=1 by A58,Th9;
          (p3`2)^2 >=0 by XREAL_1:65;
          then
A62:      sqrt(1+(p3`2)^2)>0 by SQUARE_1:93;
          p3<>0.TOP-REAL 2 by A59,EUCLID:56,58;
          then
          A63:      f
.p3= |[p3`1/sqrt(1+(p3`2/p3`1)^2),p3`2/sqrt(1+(p3`2/ p3`1)^2) ]|
          by A2,A59,A60,A61,JGRAPH_3:def 1;
          then
A64:      (f.p3)`2=(p3`2)/sqrt(1+(p3`2)^2) by A59,EUCLID:56;
A65:      (f.p3)`1>=0 by A59,A62,A63,EUCLID:56;
          (p2`2)*sqrt(1+(p3`2)^2)>= (p3`2)*sqrt(1+(p2`2)^2)
          by A58,SQUARE_1:127;
          then (p2`2)*sqrt(1+(p3`2)^2)/sqrt(1+(p3`2)^2)
          >= (p3`2)*sqrt(1+(p2`2)^2)/sqrt(1+(p3`2)^2) by A62,XREAL_1:74;
          then (p2`2)
          >= (p3`2)*sqrt(1+(p2`2)^2)/sqrt(1+(p3`2)^2) by A62,XCMPLX_1:90;
          then (p2`2)/sqrt(1+(p2`2)^2)
          >= (p3`2)*sqrt(1+(p2`2)^2)/sqrt(1+(p3`2)^2)/sqrt(1+(p2`2)^2)
          by A54,XREAL_1:74;
          then (p2`2)/sqrt(1+(p2`2)^2)
          >= (p3`2)*sqrt(1+(p2`2)^2)/sqrt(1+(p2`2)^2)/sqrt(1+(p3`2)^2)
          by XCMPLX_1:48;
          then (p2`2)/sqrt(1+(p2`2)^2) >= (p3`2)/sqrt(1+(p3`2)^2)
          by A54,XCMPLX_1:90;
          hence thesis by A8,A13,A14,A51,A54,A56,A57,A64,A65,JGRAPH_5:58;
        end;
        case
A66:      p3 in LSeg(|[1,-1]|,|[-1,-1]|) & p3<>W-min(K);
          then
A67:      p3`2=-1 by Th11;
A68:      -1<=p3`1 by A66,Th11;
A69:      p3`1<=1 by A66,Th11;
A70:      (p3`1)^2 >=0 by XREAL_1:65;
          then
A71:      sqrt(1+(p3`1)^2)>0 by SQUARE_1:93;
A72:      -p3`2>=p3`1 by A66,A67,Th11;
          p3<>0.TOP-REAL 2 by A67,EUCLID:56,58;
          then
          A73:      f
.p3= |[p3`1/sqrt(1+(p3`1/p3`2)^2),p3`2/sqrt(1+(p3`1/ p3`2)^2) ]|
          by A2,A67,A68,A72,JGRAPH_3:14;
          then
A74:      (f.p3)`1= p3`1/sqrt(1+(p3`1/(-1))^2) by A67,EUCLID:56
            .=(p3`1)/sqrt(1+(p3`1)^2);
A75:      (f.p3)`2= p3`2/sqrt(1+(p3`1/(-1))^2) by A67,A73,EUCLID:56
            .=(p3`2)/sqrt(1+(p3`1)^2);
          then
A76:      (f.p3)`2<0 by A67,A70,SQUARE_1:93,XREAL_1:143;
          f.p3 in {p9 where p9 is Point of TOP-REAL 2:p9 in P & p9`2<=0}
          by A14,A67,A71,A75;
          then
A77:      f.p3 in Lower_Arc(P) by A8,JGRAPH_5:38;
          W-min(P)=|[-1,0]| by A8,JGRAPH_5:32;
          then
A78:      f.p3 <> W-min(P) by A76,EUCLID:56;
          now per cases;
            case (f.p2)`2>=0;
then f.p2 in {p9 where p9 is Point of TOP-REAL 2:p9 in P & p9`2>=0} by A13;
              then f.p2 in Upper_Arc(P) by A8,JGRAPH_5:37;
              hence thesis by A77,A78,JORDAN6:def 10;
            end;
            case
A79:          (f.p2)`2<0;
              (p2`1)*sqrt(1+(p3`1)^2)/sqrt(1+(p3`1)^2)
              >= (p3`1)*sqrt(1+(p2`2)^2)/sqrt(1+(p3`1)^2)
              by A51,A52,A53,A68,A69,A71,SQUARE_1:126,XREAL_1:74;
              then (p2`1)
              >= (p3`1)*sqrt(1+(p2`2)^2)/sqrt(1+(p3`1)^2) by A71,XCMPLX_1:90;
              then (p2`1)/sqrt(1+(p2`2)^2)
              >= (p3`1)*sqrt(1+(p2`2)^2)/sqrt(1+(p3`1)^2)/sqrt(1+(p2`2)^2)
              by A54,XREAL_1:74;
              then (p2`1)/sqrt(1+(p2`2)^2)
              >= (p3`1)*sqrt(1+(p2`2)^2)/sqrt(1+(p2`2)^2)/sqrt(1+(p3`1)^2)
              by XCMPLX_1:48;
              then (p2`1)/sqrt(1+(p2`2)^2) >= (p3`1)/sqrt(1+(p3`1)^2)
              by A54,XCMPLX_1:90;
              hence thesis by A8,A13,A14,A56,A67,A71,A74,A75,A78,A79,
JGRAPH_5:59;
            end;
          end;
          hence thesis;
        end;
      end;
      hence thesis;
    end;
    case
A80:  p2 in LSeg(|[1,-1]|,|[-1,-1]|)& p2<>|[-1,-1]|;
      then
A81:  p2`2=-1 by Th11;
A82:  -1<=p2`1 by A80,Th11;
      (p2`1)^2 >=0 by XREAL_1:65;
      then
A83:  sqrt(1+(p2`1)^2)>0 by SQUARE_1:93;
A84:  -p2`2>=p2`1 by A80,A81,Th11;
      p2<>0.TOP-REAL 2 by A81,EUCLID:56,58;
      then
A85:  f.p2= |[p2`1/sqrt(1+(p2`1/p2`2)^2),p2`2/sqrt(1+(p2`1/p2`2)^2) ]|
      by A2,A81,A82,A84,JGRAPH_3:14;
      then
A86:  (f.p2)`1= p2`1/sqrt(1+(p2`1/(-1))^2) by A81,EUCLID:56
        .=(p2`1)/sqrt(1+(p2`1)^2);
A87:  (f.p2)`2= p2`2/sqrt(1+(p2`1/(-1))^2) by A81,A85,EUCLID:56
        .=(p2`2)/sqrt(1+(p2`1)^2);
A88:  W-min(K)=|[-1,-1]| by Th56;
      then
A89:  p3 in LSeg(|[1,-1]|,|[-1,-1]|) by A6,A80,Th72;
A90:  p2`1>=p3`1 by A6,A80,A88,Th72;
A91:  p3`2=-1 by A89,Th11;
A92:  -1<=p3`1 by A89,Th11;
A93:  (p3`1)^2 >=0 by XREAL_1:65;
      then
A94:  sqrt(1+(p3`1)^2)>0 by SQUARE_1:93;
A95:  -p3`2>=p3`1 by A89,A91,Th11;
      p3<>0.TOP-REAL 2 by A91,EUCLID:56,58;
      then
A96:  f.p3= |[p3`1/sqrt(1+(p3`1/p3`2)^2),p3`2/sqrt(1+(p3`1/p3`2)^2) ]|
      by A2,A91,A92,A95,JGRAPH_3:14;
      then
A97:  (f.p3)`1= p3`1/sqrt(1+(p3`1/(-1))^2) by A91,EUCLID:56
        .=(p3`1)/sqrt(1+(p3`1)^2);
      (f.p3)`2= p3`2/sqrt(1+(p3`1/(-1))^2) by A91,A96,EUCLID:56
        .=(p3`2)/sqrt(1+(p3`1)^2);
      then
A98:  (f.p3)`2<0 by A91,A93,SQUARE_1:93,XREAL_1:143;
      W-min(P)=|[-1,0]| by A8,JGRAPH_5:32;
      then
A99:  f.p3 <> W-min(P) by A98,EUCLID:56;
      (p2`1)*sqrt(1+(p3`1)^2)>= (p3`1)*sqrt(1+(p2`1)^2) by A90,SQUARE_1:127;
      then (p2`1)*sqrt(1+(p3`1)^2)/sqrt(1+(p3`1)^2)
      >= (p3`1)*sqrt(1+(p2`1)^2)/sqrt(1+(p3`1)^2) by A94,XREAL_1:74;
      then (p2`1)
      >= (p3`1)*sqrt(1+(p2`1)^2)/sqrt(1+(p3`1)^2) by A94,XCMPLX_1:90;
      then (p2`1)/sqrt(1+(p2`1)^2)
      >= (p3`1)*sqrt(1+(p2`1)^2)/sqrt(1+(p3`1)^2)/sqrt(1+(p2`1)^2)
      by A83,XREAL_1:74;
      then (p2`1)/sqrt(1+(p2`1)^2)
      >= (p3`1)*sqrt(1+(p2`1)^2)/sqrt(1+(p2`1)^2)/sqrt(1+(p3`1)^2)
      by XCMPLX_1:48;
      then (p2`1)/sqrt(1+(p2`1)^2) >= (p3`1)/sqrt(1+(p3`1)^2)
      by A83,XCMPLX_1:90;
      hence thesis by A8,A13,A14,A81,A83,A86,A87,A97,A98,A99,JGRAPH_5:59;
    end;
  end;
  hence thesis;
end;

theorem Th77:
  for p being Point of TOP-REAL 2, f being Function of TOP-REAL 2,TOP-REAL 2 st
  f=Sq_Circ & p`1=-1 & p`2<0 holds (f.p)`1<0 & (f.p)`2<0
proof
  let p be Point of TOP-REAL 2, f be Function of TOP-REAL 2,TOP-REAL 2;
  assume that
A1: f=Sq_Circ and
A2: p`1=-1 and
A3: p`2<0;
  now per cases;
    case p=0.TOP-REAL 2;
      hence contradiction by A2,EUCLID:56,58;
    end;
    case
A4:   p<> 0.TOP-REAL 2;
      now per cases;
        case p`2<=p`1 & -p`1<=p`2 or p`2>=p`1 & p`2<=-p`1;
          then
A5:       f.p=|[p`1/sqrt(1+(p`2/p`1)^2),p`2/sqrt(1+(p`2/p`1)^2)]|
          by A1,A4,JGRAPH_3:def 1;
          then
A6:       (f.p)`1= p`1/sqrt(1+(p`2/p`1)^2) by EUCLID:56;
          (f.p)`2= p`2/sqrt(1+(p`2/p`1)^2) by A5,EUCLID:56;
          hence thesis by A2,A3,A6,SQUARE_1:93,XREAL_1:143;
        end;
        case not (p`2<=p`1 & -p`1<=p`2 or p`2>=p`1 & p`2<=-p`1);
          then
A7:       f.p=|[p`1/sqrt(1+(p`1/p`2)^2),p`2/sqrt(1+(p`1/p`2)^2)]|
          by A1,A4,JGRAPH_3:def 1;
          then
A8:       (f.p)`1= p`1/sqrt(1+(p`1/p`2)^2) by EUCLID:56;
          (f.p)`2= p`2/sqrt(1+(p`1/p`2)^2) by A7,EUCLID:56;
          hence thesis by A2,A3,A8,SQUARE_1:93,XREAL_1:143;
        end;
      end;
      hence thesis;
    end;
  end;
  hence thesis;
end;

theorem Th78:
  for p being Point of TOP-REAL 2,
  P being non empty compact Subset of TOP-REAL 2,
  f being Function of TOP-REAL 2,TOP-REAL 2 st
  f=Sq_Circ
  holds (f.p)`1>=0 iff p`1>=0
proof
  let p be Point of TOP-REAL 2, P be non empty compact Subset of TOP-REAL 2,
  f be Function of TOP-REAL 2,TOP-REAL 2;
  assume that
A1: f=Sq_Circ;
  thus (f.p)`1>=0 implies p`1>=0
  proof
    assume
A2: (f.p)`1>=0;
    reconsider g=(Sq_Circ") as Function
    of TOP-REAL 2,TOP-REAL 2 by JGRAPH_3:39;
A3: dom f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
    set q=(f.p);
    now per cases;
      case q=0.TOP-REAL 2;
        hence (g.q)`1>=0 by A2,JGRAPH_3:38;
      end;
      case
A4:     q<> 0.TOP-REAL 2;
        now per cases;
          case q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1;
            then
A5:         g.q=|[q`1*sqrt(1+(q`2/q`1)^2),q`2*sqrt(1+(q`2/q`1)^2)]|
            by A4,JGRAPH_3:38;
            (q`2/q`1)^2 >=0 by XREAL_1:65;
            then sqrt(1+(q`2/q`1)^2)>0 by SQUARE_1:93;
            hence (g.q)`1>=0 by A2,A5,EUCLID:56;
          end;
          case not (q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
            then
A6:         g.q=|[q`1*sqrt(1+(q`1/q`2)^2),q`2*sqrt(1+(q`1/q`2)^2)]|
            by JGRAPH_3:38;
            (q`1/q`2)^2 >=0 by XREAL_1:65;
            then sqrt(1+(q`1/q`2)^2)>0 by SQUARE_1:93;
            hence (g.q)`1>=0 by A2,A6,EUCLID:56;
          end;
        end;
        hence (g.q)`1>=0;
      end;
    end;
    hence thesis by A1,A3,FUNCT_1:56;
  end;
  thus p`1>=0 implies (f.p)`1>=0
  proof
    assume
A7: p`1>=0;
    now per cases;
      case p=0.TOP-REAL 2;
        hence thesis by A1,A7,JGRAPH_3:def 1;
      end;
      case
A8:     p<> 0.TOP-REAL 2;
        now per cases;
          case p`2<=p`1 & -p`1<=p`2 or p`2>=p`1 & p`2<=-p`1;
            then
A9:         f.p=|[p`1/sqrt(1+(p`2/p`1)^2),p`2/sqrt(1+(p`2/p`1)^2)]|
            by A1,A8,JGRAPH_3:def 1;
            (p`2/p`1)^2 >=0 by XREAL_1:65;
            then sqrt(1+(p`2/p`1)^2)>0 by SQUARE_1:93;
            hence thesis by A7,A9,EUCLID:56;
          end;
          case not (p`2<=p`1 & -p`1<=p`2 or p`2>=p`1 & p`2<=-p`1);
            then
A10:        f.p=|[p`1/sqrt(1+(p`1/p`2)^2),p`2/sqrt(1+(p`1/p`2)^2)]|
            by A1,A8,JGRAPH_3:def 1;
            (p`1/p`2)^2 >=0 by XREAL_1:65;
            then sqrt(1+(p`1/p`2)^2)>0 by SQUARE_1:93;
            hence thesis by A7,A10,EUCLID:56;
          end;
        end;
        hence thesis;
      end;
    end;
    hence thesis;
  end;
end;

theorem Th79:
  for p being Point of TOP-REAL 2,
  P being non empty compact Subset of TOP-REAL 2,
  f being Function of TOP-REAL 2,TOP-REAL 2 st
  f=Sq_Circ
  holds (f.p)`2>=0 iff p`2>=0
proof
  let p be Point of TOP-REAL 2, P be non empty compact Subset of TOP-REAL 2,
  f be Function of TOP-REAL 2,TOP-REAL 2;
  assume
A1: f=Sq_Circ;
  thus (f.p)`2>=0 implies p`2>=0
  proof
    assume
A2: (f.p)`2>=0;
    reconsider g=(Sq_Circ") as Function
    of TOP-REAL 2,TOP-REAL 2 by JGRAPH_3:39;
A3: dom f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
    set q=(f.p);
    now per cases;
      case q=0.TOP-REAL 2;
        hence (g.q)`2>=0 by A2,JGRAPH_3:38;
      end;
      case
A4:     q<> 0.TOP-REAL 2;
        now per cases;
          case q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1;
            then
A5:         g.q=|[q`1*sqrt(1+(q`2/q`1)^2),q`2*sqrt(1+(q`2/q`1)^2)]|
            by A4,JGRAPH_3:38;
            (q`2/q`1)^2 >=0 by XREAL_1:65;
            then sqrt(1+(q`2/q`1)^2)>0 by SQUARE_1:93;
            hence (g.q)`2>=0 by A2,A5,EUCLID:56;
          end;
          case not (q`2<=q`1 & -q`1<=q`2 or q`2>=q`1 & q`2<=-q`1);
            then
A6:         g.q=|[q`1*sqrt(1+(q`1/q`2)^2),q`2*sqrt(1+(q`1/q`2)^2)]|
            by JGRAPH_3:38;
            (q`1/q`2)^2 >=0 by XREAL_1:65;
            then sqrt(1+(q`1/q`2)^2)>0 by SQUARE_1:93;
            hence (g.q)`2>=0 by A2,A6,EUCLID:56;
          end;
        end;
        hence (g.q)`2>=0;
      end;
    end;
    hence thesis by A1,A3,FUNCT_1:56;
  end;
  thus p`2>=0 implies (f.p)`2>=0
  proof
    assume
A7: p`2>=0;
    now per cases;
      case p=0.TOP-REAL 2;
        hence thesis by A1,A7,JGRAPH_3:def 1;
      end;
      case
A8:     p<> 0.TOP-REAL 2;
        now per cases;
          case p`2<=p`1 & -p`1<=p`2 or p`2>=p`1 & p`2<=-p`1;
            then
A9:         f.p=|[p`1/sqrt(1+(p`2/p`1)^2),p`2/sqrt(1+(p`2/p`1)^2)]|
            by A1,A8,JGRAPH_3:def 1;
            (p`2/p`1)^2 >=0 by XREAL_1:65;
            then sqrt(1+(p`2/p`1)^2)>0 by SQUARE_1:93;
            hence thesis by A7,A9,EUCLID:56;
          end;
          case not (p`2<=p`1 & -p`1<=p`2 or p`2>=p`1 & p`2<=-p`1);
            then
A10:        f.p=|[p`1/sqrt(1+(p`1/p`2)^2),p`2/sqrt(1+(p`1/p`2)^2)]|
            by A1,A8,JGRAPH_3:def 1;
            (p`1/p`2)^2 >=0 by XREAL_1:65;
            then sqrt(1+(p`1/p`2)^2)>0 by SQUARE_1:93;
            hence thesis by A7,A10,EUCLID:56;
          end;
        end;
        hence thesis;
      end;
    end;
    hence thesis;
  end;
end;

theorem Th80:
  for p,q being Point of TOP-REAL 2,
  f being Function of TOP-REAL 2,TOP-REAL 2 st f=Sq_Circ
  & p in LSeg(|[-1,-1]|,|[-1,1]|)
  & q in LSeg(|[1,-1]|,|[-1,-1]|) holds (f.p)`1<=(f.q)`1
proof
  let p,q be Point of TOP-REAL 2, f be Function of TOP-REAL 2,TOP-REAL 2;
  assume that
A1: f=Sq_Circ and
A2: p in LSeg(|[-1,-1]|,|[-1,1]|) and
A3: q in LSeg(|[1,-1]|,|[-1,-1]|);
A4: p`1=-1 by A2,Th9;
A5: -1<=p`2 by A2,Th9;
A6: p`2<=1 by A2,Th9;
A7: q`2=-1 by A3,Th11;
A8: -1<=q`1 by A3,Th11;
A9: q`1<=1 by A3,Th11;
A10: p<>0.TOP-REAL 2 by A4,EUCLID:56,58;
A11: q<>0.TOP-REAL 2 by A7,EUCLID:56,58;
  p`2<=-p`1 by A2,A4,Th9;
  then f.p= |[p`1/sqrt(1+(p`2/p`1)^2),p`2/sqrt(1+(p`2/p`1)^2)]|
  by A1,A4,A5,A10,JGRAPH_3:def 1;
  then
A12: (f.p)`1=(-1)/sqrt(1+(p`2/(-1))^2) by A4,EUCLID:56
    .=(-1)/sqrt(1+(p`2)^2);
  (p`2)^2 >=0 by XREAL_1:65;
  then
A13: sqrt(1+(p`2)^2)>0 by SQUARE_1:93;
  (q`1)^2 >=0 by XREAL_1:65;
  then
A14: sqrt(1+(q`1)^2)>0 by SQUARE_1:93;
  q`1<=-q`2 by A3,A7,Th11;
  then f.q= |[q`1/sqrt(1+(q`1/q`2)^2),q`2/sqrt(1+(q`1/q`2)^2)]|
  by A1,A7,A8,A11,JGRAPH_3:14;
  then
A15: (f.q)`1=q`1/sqrt(1+(q`1/(-1))^2) by A7,EUCLID:56
    .=q`1/sqrt(1+(q`1)^2);
  -sqrt(1+(q`1)^2)<= q`1*sqrt(1+(p`2)^2) by A5,A6,A8,A9,SQUARE_1:125;
  then (-1)*sqrt(1+(q`1)^2)/sqrt(1+(q`1)^2)
  <= q`1*sqrt(1+(p`2)^2)/sqrt(1+(q`1)^2) by A14,XREAL_1:74;
  then (-1) <= q`1*sqrt(1+(p`2)^2)/sqrt(1+(q`1)^2) by A14,XCMPLX_1:90;
  then -1<= q`1/sqrt(1+(q`1)^2)*sqrt(1+(p`2)^2) by XCMPLX_1:75;
  then (-1)/sqrt(1+(p`2)^2)
  <= q`1/sqrt(1+(q`1)^2)*sqrt(1+(p`2)^2)/sqrt(1+(p`2)^2) by A13,XREAL_1:74;
  hence thesis by A12,A13,A15,XCMPLX_1:90;
end;

theorem Th81:
  for p,q being Point of TOP-REAL 2,
  f being Function of TOP-REAL 2,TOP-REAL 2 st
  f=Sq_Circ & p in LSeg(|[-1,-1]|,|[-1,1]|) & q in LSeg(|[-1,-1]|,|[-1,1]|)
  & p`2>=q`2 & p`2<0 holds (f.p)`2>=(f.q)`2
proof
  let p,q be Point of TOP-REAL 2, f be Function of TOP-REAL 2,TOP-REAL 2;
  assume that
A1: f=Sq_Circ and
A2: p in LSeg(|[-1,-1]|,|[-1,1]|) and
A3: q in LSeg(|[-1,-1]|,|[-1,1]|) and
A4: p`2>=q`2 and
A5: p`2<0;
A6: p`1=-1 by A2,Th9;
A7: -1<=p`2 by A2,Th9;
  (p`2)^2 >=0 by XREAL_1:65;
  then
A8: sqrt(1+(p`2)^2)>0 by SQUARE_1:93;
  (q`2)^2 >=0 by XREAL_1:65;
  then
A9: sqrt(1+(q`2)^2)>0 by SQUARE_1:93;
A10: p`2<=-p`1 by A5,A6;
  p<>0.TOP-REAL 2 by A5,EUCLID:56,58;
  then f.p= |[p`1/sqrt(1+(p`2/p`1)^2),p`2/sqrt(1+(p`2/p`1)^2)]|
  by A1,A6,A7,A10,JGRAPH_3:def 1;
  then
A11: (f.p)`2= p`2/sqrt(1+(p`2/(-1))^2) by A6,EUCLID:56
    .=(p`2)/sqrt(1+(p`2)^2);
A12: q`1=-1 by A3,Th9;
A13: -1<=q`2 by A3,Th9;
A14: q`2<=-q`1 by A4,A5,A12;
  q<>0.TOP-REAL 2 by A4,A5,EUCLID:56,58;
  then f.q= |[q`1/sqrt(1+(q`2/q`1)^2),q`2/sqrt(1+(q`2/q`1)^2)]|
  by A1,A12,A13,A14,JGRAPH_3:def 1;
  then
A15: (f.q)`2= q`2/sqrt(1+(q`2/(-1))^2) by A12,EUCLID:56
    .=(q`2)/sqrt(1+(q`2)^2);
  (p`2)*sqrt(1+(q`2)^2)>= (q`2)*sqrt(1+(p`2)^2) by A4,A5,Lm2;
  then (p`2)*sqrt(1+(q`2)^2)/sqrt(1+(q`2)^2)
  >= (q`2)*sqrt(1+(p`2)^2)/sqrt(1+(q`2)^2) by A9,XREAL_1:74;
  then (p`2) >= (q`2)*sqrt(1+(p`2)^2)/sqrt(1+(q`2)^2) by A9,XCMPLX_1:90;
  then (p`2)/sqrt(1+(p`2)^2)
  >= (q`2)*sqrt(1+(p`2)^2)/sqrt(1+(q`2)^2)/sqrt(1+(p`2)^2) by A8,XREAL_1:74;
  then (p`2)/sqrt(1+(p`2)^2)
  >= (q`2)*sqrt(1+(p`2)^2)/sqrt(1+(p`2)^2)/sqrt(1+(q`2)^2) by XCMPLX_1:48;
  hence thesis by A8,A11,A15,XCMPLX_1:90;
end;

theorem Th82:
  for p1,p2,p3,p4 being Point of TOP-REAL 2,
  P being non empty compact Subset of TOP-REAL 2,
  f being Function of TOP-REAL 2,TOP-REAL 2 st P= circle(0,0,1) & f=Sq_Circ
  holds LE p1,p2,rectangle(-1,1,-1,1) & LE p2,p3,rectangle(-1,1,-1,1) &
  LE p3,p4,rectangle(-1,1,-1,1) implies
  f.p1,f.p2,f.p3,f.p4 are_in_this_order_on P
proof
  let p1,p2,p3,p4 be Point of TOP-REAL 2,
  P be non empty compact Subset of TOP-REAL 2,
  f be Function of TOP-REAL 2,TOP-REAL 2;
  set K = rectangle(-1,1,-1,1);
  assume that
A1: P= circle(0,0,1) and
A2: f=Sq_Circ;
A3: K is being_simple_closed_curve by Th60;
A4: K= {p: p`1=-1 & -1 <=p`2 & p`2<=1 or p`2=1 & -1<=p`1 & p`1<=1 or
  p`1=1 & -1 <=p`2 & p`2<=1 or p`2=-1 & -1<=p`1 & p`1<=1} by Lm15;
A5: P={p: |.p.|=1} by A1,Th33;
  thus LE p1,p2,K & LE p2,p3,K & LE p3,p4,K implies
  f.p1,f.p2,f.p3,f.p4 are_in_this_order_on P
  proof
    assume that
A6: LE p1,p2,K and
A7: LE p2,p3,K and
A8: LE p3,p4,K;
A9: p1 in K by A3,A6,JORDAN7:5;
A10: p2 in K by A3,A6,JORDAN7:5;
A11: p3 in K by A3,A7,JORDAN7:5;
A12: p4 in K by A3,A8,JORDAN7:5;
    then
A13: ex q8 being Point of TOP-REAL 2 st ( q8=p4)&( q8`1=-1 & -1
<=q8`2 & q8`2<=1 or q8`2=1 & -1<=q8`1 & q8`1<=1 or q8 `1=1 & -1 <=q8`2 & q8`2<=
    1 or q8`2=-1 & -1<=q8`1 & q8`1<=1) by A4;
A14: LE p1,p3,K by A6,A7,Th60,JORDAN6:73;
A15: LE p2,p4,K by A7,A8,Th60,JORDAN6:73;
A16: W-min(K)=|[-1,-1]| by Th56;
A17: (|[-1,0]|)`2=0 by EUCLID:56;
A18: 1/2*(|[-1,-1]|+|[-1,1]|)=1/2*(|[-1,-1]|)+1/2*(|[-1,1]|) by EUCLID:36
      .= (|[1/2*(-1),1/2*(-1)]|)+1/2*(|[-1,1]|) by EUCLID:62
      .= (|[1/2*(-1),1/2*(-1)]|)+(|[1/2*(-1),1/2*1]|) by EUCLID:62
      .= (|[1/2*(-1)+1/2*(-1),1/2*(-1)+1/2*1]|) by EUCLID:60
      .= (|[(-1),0]|);
    then
A19: |[-1,0]| in LSeg(|[-1,-1]|,|[-1,1]|) by RLTOPSP1:70;
    now per cases by A9,A16,Th73,RLTOPSP1:69;
      case
A20:    p1 in LSeg(|[-1,-1]|,|[-1,1]|);
        then
A21:    p1`1=-1 by Th9;
        then
A22:    (f.p1)`1<0 by A2,Th78;
A23:    f.:K=P by A2,A5,Lm15,Th45,JGRAPH_3:33;
A24:    dom f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
        then
A25:    f.p1 in P by A9,A23,FUNCT_1:def 12;
        now per cases;
          case
A26:        p1`2>=0;
            then
A27:        LE f.p1,f.p2,P by A1,A2,A6,A20,Th75;
A28:        LE f.p2,f.p3,P by A1,A2,A6,A7,A20,A26,Th76;
            LE f.p3,f.p4,P by A1,A2,A8,A14,A20,A26,Th76;
            hence thesis by A27,A28,JORDAN17:def 1;
          end;
          case
A29:        p1`2<0;
            now per cases;
              case
A30:            p2`2<0 & p2 in LSeg(|[-1,-1]|,|[-1,1]|);
                then
A31:            p2`1=-1 by Th9;
A32:            f.p2 in P by A10,A23,A24,FUNCT_1:def 12;
A33:            p1`2<=p2`2 by A6,A20,A30,Th65;
                now per cases;
                  case
A34:                p3`2<0 & p3 in LSeg(|[-1,-1]|,|[-1,1]|);
                    then
A35:                p3`1=-1 by Th9;
A36:                f.p3 in P by A11,A23,A24,FUNCT_1:def 12;
A37:                p2`2<=p3`2 by A7,A30,A34,Th65;
                    now per cases;
                      case
A38:                    p4`2<0 & p4 in LSeg(|[-1,-1]|,|[-1,1]|);
                        then
A39:                    p4`1=-1 by Th9;
A40:                    (f.p2)`1<0 by A2,A30,A31,Th77;
A41:                    (f.p2)`2<0 by A2,A30,A31,Th77;
A42:                    (f.p3)`1<0 by A2,A34,A35,Th77;
A43:                    (f.p3)`2<0 by A2,A34,A35,Th77;
A44:                    (f.p4)`1<0 by A2,A38,A39,Th77;
A45:                    (f.p4)`2<0 by A2,A38,A39,Th77;
                        (f.p1)`2<=(f.p2)`2 by A2,A20,A30,A33,Th81;
                        then
A46:                    LE f.p1,f.p2,P by A5,A22,A25,A32,A40,A41,JGRAPH_5:54;
                        (f.p2)`2<=(f.p3)`2 by A2,A30,A34,A37,Th81;
                        then
A47:                    LE f.p2,f.p3,P by A5,A32,A36,A40,A42,A43,JGRAPH_5:54;
A48:                    f.p4 in P by A12,A23,A24,FUNCT_1:def 12;
                        p3`2<=p4`2 by A8,A34,A38,Th65;
                        then (f.p3)`2<=(f.p4)`2 by A2,A34,A38,Th81;
                        then LE f.p3,f.p4,P by A5,A36,A42,A44,A45,A48,
JGRAPH_5:54;
                        hence thesis by A46,A47,JORDAN17:def 1;
                      end;
                      case
A49:                    not(p4`2<0 & p4 in LSeg(|[-1,-1]|,|[-1,1]|));
A50:                    now per cases by A12,Th73;
                          case p4 in LSeg(|[-1,-1]|,|[-1,1]|);
hence p4 in LSeg(|[-1,-1]|,|[-1,1]|) & (|[-1,0]|)`2<=p4`2
or p4 in LSeg(|[-1,1]|,|[1,1]|) or p4 in LSeg(|[1,1]|,|[1,-1]|)
or p4 in LSeg(|[1,-1]|,|[-1,-1]|) & p4<>W-min(K) by A49,EUCLID:56;
                          end;
                          case p4 in LSeg(|[-1,1]|,|[1,1]|);
hence p4 in LSeg(|[-1,-1]|,|[-1,1]|) & (|[-1,0]|)`2<=p4`2
or p4 in LSeg(|[-1,1]|,|[1,1]|) or p4 in LSeg(|[1,1]|,|[1,-1]|)
                            or p4 in LSeg(|[1,-1]|,|[-1,-1]|) & p4<>W-min(K);
                          end;
                          case p4 in LSeg(|[1,1]|,|[1,-1]|);
hence p4 in LSeg(|[-1,-1]|,|[-1,1]|) & (|[-1,0]|)`2<=p4`2
or p4 in LSeg(|[-1,1]|,|[1,1]|) or p4 in LSeg(|[1,1]|,|[1,-1]|)
                            or p4 in LSeg(|[1,-1]|,|[-1,-1]|) & p4<>W-min(K);
                          end;
                          case
A51:                        p4 in LSeg(|[1,-1]|,|[-1,-1]|);
A52:                        W-min(K)=|[-1,-1]| by Th56;
                            now
                              assume
A53:                          p4= W-min(K);
                              then p4`2=-1 by A52,EUCLID:56;
                              hence contradiction by A49,A52,A53,RLTOPSP1:69;
                            end;
hence p4 in LSeg(|[-1,-1]|,|[-1,1]|) & (|[-1,0]|)`2<=p4`2
or p4 in LSeg(|[-1,1]|,|[1,1]|) or p4 in LSeg(|[1,1]|,|[1,-1]|)
or p4 in LSeg(|[1,-1]|,|[-1,-1]|) & p4<>W-min(K) by A51;
                          end;
                        end;
A54:                    (f.p2)`1<0 by A2,A30,A31,Th77;
A55:                    (f.p2)`2<0 by A2,A30,A31,Th77;
A56:                    (f.p3)`1<0 by A2,A34,A35,Th77;
A57:                    (f.p3)`2<0 by A2,A34,A35,Th77;
                        (f.p1)`2<=(f.p2)`2 by A2,A20,A30,A33,Th81;
                        then
A58:                    LE f.p1,f.p2,P by A5,A22,A25,A32,A54,A55,JGRAPH_5:54;
                        (f.p2)`2<=(f.p3)`2 by A2,A30,A34,A37,Th81;
                        then
A59:                    LE f.p2,f.p3,P by A5,A32,A36,A54,A56,A57,JGRAPH_5:54;
A60:                    now per cases;
                          case
A61:                        p4`1=-1 & p4`2<0 & p1`2<=p4`2;
                            now per cases by A50;
case p4 in LSeg(|[-1,-1]|,|[-1,1]|) & (|[-1,0]|)`2<=p4`2;
                                hence contradiction by A61,EUCLID:56;
                              end;
                              case p4 in LSeg(|[-1,1]|,|[1,1]|);
                                hence contradiction by A61,Th11;
                              end;
                              case p4 in LSeg(|[1,1]|,|[1,-1]|);
                                hence contradiction by A61,Th9;
                              end;
                              case
                                A62:                            p4
 in LSeg(|[1,-1]|,|[-1,-1]|) & p4<>W-min(K);
                                then
A63:                            p4`2= -1 by Th11;
A64:                            W-min(K)= |[-1,-1]| by Th56;
                                then
A65:                            (W-min(K))`1=-1 by EUCLID:56;
                                (W-min(K))`2=-1 by A64,EUCLID:56;
                                hence contradiction by A61,A62,A63,A65,
TOPREAL3:11;
                              end;
                            end;
                            hence contradiction;
                          end;
                          case
A66:                        not (p4`1=-1 & p4`2<0 & p1`2<=p4`2);
A67:                        p4
in LSeg(|[-1,-1]|,|[-1,1]|) or p4 in LSeg(|[-1,1]|,|[1,1]|)
or p4 in LSeg(|[1,1]|,|[1,-1]|) or p4 in LSeg(|[1,-1]|,|[-1,-1]|) by A12,Th73;
                            now per cases by A66;
                              case
A68:                            p4`1<>-1;
A69:                            f.:K=P by A2,A5,Lm15,Th45,JGRAPH_3:33;
A70:                            dom
                                f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
A71:                            (f.p1)`2<=0 by A2,A21,A29,Th77;
A72:                            Upper_Arc(P)
={p where p is Point of TOP-REAL 2:p in P & p`2>=0} by A5,JGRAPH_5:37;
A73:                            f.p1 in P by A9,A69,A70,FUNCT_1:def 12;
                                Lower_Arc(P)
={p where p is Point of TOP-REAL 2:p in P & p`2<=0} by A5,JGRAPH_5:38;
                                then
                                A74:                            f
.p1 in Lower_Arc(P) by A71,A73;
A75:                            f
                                .(|[-1,0]|)=W-min(P) by A2,A5,Th18,JGRAPH_5:32;
A76:                            now
                                  assume f.p1=W-min(P);
                                  then p1=|[-1,0]| by A2,A70,A75,FUNCT_1:def 8;
                                  hence contradiction by A29,EUCLID:56;
                                end;
                                now per cases by A67,A68,Th9;
                                  case p4 in LSeg(|[-1,1]|,|[1,1]|);
                                    then
                                    A77:                                p4
 `2=1 by Th11;
A78:                                f.p4 in P by A12,A69,A70,FUNCT_1:def 12;
                                    (f.p4)`2>=0 by A2,A77,Th79;
                                    then f.p4 in Upper_Arc(P) by A72,A78;
hence LE f.p4,f.p1,P by A74,A76,JORDAN6:def 10;
                                  end;
                                  case p4 in LSeg(|[1,1]|,|[1,-1]|);
                                    then
                                    A79:                                p4
 `1=1 by Th9;
A80:                                f.:K=P by A2,A5,Lm15,Th45,JGRAPH_3:33;
A81:                                dom
f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
                                    then
                                    A82:                                f
. p4 in P by A12,A80,FUNCT_1:def 12;
A83:                                f.p1 in P by A9,A80,A81,FUNCT_1:def 12;
A84:                                ( f.p1)`1<0 by A2,A21,A29,Th77;
A85:                                (f.p1)`2<=0 by A2,A21,A29,Th77;
A86:                                f
.(|[-1,0]|)=W-min(P) by A2,A5,Th18,JGRAPH_5:32;
A87:                                now
                                      assume f.p1=W-min(P);
then p1=|[-1,0]| by A2,A81,A86,FUNCT_1:def 8;
                                      hence contradiction by A29,EUCLID:56;
                                    end;
A88:                                (f.p4)`1>=0 by A2,A79,Th78;
                                    now per cases;
                                      case
A89:                                    (f.p4)`2>=0;
A90:                                    (f.p1)`2<=0 by A2,A21,A29,Th77;
A91:                                    Upper_Arc(P)
={p where p is Point of TOP-REAL 2:p in P & p`2>=0} by A5,JGRAPH_5:37;
A92:                                    f
.(|[-1,0]|)=W-min(P) by A2,A5,Th18,JGRAPH_5:32;
A93:                                    now
                                          assume f.p1=W-min(P);
then p1=|[-1,0]| by A2,A81,A92,FUNCT_1:def 8;
                                          hence contradiction by A29,EUCLID:56;
                                        end;
A94:                                    f.p4 in Upper_Arc(P) by A82,A89,A91;
                                        Lower_Arc(P)
={p where p is Point of TOP-REAL 2:p in P & p`2<=0} by A5,JGRAPH_5:38;
                                        then f.p1 in Lower_Arc(P) by A83,A90;
hence LE f.p4,f.p1,P by A93,A94,JORDAN6:def 10;
                                      end;
                                      case (f.p4)`2<0;
                                        hence LE f.p4,f.p1,P
                                        by A5,A82,A83,A84,A85,A87,A88,
JGRAPH_5:59;
                                      end;
                                    end;
                                    hence LE f.p4,f.p1,P;
                                  end;
                                  case
A95:                                p4 in LSeg(|[1,-1]|,|[-1,-1]|);
                                    then p4`2=-1 by Th11;
                                    then
                                    A96:                                (
f .p4)`2<0 by A2,Th79;
A97:                                f.p4 in P by A12,A69,A70,FUNCT_1:def 12;
A98:                                (f.p1)`2<=0 by A2,A21,A29,Th77;
                                    (f.p4)`1>=(f.p1)`1 by A2,A20,A95,Th80;
hence LE f.p4,f.p1,P by A5,A73,A76,A96,A97,A98,JGRAPH_5:59;
                                  end;
                                end;
                                hence LE f.p4,f.p1,P;
                              end;
                              case
A99:                            p4`1=-1 & p4`2>=0;
A100:                           f.:K=P by A2,A5,Lm15,Th45,JGRAPH_3:33;
A101:                           dom
                                f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
                                then
A102:                           f.p4 in P by A12,A100,FUNCT_1:def 12;
A103:                           f.p1 in P by A9,A100,A101,FUNCT_1:def 12;
A104:                           (f.p4)`2>=0 by A2,A99,Th79;
A105:                           (f.p1)`2<=0 by A2,A21,A29,Th77;
A106:                           Upper_Arc(P)
={p where p is Point of TOP-REAL 2:p in P & p`2>=0} by A5,JGRAPH_5:37;
A107:                           f
                                .(|[-1,0]|)=W-min(P) by A2,A5,Th18,JGRAPH_5:32;
A108:                           now
                                  assume f.p1=W-min(P);
                                  then p1=|[-1,0]| by A2,A101,A107,
FUNCT_1:def 8;
                                  hence contradiction by A29,EUCLID:56;
                                end;
A109:                           f.p4 in Upper_Arc(P) by A102,A104,A106;
                                Lower_Arc(P)
={p where p is Point of TOP-REAL 2:p in P & p`2<=0} by A5,JGRAPH_5:38;
                                then f.p1 in Lower_Arc(P) by A103,A105;
                                hence LE f.p4,f.p1,P by A108,A109,
JORDAN6:def 10;
                              end;
                              case
A110:                           p4`1=-1 & p4`2<0 & p1`2>p4`2;
                                then
                                A111:                           p4
 in LSeg (|[-1,-1]|,|[-1,1]|) by A13,Th10;
A112:                           f.:K=P by A2,A5,Lm15,Th45,JGRAPH_3:33;
A113:                           dom
                                f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
                                then
A114:                           f.p4 in P by A12,A112,FUNCT_1:def 12;
A115:                           f.p1 in P by A9,A112,A113,FUNCT_1:def 12;
A116:                           (f.p1)`1<0 by A2,A21,A29,Th77;
A117:                           (f.p1)`2<0 by A2,A21,A29,Th77;
A118:                           (f.p4)`2<=(f.p1)`2 by A2,A20,A29,A110,A111,Th81
                                ;
                                (f.p4)`1<0 by A2,A110,Th78;
hence LE f.p4,f.p1,P by A5,A114,A115,A116,A117,A118,JGRAPH_5:54;
                              end;
                            end;
                            hence LE f.p4,f.p1,P;
                          end;
                        end;
A119:                   K
={p: p`1=-1 & -1 <=p`2 & p`2<=1 or p`2=1 & -1<=p`1 & p`1<=1 or
                        p`1=1 & -1 <=p`2 & p`2<=1 or p`2=-1 & -1<=p`1 & p`1<=1}
                        by Lm15;
                        thus K={p: p`1=-1 & -1 <=p`2 & p`2<=1 or
p`1=1 & -1 <=p`2 & p`2<=1 or -1=p`2 & -1<=p`1 & p`1<=1 or
                        1=p`2 & -1<=p`1 & p`1<=1}
                        proof
                          thus
                          K c= {p: p`1=-1 & -1 <=p`2 & p`2<=1 or
p`1=1 & -1 <=p`2 & p`2<=1 or -1=p`2 & -1<=p`1 & p`1<=1 or
                          1=p`2 & -1<=p`1 & p`1<=1}
                          proof
                            let x be set;
                            assume x in K;
then ex p st ( p=x)&( p`1=-1 & -1 <=p`2 & p`2<=1 or p`2=1 & -1
<=p`1 & p`1<=1 or p`1=1 & -1 <=p`2 & p`2<=1 or p`2=-1 & -1<=p`1 & p`1<=1) by
A119;
                            hence thesis;
                          end;
                          thus
                          {p: p`1=-1 & -1 <=p`2 & p`2<=1 or
p`1=1 & -1 <=p`2 & p`2<=1 or -1=p`2 & -1<=p`1 & p`1<=1 or
                          1=p`2 & -1<=p`1 & p`1<=1} c= K
                          proof
                            let x be set;
                            assume x in {p: p`1=-1 & -1 <=p`2 & p`2<=1 or
p`1=1 & -1 <=p`2 & p`2<=1 or -1=p`2 & -1<=p`1 & p`1<=1 or
                            1=p`2 & -1<=p`1 & p`1<=1};
then ex p st ( p=x)&( p`1=-1 & -1 <=p`2 & p`2<=1 or p`1=1 & -1
<=p`2 & p`2<=1 or -1=p`2 & -1<=p`1 & p`1<=1 or 1=p`2 & -1<=p`1 & p`1<=1);
                            hence thesis by A119;
                          end;
                        end;
                        thus thesis by A58,A59,A60,JORDAN17:def 1;
                      end;
                    end;
                    hence thesis;
                  end;
                  case
A120:               not(p3`2<0 & p3 in LSeg(|[-1,-1]|,|[-1,1]|));
A121:               now per cases by A11,Th73;
                      case p3 in LSeg(|[-1,-1]|,|[-1,1]|);
hence p3 in LSeg(|[-1,-1]|,|[-1,1]|) & (|[-1,0]|)`2<=p3`2
or p3 in LSeg(|[-1,1]|,|[1,1]|) or p3 in LSeg(|[1,1]|,|[1,-1]|)
or p3 in LSeg(|[1,-1]|,|[-1,-1]|) & p3<>W-min(K) by A120,EUCLID:56;
                      end;
                      case p3 in LSeg(|[-1,1]|,|[1,1]|);
hence p3 in LSeg(|[-1,-1]|,|[-1,1]|) & (|[-1,0]|)`2<=p3`2
or p3 in LSeg(|[-1,1]|,|[1,1]|) or p3 in LSeg(|[1,1]|,|[1,-1]|)
                        or p3 in LSeg(|[1,-1]|,|[-1,-1]|) & p3<>W-min(K);
                      end;
                      case p3 in LSeg(|[1,1]|,|[1,-1]|);
hence p3 in LSeg(|[-1,-1]|,|[-1,1]|) & (|[-1,0]|)`2<=p3`2
or p3 in LSeg(|[-1,1]|,|[1,1]|) or p3 in LSeg(|[1,1]|,|[1,-1]|)
                        or p3 in LSeg(|[1,-1]|,|[-1,-1]|) & p3<>W-min(K);
                      end;
                      case
A122:                   p3 in LSeg(|[1,-1]|,|[-1,-1]|);
A123:                   W-min(K)=|[-1,-1]| by Th56;
                        now
                          assume
A124:                     p3= W-min(K);
                          then p3`2=-1 by A123,EUCLID:56;
                          hence contradiction by A120,A123,A124,RLTOPSP1:69;
                        end;
hence p3 in LSeg(|[-1,-1]|,|[-1,1]|) & (|[-1,0]|)`2<=p3`2
or p3 in LSeg(|[-1,1]|,|[1,1]|) or p3 in LSeg(|[1,1]|,|[1,-1]|)
or p3 in LSeg(|[1,-1]|,|[-1,-1]|) & p3<>W-min(K) by A122;
                      end;
                    end;
                    then
A125:               LE |[-1,0]|,p3,K by A19,Th69;
A126:               (f.p2)`1<0 by A2,A30,A31,Th77;
A127:               (f.p2)`2<0 by A2,A30,A31,Th77;
                    (f.p1)`2<=(f.p2)`2 by A2,A20,A30,A33,Th81;
                    then
A128:               LE f.p1,f.p2,P by A5,A22,A25,A32,A126,A127,JGRAPH_5:54;
A129:               LE f.p3,f.p4,P by A1,A2,A8,A17,A18,A125,Th76,RLTOPSP1:70;
A130:               now per cases;
                      case
A131:                   p4`1=-1 & p4`2<0 & p1`2<=p4`2;
A132:                   (|[-1,-1]|)`1=-1 by EUCLID:56;
A133:                   (|[-1,-1]|)`2=-1 by EUCLID:56;
A134:                   (|[-1,1]|)`1=-1 by EUCLID:56;
A135:                   (|[-1,1]|)`2=1 by EUCLID:56;
                        -1<=p4`2 by A12,Th28;
                        then
A136:                   p4
in LSeg(|[-1,-1]|,|[-1,1]|) by A131,A132,A133,A134,A135,GOBOARD7:8;
                        now per cases by A121;
                          case
A137:                       p3
                            in LSeg(|[-1,-1]|,|[-1,1]|) & (|[-1,0]|)`2<=p3`2;
                            then 0<=p3`2 by EUCLID:56;
                            hence contradiction by A8,A131,A136,A137,Th65;
                          end;
                          case
A138:                       p3 in LSeg(|[-1,1]|,|[1,1]|);
                            then LE p4,p3,K by A136,Th69;
                            then p3=p4 by A8,Th60,JORDAN6:72;
                            hence contradiction by A131,A138,Th11;
                          end;
                          case
A139:                       p3 in LSeg(|[1,1]|,|[1,-1]|);
                            then LE p4,p3,K by A136,Th69;
                            then p3=p4 by A8,Th60,JORDAN6:72;
                            hence contradiction by A131,A139,Th9;
                          end;
                          case
A140:                       p3 in LSeg(|[1,-1]|,|[-1,-1]|) & p3<>W-min(K);
                            then LE p4,p3,K by A136,Th69;
                            then
A141:                       p3=p4 by A8,Th60,JORDAN6:72;
A142:                       p3`2= -1 by A140,Th11;
A143:                       W-min(K)= |[-1,-1]| by Th56;
                            then
A144:                       (W-min(K))`1=-1 by EUCLID:56;
                            (W-min(K))`2=-1 by A143,EUCLID:56;
hence contradiction by A131,A140,A141,A142,A144,TOPREAL3:11;
                          end;
                        end;
                        hence contradiction;
                      end;
                      case
A145:                   not (p4`1=-1 & p4`2<0 & p1`2<=p4`2);
A146:                   p4
in LSeg(|[-1,-1]|,|[-1,1]|) or p4 in LSeg(|[-1,1]|,|[1,1]|)
or p4 in LSeg(|[1,1]|,|[1,-1]|) or p4 in LSeg(|[1,-1]|,|[-1,-1]|) by A12,Th73;
                        now per cases by A145;
                          case
A147:                       p4`1<>-1;
A148:                       f.:K=P by A2,A5,Lm15,Th45,JGRAPH_3:33;
                            A149:                       dom
 f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
A150:                       (f.p1)`2<=0 by A2,A21,A29,Th77;
A151:                       Upper_Arc(P)
                            ={p where p is Point of TOP-REAL 2:p in P & p`2>=0}
                            by A5,JGRAPH_5:37;
A152:                       f.p1 in P by A9,A148,A149,FUNCT_1:def 12;
                            Lower_Arc(P)
                            ={p where p is Point of TOP-REAL 2:p in P & p`2<=0}
                            by A5,JGRAPH_5:38;
                            then
                            A153:                       f
.p1 in Lower_Arc( P) by A150,A152;
A154:                       f.(|[-1,0]|)=W-min(P) by A2,A5,Th18,JGRAPH_5:32;
A155:                       now
                              assume f.p1=W-min(P);
                              then p1=|[-1,0]| by A2,A149,A154,FUNCT_1:def 8;
                              hence contradiction by A29,EUCLID:56;
                            end;
                            now per cases by A146,A147,Th9;
                              case p4 in LSeg(|[-1,1]|,|[1,1]|);
                                then
A156:                           p4`2=1 by Th11;
A157:                           f.p4 in P by A12,A148,A149,FUNCT_1:def 12;
                                (f.p4)`2>=0 by A2,A156,Th79;
                                then f.p4 in Upper_Arc(P) by A151,A157;
hence LE f.p4,f.p1,P by A153,A155,JORDAN6:def 10;
                              end;
                              case p4 in LSeg(|[1,1]|,|[1,-1]|);
                                then
A158:                           p4`1=1 by Th9;
A159:                           f.:K=P by A2,A5,Lm15,Th45,JGRAPH_3:33;
A160:                           dom
                                f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
                                then
A161:                           f.p4 in P by A12,A159,FUNCT_1:def 12;
A162:                           f.p1 in P by A9,A159,A160,FUNCT_1:def 12;
A163:                           (f.p1)`1<0 by A2,A21,A29,Th77;
A164:                           (f.p1)`2<=0 by A2,A21,A29,Th77;
A165:                           f
                                .(|[-1,0]|)=W-min(P) by A2,A5,Th18,JGRAPH_5:32;
A166:                           now
                                  assume f.p1=W-min(P);
then p1=|[-1,0]| by A2,A160,A165,FUNCT_1:def 8;
                                  hence contradiction by A29,EUCLID:56;
                                end;
A167:                           (f.p4)`1>=0 by A2,A158,Th78;
                                now per cases;
                                  case
A168:                               (f.p4)`2>=0;
A169:                               (f.p1)`2<=0 by A2,A21,A29,Th77;
A170:                               Upper_Arc(P)
={p where p is Point of TOP-REAL 2:p in P & p`2>=0} by A5,JGRAPH_5:37;
A171:                               f
.(|[-1,0]|)=W-min(P) by A2,A5,Th18,JGRAPH_5:32;
A172:                               now
                                      assume f.p1=W-min(P);
then p1=|[-1,0]| by A2,A160,A171,FUNCT_1:def 8;
                                      hence contradiction by A29,EUCLID:56;
                                    end;
A173:                               f.p4 in Upper_Arc(P) by A161,A168,A170;
                                    Lower_Arc(P)
={p where p is Point of TOP-REAL 2:p in P & p`2<=0} by A5,JGRAPH_5:38;
                                    then f.p1 in Lower_Arc(P) by A162,A169;
hence LE f.p4,f.p1,P by A172,A173,JORDAN6:def 10;
                                  end;
                                  case (f.p4)`2<0;
                                    hence LE f.p4,f.p1,P
                                    by A5,A161,A162,A163,A164,A166,A167,
JGRAPH_5:59;
                                  end;
                                end;
                                hence LE f.p4,f.p1,P;
                              end;
                              case
A174:                           p4 in LSeg(|[1,-1]|,|[-1,-1]|);
                                then p4`2=-1 by Th11;
                                then
A175:                           (f.p4)`2<0 by A2,Th79;
A176:                           f.p4 in P by A12,A148,A149,FUNCT_1:def 12;
A177:                           (f.p1)`2<=0 by A2,A21,A29,Th77;
                                (f.p4)`1>=(f.p1)`1 by A2,A20,A174,Th80;
hence LE f.p4,f.p1,P by A5,A152,A155,A175,A176,A177,JGRAPH_5:59;
                              end;
                            end;
                            hence LE f.p4,f.p1,P;
                          end;
                          case
A178:                       p4`1=-1 & p4`2>=0;
A179:                       f.:K=P by A2,A5,Lm15,Th45,JGRAPH_3:33;
                            A180:                       dom
 f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
                            then
A181:                       f.p4 in P by A12,A179,FUNCT_1:def 12;
A182:                       f.p1 in P by A9,A179,A180,FUNCT_1:def 12;
A183:                       (f.p4)`2>=0 by A2,A178,Th79;
A184:                       (f.p1)`2<=0 by A2,A21,A29,Th77;
A185:                       Upper_Arc(P)
                            ={p where p is Point of TOP-REAL 2:p in P & p`2>=0}
                            by A5,JGRAPH_5:37;
A186:                       f.(|[-1,0]|)=W-min(P) by A2,A5,Th18,JGRAPH_5:32;
A187:                       now
                              assume f.p1=W-min(P);
                              then p1=|[-1,0]| by A2,A180,A186,FUNCT_1:def 8;
                              hence contradiction by A29,EUCLID:56;
                            end;
A188:                       f.p4 in Upper_Arc(P) by A181,A183,A185;
                            Lower_Arc(P)
                            ={p where p is Point of TOP-REAL 2:p in P & p`2<=0}
                            by A5,JGRAPH_5:38;
                            then f.p1 in Lower_Arc(P) by A182,A184;
                            hence LE f.p4,f.p1,P by A187,A188,JORDAN6:def 10;
                          end;
                          case
A189:                       p4`1=-1 & p4`2<0 & p1`2>p4`2;
                            then
                            A190:                       p4
 in LSeg(|[-1,-1 ]|,|[-1,1]|) by A13,Th10;
A191:                       f.:K=P by A2,A5,Lm15,Th45,JGRAPH_3:33;
                            A192:                       dom
 f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
                            then
A193:                       f.p4 in P by A12,A191,FUNCT_1:def 12;
A194:                       f.p1 in P by A9,A191,A192,FUNCT_1:def 12;
A195:                       (f.p1)`1<0 by A2,A21,A29,Th77;
A196:                       (f.p1)`2<0 by A2,A21,A29,Th77;
A197:                       (f.p4)`2<=(f.p1)`2 by A2,A20,A29,A189,A190,Th81;
                            (f.p4)`1<0 by A2,A189,Th78;
hence LE f.p4,f.p1,P by A5,A193,A194,A195,A196,A197,JGRAPH_5:54;
                          end;
                        end;
                        hence LE f.p4,f.p1,P;
                      end;
                    end;
A198:               K
={p: p`1=-1 & -1 <=p`2 & p`2<=1 or p`2=1 & -1<=p`1 & p`1<=1 or
                    p`1=1 & -1 <=p`2 & p`2<=1 or p`2=-1 & -1<=p`1 & p`1<=1}
                    by Lm15;
                    thus K={p: p`1=-1 & -1 <=p`2 & p`2<=1 or
                    p`1=1 & -1 <=p`2 & p`2<=1 or -1=p`2 & -1<=p`1 & p`1<=1 or
                    1=p`2 & -1<=p`1 & p`1<=1}
                    proof
                      thus K c= {p: p`1=-1 & -1 <=p`2 & p`2<=1 or
                      p`1=1 & -1 <=p`2 & p`2<=1 or -1=p`2 & -1<=p`1 & p`1<=1 or
                      1=p`2 & -1<=p`1 & p`1<=1}
                      proof
                        let x be set;
                        assume x in K;
then ex p st ( p=x)&( p`1=-1 & -1 <=p`2 & p`2<=1 or p`2=1 & -1
<=p`1 & p`1<=1 or p`1=1 & -1 <=p`2 & p`2<=1 or p`2=-1 & -1<=p`1 & p`1<=1) by
A198;
                        hence thesis;
                      end;
                      thus
                      {p: p`1=-1 & -1 <=p`2 & p`2<=1 or
                      p`1=1 & -1 <=p`2 & p`2<=1 or -1=p`2 & -1<=p`1 & p`1<=1 or
                      1=p`2 & -1<=p`1 & p`1<=1} c= K
                      proof
                        let x be set;
                        assume x in {p: p`1=-1 & -1 <=p`2 & p`2<=1 or
p`1=1 & -1 <=p`2 & p`2<=1 or -1=p`2 & -1<=p`1 & p`1<=1 or
                        1=p`2 & -1<=p`1 & p`1<=1};
then ex p st ( p=x)&( p`1=-1 & -1 <=p`2 & p`2<=1 or p`1=1 & -1
<=p`2 & p`2<=1 or -1=p`2 & -1<=p`1 & p`1<=1 or 1=p`2 & -1<=p`1 & p`1<=1);
                        hence thesis by A198;
                      end;
                    end;
                    thus thesis by A128,A129,A130,JORDAN17:def 1;
                  end;
                end;
                hence thesis;
              end;
              case
A199:           not(p2`2<0 & p2 in LSeg(|[-1,-1]|,|[-1,1]|));
A200:           now per cases by A10,Th73;
                  case p2 in LSeg(|[-1,-1]|,|[-1,1]|);
                    hence
                    p2 in LSeg(|[-1,-1]|,|[-1,1]|) & (|[-1,0]|)`2<=p2`2
or p2 in LSeg(|[-1,1]|,|[1,1]|) or p2 in LSeg(|[1,1]|,|[1,-1]|)
or p2 in LSeg(|[1,-1]|,|[-1,-1]|) & p2<>W-min(K) by A199,EUCLID:56;
                  end;
                  case p2 in LSeg(|[-1,1]|,|[1,1]|);
                    hence
                    p2 in LSeg(|[-1,-1]|,|[-1,1]|) & (|[-1,0]|)`2<=p2`2
or p2 in LSeg(|[-1,1]|,|[1,1]|) or p2 in LSeg(|[1,1]|,|[1,-1]|)
                    or p2 in LSeg(|[1,-1]|,|[-1,-1]|) & p2<>W-min(K);
                  end;
                  case p2 in LSeg(|[1,1]|,|[1,-1]|);
                    hence
                    p2 in LSeg(|[-1,-1]|,|[-1,1]|) & (|[-1,0]|)`2<=p2`2
or p2 in LSeg(|[-1,1]|,|[1,1]|) or p2 in LSeg(|[1,1]|,|[1,-1]|)
                    or p2 in LSeg(|[1,-1]|,|[-1,-1]|) & p2<>W-min(K);
                  end;
                  case
A201:               p2 in LSeg(|[1,-1]|,|[-1,-1]|);
A202:               W-min(K)=|[-1,-1]| by Th56;
                    now
                      assume
A203:                 p2= W-min(K);
                      then p2`2=-1 by A202,EUCLID:56;
                      hence contradiction by A199,A202,A203,RLTOPSP1:69;
                    end;
                    hence
                    p2 in LSeg(|[-1,-1]|,|[-1,1]|) & (|[-1,0]|)`2<=p2`2
or p2 in LSeg(|[-1,1]|,|[1,1]|) or p2 in LSeg(|[1,1]|,|[1,-1]|)
                    or p2 in LSeg(|[1,-1]|,|[-1,-1]|) & p2<>W-min(K) by A201;
                  end;
                end;
                then
A204:           LE |[-1,0]|,p2,K by A19,Th69;
                then
A205:           LE f.p2,f.p3,P by A1,A2,A7,A17,A18,Th76,RLTOPSP1:70;
                LE |[-1,0]|,p3,K by A7,A204,Th60,JORDAN6:73;
                then
A206:           LE f.p3,f.p4,P by A1,A2,A8,A17,A18,Th76,RLTOPSP1:70;
A207:           now per cases;
                  case
A208:               p4`1=-1 & p4`2<0 & p1`2<=p4`2;
A209:               (|[-1,-1]|)`1=-1 by EUCLID:56;
A210:               (|[-1,-1]|)`2=-1 by EUCLID:56;
A211:               (|[-1,1]|)`1=-1 by EUCLID:56;
A212:               (|[-1,1]|)`2=1 by EUCLID:56;
                    -1<=p4`2 by A12,Th28;
                    then
A213:               p4 in LSeg(|[-1,-1]|,|[-1,1]|) by A208,A209,A210,A211,A212,
GOBOARD7:8;
                    now per cases by A200;
                      case
A214:                   p2 in LSeg(|[-1,-1]|,|[-1,1]|) & (|[-1,0]|)`2<=p2`2;
                        then 0<=p2`2 by EUCLID:56;
                        hence contradiction by A15,A208,A213,A214,Th65;
                      end;
                      case
A215:                   p2 in LSeg(|[-1,1]|,|[1,1]|);
                        then LE p4,p2,K by A213,Th69;
                        then p2=p4 by A15,Th60,JORDAN6:72;
                        hence contradiction by A208,A215,Th11;
                      end;
                      case
A216:                   p2 in LSeg(|[1,1]|,|[1,-1]|);
                        then LE p4,p2,K by A213,Th69;
                        then p2=p4 by A15,Th60,JORDAN6:72;
                        hence contradiction by A208,A216,Th9;
                      end;
                      case
A217:                   p2 in LSeg(|[1,-1]|,|[-1,-1]|) & p2<>W-min(K);
                        then LE p4,p2,K by A213,Th69;
                        then
A218:                   p2=p4 by A15,Th60,JORDAN6:72;
A219:                   p2`2= -1 by A217,Th11;
A220:                   W-min(K)= |[-1,-1]| by Th56;
                        then
A221:                   (W-min(K))`1=-1 by EUCLID:56;
                        (W-min(K))`2=-1 by A220,EUCLID:56;
                        hence contradiction by A208,A217,A218,A219,A221,
TOPREAL3:11;
                      end;
                    end;
                    hence contradiction;
                  end;
                  case
A222:               not (p4`1=-1 & p4`2<0 & p1`2<=p4`2);
A223:               p4
                    in LSeg(|[-1,-1]|,|[-1,1]|) or p4 in LSeg(|[-1,1]|,|[1,1]|)
or p4 in LSeg(|[1,1]|,|[1,-1]|) or p4 in LSeg(|[1,-1]|,|[-1,-1]|) by A12,Th73;
                    now per cases by A222;
                      case
A224:                   p4`1<>-1;
A225:                   f.:K=P by A2,A5,Lm15,Th45,JGRAPH_3:33;
A226:                   dom f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
A227:                   (f.p1)`2<=0 by A2,A21,A29,Th77;
A228:                   Upper_Arc(P)
                        ={p where p is Point of TOP-REAL 2:p in P & p`2>=0}
                        by A5,JGRAPH_5:37;
A229:                   f.p1 in P by A9,A225,A226,FUNCT_1:def 12;
                        Lower_Arc(P)
                        ={p where p is Point of TOP-REAL 2:p in P & p`2<=0}
                        by A5,JGRAPH_5:38;
                        then
A230:                   f.p1 in Lower_Arc(P) by A227,A229;
A231:                   f.(|[-1,0]|)=W-min(P) by A2,A5,Th18,JGRAPH_5:32;
A232:                   now
                          assume f.p1=W-min(P);
                          then p1=|[-1,0]| by A2,A226,A231,FUNCT_1:def 8;
                          hence contradiction by A29,EUCLID:56;
                        end;
                        now per cases by A223,A224,Th9;
                          case p4 in LSeg(|[-1,1]|,|[1,1]|);
                            then
A233:                       p4`2=1 by Th11;
A234:                       f.p4 in P by A12,A225,A226,FUNCT_1:def 12;
                            (f.p4)`2>=0 by A2,A233,Th79;
                            then f.p4 in Upper_Arc(P) by A228,A234;
                            hence LE f.p4,f.p1,P by A230,A232,JORDAN6:def 10;
                          end;
                          case p4 in LSeg(|[1,1]|,|[1,-1]|);
                            then
A235:                       p4`1=1 by Th9;
A236:                       f.:K=P by A2,A5,Lm15,Th45,JGRAPH_3:33;
                            A237:                       dom
 f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
                            then
A238:                       f.p4 in P by A12,A236,FUNCT_1:def 12;
A239:                       f.p1 in P by A9,A236,A237,FUNCT_1:def 12;
A240:                       (f.p1)`1<0 by A2,A21,A29,Th77;
A241:                       (f.p1)`2<=0 by A2,A21,A29,Th77;
A242:                       f.(|[-1,0]|)=W-min(P) by A2,A5,Th18,JGRAPH_5:32;
A243:                       now
                              assume f.p1=W-min(P);
                              then p1=|[-1,0]| by A2,A237,A242,FUNCT_1:def 8;
                              hence contradiction by A29,EUCLID:56;
                            end;
A244:                       (f.p4)`1>=0 by A2,A235,Th78;
                            now per cases;
                              case
A245:                           (f.p4)`2>=0;
A246:                           (f.p1)`2<=0 by A2,A21,A29,Th77;
A247:                           Upper_Arc(P)
={p where p is Point of TOP-REAL 2:p in P & p`2>=0} by A5,JGRAPH_5:37;
A248:                           f
                                .(|[-1,0]|)=W-min(P) by A2,A5,Th18,JGRAPH_5:32;
A249:                           now
                                  assume f.p1=W-min(P);
then p1=|[-1,0]| by A2,A237,A248,FUNCT_1:def 8;
                                  hence contradiction by A29,EUCLID:56;
                                end;
A250:                           f.p4 in Upper_Arc(P) by A238,A245,A247;
                                Lower_Arc(P)
={p where p is Point of TOP-REAL 2:p in P & p`2<=0} by A5,JGRAPH_5:38;
                                then f.p1 in Lower_Arc(P) by A239,A246;
hence LE f.p4,f.p1,P by A249,A250,JORDAN6:def 10;
                              end;
                              case (f.p4)`2<0;
                                hence LE f.p4,f.p1,P
                                by A5,A238,A239,A240,A241,A243,A244,JGRAPH_5:59
;
                              end;
                            end;
                            hence LE f.p4,f.p1,P;
                          end;
                          case
A251:                       p4 in LSeg(|[1,-1]|,|[-1,-1]|);
                            then p4`2=-1 by Th11;
                            then
A252:                       (f.p4)`2<0 by A2,Th79;
A253:                       f.p4 in P by A12,A225,A226,FUNCT_1:def 12;
A254:                       (f.p1)`2<=0 by A2,A21,A29,Th77;
                            (f.p4)`1>=(f.p1)`1 by A2,A20,A251,Th80;
hence LE f.p4,f.p1,P by A5,A229,A232,A252,A253,A254,JGRAPH_5:59;
                          end;
                        end;
                        hence LE f.p4,f.p1,P;
                      end;
                      case
A255:                   p4`1=-1 & p4`2>=0;
A256:                   f.:K=P by A2,A5,Lm15,Th45,JGRAPH_3:33;
A257:                   dom f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
                        then
A258:                   f.p4 in P by A12,A256,FUNCT_1:def 12;
A259:                   f.p1 in P by A9,A256,A257,FUNCT_1:def 12;
A260:                   (f.p4)`2>=0 by A2,A255,Th79;
A261:                   (f.p1)`2<=0 by A2,A21,A29,Th77;
A262:                   Upper_Arc(P)
                        ={p where p is Point of TOP-REAL 2:p in P & p`2>=0}
                        by A5,JGRAPH_5:37;
A263:                   f.(|[-1,0]|)=W-min(P) by A2,A5,Th18,JGRAPH_5:32;
A264:                   now
                          assume f.p1=W-min(P);
                          then p1=|[-1,0]| by A2,A257,A263,FUNCT_1:def 8;
                          hence contradiction by A29,EUCLID:56;
                        end;
A265:                   f.p4 in Upper_Arc(P) by A258,A260,A262;
                        Lower_Arc(P)
                        ={p where p is Point of TOP-REAL 2:p in P & p`2<=0}
                        by A5,JGRAPH_5:38;
                        then f.p1 in Lower_Arc(P) by A259,A261;
                        hence LE f.p4,f.p1,P by A264,A265,JORDAN6:def 10;
                      end;
                      case
A266:                   p4`1=-1 & p4`2<0 & p1`2>p4`2;
                        then
                        A267:                   p4
 in LSeg(|[-1,-1]|,|[-1, 1]|) by A13,Th10;
A268:                   f.:K=P by A2,A5,Lm15,Th45,JGRAPH_3:33;
A269:                   dom f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
                        then
A270:                   f.p4 in P by A12,A268,FUNCT_1:def 12;
A271:                   f.p1 in P by A9,A268,A269,FUNCT_1:def 12;
A272:                   (f.p1)`1<0 by A2,A21,A29,Th77;
A273:                   (f.p1)`2<0 by A2,A21,A29,Th77;
A274:                   (f.p4)`2<=(f.p1)`2 by A2,A20,A29,A266,A267,Th81;
                        (f.p4)`1<0 by A2,A266,Th78;
hence LE f.p4,f.p1,P by A5,A270,A271,A272,A273,A274,JGRAPH_5:54;
                      end;
                    end;
                    hence LE f.p4,f.p1,P;
                  end;
                end;
                A275:           K
={p: p`1=-1 & -1 <=p`2 & p`2<=1 or p`2=1 & -1<=p`1 & p`1<=1 or
                p`1=1 & -1 <=p`2 & p`2<=1 or p`2=-1 & -1<=p`1 & p`1<=1}
                by Lm15;
                thus K={p: p`1=-1 & -1 <=p`2 & p`2<=1 or
                p`1=1 & -1 <=p`2 & p`2<=1 or -1=p`2 & -1<=p`1 & p`1<=1 or
                1=p`2 & -1<=p`1 & p`1<=1}
                proof
                  thus K c= {p: p`1=-1 & -1 <=p`2 & p`2<=1 or
                  p`1=1 & -1 <=p`2 & p`2<=1 or -1=p`2 & -1<=p`1 & p`1<=1 or
                  1=p`2 & -1<=p`1 & p`1<=1}
                  proof
                    let x be set;
                    assume x in K;
then ex p st ( p=x)&( p`1=-1 & -1 <=p`2 & p`2<=1 or p`2=1 & -1
<=p`1 & p`1<=1 or p`1=1 & -1 <=p`2 & p`2<=1 or p`2=-1 & -1<=p`1 & p`1<=1) by
A275;
                    hence thesis;
                  end;
                  thus
                  {p: p`1=-1 & -1 <=p`2 & p`2<=1 or
                  p`1=1 & -1 <=p`2 & p`2<=1 or -1=p`2 & -1<=p`1 & p`1<=1 or
                  1=p`2 & -1<=p`1 & p`1<=1} c= K
                  proof
                    let x be set;
                    assume x in {p: p`1=-1 & -1 <=p`2 & p`2<=1 or
                    p`1=1 & -1 <=p`2 & p`2<=1 or -1=p`2 & -1<=p`1 & p`1<=1 or
                    1=p`2 & -1<=p`1 & p`1<=1};
then ex p st ( p=x)&( p`1=-1 & -1 <=p`2 & p`2<=1 or p`1=1 & -1
<=p`2 & p`2<=1 or -1=p`2 & -1<=p`1 & p`1<=1 or 1=p`2 & -1<=p`1 & p`1<=1);
                    hence thesis by A275;
                  end;
                end;
                thus thesis by A205,A206,A207,JORDAN17:def 1;
              end;
            end;
            hence thesis;
          end;
        end;
        hence thesis;
      end;
      case
A276:   p1 in LSeg(|[-1,1]|,|[1,1]|);
A277:   |[-1,1]| in LSeg(|[-1,1]|,|[1,1]|) by RLTOPSP1:69;
A278:   (|[-1,1]|)`1=-1 by EUCLID:56;
A279:   (|[-1,1]|)`2=1 by EUCLID:56;
        -1 <=p1`1 by A276,Th11;
        then
A280:   LE |[-1,1]|,p1,K by A276,A277,A278,Th70;
        then
A281:   LE f.p1,f.p2,P by A1,A2,A6,A279,Th76,RLTOPSP1:69;
A282:   LE |[-1,1]|,p2,K by A6,A280,Th60,JORDAN6:73;
        then
A283:   LE f.p2,f.p3,P by A1,A2,A7,A279,Th76,RLTOPSP1:69;
        LE |[-1,1]|,p3,K by A7,A282,Th60,JORDAN6:73;
        then LE f.p3,f.p4,P by A1,A2,A8,A279,Th76,RLTOPSP1:69;
        hence thesis by A281,A283,JORDAN17:def 1;
      end;
      case
A284:   p1 in LSeg(|[1,1]|,|[1,-1]|);
A285:   |[-1,1]| in LSeg(|[-1,1]|,|[1,1]|) by RLTOPSP1:69;
A286:   (|[-1,1]|)`1=-1 by EUCLID:56;
A287:   (|[-1,1]|)`2=1 by EUCLID:56;
A288:   |[1,1]| in LSeg(|[1,1]|,|[1,-1]|) by RLTOPSP1:69;
A289:   |[1,1]| in LSeg(|[-1,1]|,|[1,1]|) by RLTOPSP1:69;
A290:   (|[1,1]|)`1=1 by EUCLID:56;
A291:   (|[1,1]|)`2=1 by EUCLID:56;
A292:   LE |[-1,1]|,|[1,1]|,K by A285,A286,A289,A290,Th70;
        p1`2<=1 by A284,Th9;
        then LE |[1,1]|,p1,K by A284,A288,A291,Th71;
        then
A293:   LE |[-1,1]|,p1,K by A292,Th60,JORDAN6:73;
        then
A294:   LE f.p1,f.p2,P by A1,A2,A6,A287,Th76,RLTOPSP1:69;
A295:   LE |[-1,1]|,p2,K by A6,A293,Th60,JORDAN6:73;
        then
A296:   LE f.p2,f.p3,P by A1,A2,A7,A287,Th76,RLTOPSP1:69;
        LE |[-1,1]|,p3,K by A7,A295,Th60,JORDAN6:73;
        then LE f.p3,f.p4,P by A1,A2,A8,A287,Th76,RLTOPSP1:69;
        hence thesis by A294,A296,JORDAN17:def 1;
      end;
      case
A297:   p1 in LSeg(|[1,-1]|,|[-1,-1]|) & p1 <> W-min(K);
A298:   |[-1,1]| in LSeg(|[-1,1]|,|[1,1]|) by RLTOPSP1:69;
A299:   (|[-1,1]|)`1=-1 by EUCLID:56;
A300:   (|[-1,1]|)`2=1 by EUCLID:56;
A301:   |[1,1]| in LSeg(|[-1,1]|,|[1,1]|) by RLTOPSP1:69;
        (|[1,1]|)`1=1 by EUCLID:56;
        then
A302:   LE |[-1,1]|,|[1,1]|,K by A298,A299,A301,Th70;
A303:   |[1,-1]| in LSeg(|[1,1]|,|[1,-1]|) by RLTOPSP1:69;
A304:   |[1,-1]| in LSeg(|[1,-1]|,|[-1,-1]|) by RLTOPSP1:69;
A305:   (|[1,-1]|)`1=1 by EUCLID:56;
        LE |[1,1]|,|[1,-1]|,K by A301,A303,Th70;
        then
A306:   LE |[-1,1]|,|[1,-1]|,K by A302,Th60,JORDAN6:73;
        W-min(K)=|[-1,-1]| by Th56;
        then
A307:   (W-min(K))`1=-1 by EUCLID:56;
        p1`1<=1 by A297,Th11;
        then LE |[1,-1]|,p1,K by A297,A304,A305,A307,Th72;
        then
A308:   LE |[-1,1]|,p1,K by A306,Th60,JORDAN6:73;
        then
A309:   LE f.p1,f.p2,P by A1,A2,A6,A300,Th76,RLTOPSP1:69;
A310:   LE |[-1,1]|,p2,K by A6,A308,Th60,JORDAN6:73;
        then
A311:   LE f.p2,f.p3,P by A1,A2,A7,A300,Th76,RLTOPSP1:69;
        LE |[-1,1]|,p3,K by A7,A310,Th60,JORDAN6:73;
        then LE f.p3,f.p4,P by A1,A2,A8,A300,Th76,RLTOPSP1:69;
        hence thesis by A309,A311,JORDAN17:def 1;
      end;
    end;
    hence thesis;
  end;
end;

theorem Th83:
  for p1,p2 being Point of TOP-REAL 2,
  P being non empty compact Subset of TOP-REAL 2 st
  P is being_simple_closed_curve & p1 in P & p2 in P & not LE p1,p2,P
  holds LE p2,p1,P
proof
  let p1,p2 be Point of TOP-REAL 2,
  P be non empty compact Subset of TOP-REAL 2;
  assume that
A1: P is being_simple_closed_curve and
A2: p1 in P and
A3: p2 in P and
A4: not LE p1,p2,P;
A5: P=Upper_Arc(P) \/ Lower_Arc(P) by A1,JORDAN6:def 9;
A6: not p1=W-min(P) by A1,A3,A4,JORDAN7:3;
  per cases by A2,A3,A5,XBOOLE_0:def 3;
  suppose
A7: p1 in Upper_Arc(P) & p2 in Upper_Arc(P);
A8: Upper_Arc(P) is_an_arc_of W-min(P),E-max(P) by A1,JORDAN6:def 8;
    set q1=W-min(P),q2=E-max(P);
    set Q= Upper_Arc(P);
    now per cases;
      case
A9:     p1<>p2;
        now per cases by A7,A8,A9,JORDAN5C:14;
          case LE p1,p2,Q,q1,q2 & not LE p2,p1,Q,q1,q2;
            hence contradiction by A4,A7,JORDAN6:def 10;
          end;
          case LE p2,p1,Q,q1,q2 & not LE p1,p2,Q,q1,q2;
            hence thesis by A7,JORDAN6:def 10;
          end;
        end;
        hence thesis;
      end;
      case p1=p2;
        hence thesis by A1,A2,JORDAN6:71;
      end;
    end;
    hence thesis;
  end;
  suppose
A10: p1 in Upper_Arc(P) & p2 in Lower_Arc(P);
    now per cases;
      case p2=W-min(P);
        hence thesis by A1,A2,JORDAN7:3;
      end;
      case p2<>W-min(P);
        hence contradiction by A4,A10,JORDAN6:def 10;
      end;
    end;
    hence thesis;
  end;
  suppose p1 in Lower_Arc(P) & p2 in Upper_Arc(P);
    hence thesis by A6,JORDAN6:def 10;
  end;
  suppose
A11: p1 in Lower_Arc(P) & p2 in Lower_Arc(P);
A12: Lower_Arc(P) is_an_arc_of E-max(P),W-min(P) by A1,JORDAN6:65;
    set q2=W-min(P),q1=E-max(P);
    set Q= Lower_Arc(P);
    now per cases;
      case
A13:    p1<>p2;
        now per cases by A11,A12,A13,JORDAN5C:14;
          case
A14:        LE p1,p2,Q,q1,q2 & not LE p2,p1,Q,q1,q2;
            now per cases;
              case p2=W-min(P);
                hence thesis by A1,A2,JORDAN7:3;
              end;
              case p2<>W-min(P);
                hence contradiction by A4,A11,A14,JORDAN6:def 10;
              end;
            end;
            hence thesis;
          end;
          case LE p2,p1,Q,q1,q2 & not LE p1,p2,Q,q1,q2;
            hence thesis by A6,A11,JORDAN6:def 10;
          end;
        end;
        hence thesis;
      end;
      case p1=p2;
        hence thesis by A1,A2,JORDAN6:71;
      end;
    end;
    hence thesis;
  end;
end;

theorem
  for p1,p2,p3 being Point of TOP-REAL 2,
  P being non empty compact Subset of TOP-REAL 2 st
  P is being_simple_closed_curve & p1 in P & p2 in P & p3 in P holds
  LE p1,p2,P & LE p2,p3,P or LE p1,p3,P & LE p3,p2,P or
  LE p2,p1,P & LE p1,p3,P or LE p2,p3,P & LE p3,p1,P or
  LE p3,p1,P & LE p1,p2,P or LE p3,p2,P & LE p2,p1,P by Th83;

theorem
  for p1,p2,p3 being Point of TOP-REAL 2,
  P being non empty compact Subset of TOP-REAL 2 st
  P is being_simple_closed_curve & p1 in P & p2 in P & p3 in P & LE p2,p3,P
  holds
  LE p1,p2,P or LE p2,p1,P & LE p1,p3,P or LE p3,p1,P by Th83;

theorem
  for p1,p2,p3,p4 being Point of TOP-REAL 2,
  P being non empty compact Subset of TOP-REAL 2 st
  P is being_simple_closed_curve & p1 in P & p2 in P & p3 in P & p4 in P &
  LE p2,p3,P & LE p3,p4,P holds
  LE p1,p2,P or LE p2,p1,P & LE p1,p3,P or LE p3,p1,P & LE p1,p4,P or
  LE p4,p1,P by Th83;

theorem Th87:
  for p1,p2,p3,p4 being Point of TOP-REAL 2,
  P being non empty compact Subset of TOP-REAL 2,
  f being Function of TOP-REAL 2,TOP-REAL 2 st P= circle(0,0,1) & f=Sq_Circ &
  LE f.p1,f.p2,P & LE f.p2,f.p3,P & LE f.p3,f.p4,P
  holds p1,p2,p3,p4 are_in_this_order_on rectangle(-1,1,-1,1)
proof
  let p1,p2,p3,p4 be Point of TOP-REAL 2,
  P be non empty compact Subset of TOP-REAL 2,
  f be Function of TOP-REAL 2,TOP-REAL 2;
  set K = rectangle(-1,1,-1,1);
  assume that
A1: P= circle(0,0,1) and
A2: f=Sq_Circ and
A3: LE f.p1,f.p2,P and
A4: LE f.p2,f.p3,P and
A5: LE f.p3,f.p4,P;
A6: K is being_simple_closed_curve by Th60;
A7: P={p: |.p.|=1} by A1,Th33;
  then
A8: LE f.p1,f.p3,P by A3,A4,JGRAPH_3:36,JORDAN6:73;
A9: LE f.p2,f.p4,P by A4,A5,A7,JGRAPH_3:36,JORDAN6:73;
A10: f.:K=P by A2,A7,Lm15,Th45,JGRAPH_3:33;
A11: dom f = the carrier of TOP-REAL 2 by FUNCT_2:def 1;
A12: P={p: |.p.|=1} by A1,Th33;
  then
A13: P is being_simple_closed_curve by JGRAPH_3:36;
  then f.p1 in P by A3,JORDAN7:5;
  then ex x1 being set st ( x1 in dom f)&( x1 in K)&( f.p1=f.x1)
  by A10,FUNCT_1:def 12;
  then
A14: p1 in K by A2,A11,FUNCT_1:def 8;
  f.p2 in P by A3,A13,JORDAN7:5;
  then ex x2 being set st ( x2 in dom f)&( x2 in K)&( f.p2=f.x2)
  by A10,FUNCT_1:def 12;
  then
A15: p2 in K by A2,A11,FUNCT_1:def 8;
  f.p3 in P by A4,A13,JORDAN7:5;
  then ex x3 being set st ( x3 in dom f)&( x3 in K)&( f.p3=f.x3)
  by A10,FUNCT_1:def 12;
  then
A16: p3 in K by A2,A11,FUNCT_1:def 8;
  f.p4 in P by A5,A13,JORDAN7:5;
  then ex x4 being set st ( x4 in dom f)&( x4 in K)&( f.p4=f.x4)
  by A10,FUNCT_1:def 12;
  then
A17: p4 in K by A2,A11,FUNCT_1:def 8;
  now
    assume
A18: not p1,p2,p3,p4 are_in_this_order_on K;
A19: now
      assume
A20:  p1,p2,p4,p3 are_in_this_order_on K;
      now per cases by A20,JORDAN17:def 1;
        case
A21:      LE p1,p2,K & LE p2,p4,K & LE p4,p3,K;
          then f.p1,f.p2,f.p4,f.p3 are_in_this_order_on P by A1,A2,Th82;
          then LE f.p1,f.p2,P & LE f.p2,f.p4,P & LE f.p4,f.p3,P or
          LE f.p2,f.p4,P & LE f.p4,f.p3,P & LE f.p3,f.p1,P or
          LE f.p4,f.p3,P & LE f.p3,f.p1,P & LE f.p1,f.p2,P or
          LE f.p3,f.p1,P & LE f.p1,f.p2,P & LE f.p2,f.p4,P by JORDAN17:def 1;
          then f.p3=f.p4 or f.p3=f.p1 by A5,A8,A12,JGRAPH_3:36,JORDAN6:72;
          then
A22:      p3=p4 or p3=p1 by A2,A11,FUNCT_1:def 8;
          LE p1,p4,K by A21,Th60,JORDAN6:73;
          then p1=p4 by A18,A20,A21,A22,Th60,JORDAN6:72;
          hence contradiction by A18,A20,A22;
        end;
        case
A23:      LE p2,p4,K & LE p4,p3,K & LE p3,p1,K;
          then f.p2,f.p4,f.p3,f.p1 are_in_this_order_on P by A1,A2,Th82;
          then LE f.p2,f.p4,P & LE f.p4,f.p3,P & LE f.p3,f.p1,P or
          LE f.p4,f.p3,P & LE f.p3,f.p1,P & LE f.p1,f.p2,P or
          LE f.p3,f.p1,P & LE f.p1,f.p2,P & LE f.p2,f.p4,P or
          LE f.p1,f.p2,P & LE f.p2,f.p4,P & LE f.p4,f.p3,P by JORDAN17:def 1;
          then f.p3=f.p4 or LE f.p3,f.p2,P by A5,A13,JORDAN6:72,73;
          then f.p3=f.p4 or f.p3=f.p2 by A4,A12,JGRAPH_3:36,JORDAN6:72;
          then
A24:      p3=p4 or p3=p2 by A2,A11,FUNCT_1:def 8;
          then p4=p2 by A18,A20,A23,Th60,JORDAN6:72;
          hence contradiction by A18,A20,A24;
        end;
        case
A25:      LE p4,p3,K & LE p3,p1,K & LE p1,p2,K;
          then f.p4,f.p3,f.p1,f.p2 are_in_this_order_on P by A1,A2,Th82;
          then LE f.p4,f.p3,P & LE f.p3,f.p1,P & LE f.p1,f.p2,P or
          LE f.p3,f.p1,P & LE f.p1,f.p2,P & LE f.p2,f.p4,P or
          LE f.p1,f.p2,P & LE f.p2,f.p4,P & LE f.p4,f.p3,P or
          LE f.p2,f.p4,P & LE f.p4,f.p3,P & LE f.p3,f.p1,P by JORDAN17:def 1;
          then f.p3=f.p4 or LE f.p3,f.p2,P by A5,A13,JORDAN6:72,73;
          then f.p3=f.p4 or f.p3=f.p2 by A4,A12,JGRAPH_3:36,JORDAN6:72;
          then
A26:      p3=p4 or p3=p2 by A2,A11,FUNCT_1:def 8;
          then p3=p1 by A18,A20,A25,Th60,JORDAN6:72;
          hence contradiction by A6,A18,A20,A26,JORDAN17:12;
        end;
        case
A27:      LE p3,p1,K & LE p1,p2,K & LE p2,p4,K;
          then f.p3,f.p1,f.p2,f.p4 are_in_this_order_on P by A1,A2,Th82;
          then LE f.p4,f.p3,P & LE f.p3,f.p1,P & LE f.p1,f.p2,P or
          LE f.p3,f.p1,P & LE f.p1,f.p2,P & LE f.p2,f.p4,P or
          LE f.p1,f.p2,P & LE f.p2,f.p4,P & LE f.p4,f.p3,P or
          LE f.p2,f.p4,P & LE f.p4,f.p3,P & LE f.p3,f.p1,P by JORDAN17:def 1;
          then f.p3=f.p4 or LE f.p3,f.p2,P by A5,A13,JORDAN6:72,73;
          then f.p3=f.p4 or f.p3=f.p2 by A4,A12,JGRAPH_3:36,JORDAN6:72;
          then
A28:      p3=p4 or p3=p2 by A2,A11,FUNCT_1:def 8;
          then p3=p1 by A18,A20,A27,Th60,JORDAN6:72;
          hence contradiction by A6,A18,A20,A28,JORDAN17:12;
        end;
      end;
      hence contradiction;
    end;
A29: now
      assume
A30:  p1,p3,p4,p2 are_in_this_order_on K;
      now per cases by A30,JORDAN17:def 1;
        case LE p1,p3,K & LE p3,p4,K & LE p4,p2,K;
          then f.p1,f.p3,f.p4,f.p2 are_in_this_order_on P by A1,A2,Th82;
          then LE f.p1,f.p3,P & LE f.p3,f.p4,P & LE f.p4,f.p2,P or
          LE f.p3,f.p4,P & LE f.p4,f.p2,P & LE f.p2,f.p1,P or
          LE f.p4,f.p2,P & LE f.p2,f.p1,P & LE f.p1,f.p3,P or
          LE f.p2,f.p1,P & LE f.p1,f.p3,P & LE f.p3,f.p4,P by JORDAN17:def 1;
          then f.p4=f.p2 or f.p2=f.p1 by A3,A9,A12,JGRAPH_3:36,JORDAN6:72;
          then
A31:      p4=p2 or p2=p1 by A2,A11,FUNCT_1:def 8;
          then f.p3=f.p2 or f.p4=f.p1 by A4,A5,A6,A12,A18,A30,JGRAPH_3:36
,JORDAN17:12,JORDAN6:72;
          then p3=p2 or p4=p1 by A2,A11,FUNCT_1:def 8;
          hence contradiction by A6,A18,A30,A31,JORDAN17:12;
        end;
        case LE p3,p4,K & LE p4,p2,K & LE p2,p1,K;
          then f.p3,f.p4,f.p2,f.p1 are_in_this_order_on P by A1,A2,Th82;
          then
A32:      LE f.p1,f.p3,P & LE f.p3,f.p4,P & LE f.p4,f.p2,P or
          LE f.p3,f.p4,P & LE f.p4,f.p2,P & LE f.p2,f.p1,P or
          LE f.p4,f.p2,P & LE f.p2,f.p1,P & LE f.p1,f.p3,P or
          LE f.p2,f.p1,P & LE f.p1,f.p3,P & LE f.p3,f.p4,P by JORDAN17:def 1;
          then f.p4=f.p2 or f.p2=f.p1 by A3,A9,A12,JGRAPH_3:36,JORDAN6:72;
          then
A33:      p4=p2 or p2=p1 by A2,A11,FUNCT_1:def 8;
          f.p2=f.p1 or LE f.p3,f.p2,P by A3,A13,A32,JORDAN6:72,73;
          then f.p2=f.p1 or f.p3=f.p2 by A4,A12,JGRAPH_3:36,JORDAN6:72;
          then p2=p1 or p3=p2 by A2,A11,FUNCT_1:def 8;
          hence contradiction by A6,A18,A30,A33,JORDAN17:12;
        end;
        case LE p4,p2,K & LE p2,p1,K & LE p1,p3,K;
          then f.p4,f.p2,f.p1,f.p3 are_in_this_order_on P by A1,A2,Th82;
          then
A34:      LE f.p1,f.p3,P & LE f.p3,f.p4,P & LE f.p4,f.p2,P or
          LE f.p3,f.p4,P & LE f.p4,f.p2,P & LE f.p2,f.p1,P or
          LE f.p4,f.p2,P & LE f.p2,f.p1,P & LE f.p1,f.p3,P or
          LE f.p2,f.p1,P & LE f.p1,f.p3,P & LE f.p3,f.p4,P by JORDAN17:def 1;
          then f.p4=f.p2 or f.p2=f.p1 by A3,A9,A12,JGRAPH_3:36,JORDAN6:72;
          then
A35:      p4=p2 or p2=p1 by A2,A11,FUNCT_1:def 8;
          f.p2=f.p1 or LE f.p3,f.p2,P by A3,A13,A34,JORDAN6:72,73;
          then f.p2=f.p1 or f.p3=f.p2 by A4,A12,JGRAPH_3:36,JORDAN6:72;
          then p2=p1 or p3=p2 by A2,A11,FUNCT_1:def 8;
          hence contradiction by A6,A18,A30,A35,JORDAN17:12;
        end;
        case
A36:      LE p2,p1,K & LE p1,p3,K & LE p3,p4,K;
          then f.p2,f.p1,f.p3,f.p4 are_in_this_order_on P by A1,A2,Th82;
          then LE f.p1,f.p3,P & LE f.p3,f.p4,P & LE f.p4,f.p2,P or
          LE f.p3,f.p4,P & LE f.p4,f.p2,P & LE f.p2,f.p1,P or
          LE f.p4,f.p2,P & LE f.p2,f.p1,P & LE f.p1,f.p3,P or
          LE f.p2,f.p1,P & LE f.p1,f.p3,P & LE f.p3,f.p4,P by JORDAN17:def 1;
          then f.p4=f.p2 or f.p2=f.p1 by A3,A9,A12,JGRAPH_3:36,JORDAN6:72;
          then
A37:      p4=p2 or p2=p1 by A2,A11,FUNCT_1:def 8;
          LE p2,p3,K by A36,Th60,JORDAN6:73;
          then p2=p3 by A6,A18,A30,A36,A37,JORDAN17:12,JORDAN6:72;
          hence contradiction by A6,A18,A30,A37,JORDAN17:12;
        end;
      end;
      hence contradiction;
    end;
    now per cases by A6,A14,A15,A16,A17,A18,JORDAN17:27;
      case p1,p2,p4,p3 are_in_this_order_on K;
        hence contradiction by A19;
      end;
      case
A38:    p1,p3,p2,p4 are_in_this_order_on K;
        now per cases by A38,JORDAN17:def 1;
          case
A39:        LE p1,p3,K & LE p3,p2,K & LE p2,p4,K;
            then f.p1,f.p3,f.p2,f.p4 are_in_this_order_on P by A1,A2,Th82;
            then LE f.p1,f.p3,P & LE f.p3,f.p2,P & LE f.p2,f.p4,P or
            LE f.p3,f.p2,P & LE f.p2,f.p4,P & LE f.p4,f.p1,P or
            LE f.p2,f.p4,P & LE f.p4,f.p1,P & LE f.p1,f.p3,P or
            LE f.p4,f.p1,P & LE f.p1,f.p3,P & LE f.p3,f.p2,P
            by JORDAN17:def 1;
            then f.p3=f.p2 or LE f.p2,f.p1,P by A4,A13,JORDAN6:72,73;
            then f.p3=f.p2 or f.p2=f.p1 by A3,A12,JGRAPH_3:36,JORDAN6:72;
            then
A40:        p3=p2 or p2=p1 by A2,A11,FUNCT_1:def 8;
            then p3=p1 by A18,A38,A39,Th60,JORDAN6:72;
            hence contradiction by A18,A38,A40;
          end;
          case
A41:        LE p3,p2,K & LE p2,p4,K & LE p4,p1,K;
            then f.p3,f.p2,f.p4,f.p1 are_in_this_order_on P by A1,A2,Th82;
            then LE f.p1,f.p3,P & LE f.p3,f.p2,P & LE f.p2,f.p4,P or
            LE f.p3,f.p2,P & LE f.p2,f.p4,P & LE f.p4,f.p1,P or
            LE f.p2,f.p4,P & LE f.p4,f.p1,P & LE f.p1,f.p3,P or
            LE f.p4,f.p1,P & LE f.p1,f.p3,P & LE f.p3,f.p2,P
            by JORDAN17:def 1;
            then f.p3=f.p2 or LE f.p2,f.p1,P by A4,A13,JORDAN6:72,73;
            then f.p3=f.p2 or f.p2=f.p1 by A3,A12,JGRAPH_3:36,JORDAN6:72;
            then
A42:        p3=p2 or p2=p1 by A2,A11,FUNCT_1:def 8;
            then p4=p1 by A18,A38,A41,Th60,JORDAN6:72;
            hence contradiction by A6,A18,A38,A42,JORDAN17:12;
          end;
          case
A43:        LE p2,p4,K & LE p4,p1,K & LE p1,p3,K;
            then f.p2,f.p4,f.p1,f.p3 are_in_this_order_on P by A1,A2,Th82;
            then LE f.p1,f.p3,P & LE f.p3,f.p2,P & LE f.p2,f.p4,P or
            LE f.p3,f.p2,P & LE f.p2,f.p4,P & LE f.p4,f.p1,P or
            LE f.p2,f.p4,P & LE f.p4,f.p1,P & LE f.p1,f.p3,P or
            LE f.p4,f.p1,P & LE f.p1,f.p3,P & LE f.p3,f.p2,P
            by JORDAN17:def 1;
            then f.p3=f.p2 or LE f.p2,f.p1,P by A4,A13,JORDAN6:72,73;
            then f.p3=f.p2 or f.p2=f.p1 by A3,A12,JGRAPH_3:36,JORDAN6:72;
            then
A44:        p3=p2 or p2=p1 by A2,A11,FUNCT_1:def 8;
            then p4=p1 by A18,A38,A43,Th60,JORDAN6:72;
            hence contradiction by A6,A18,A38,A44,JORDAN17:12;
          end;
          case
A45:        LE p4,p1,K & LE p1,p3,K & LE p3,p2,K;
            then f.p4,f.p1,f.p3,f.p2 are_in_this_order_on P by A1,A2,Th82;
            then LE f.p1,f.p3,P & LE f.p3,f.p2,P & LE f.p2,f.p4,P or
            LE f.p3,f.p2,P & LE f.p2,f.p4,P & LE f.p4,f.p1,P or
            LE f.p2,f.p4,P & LE f.p4,f.p1,P & LE f.p1,f.p3,P or
            LE f.p4,f.p1,P & LE f.p1,f.p3,P & LE f.p3,f.p2,P
            by JORDAN17:def 1;
            then f.p3=f.p2 or LE f.p2,f.p1,P by A4,A13,JORDAN6:72,73;
            then f.p3=f.p2 or f.p2=f.p1 by A3,A12,JGRAPH_3:36,JORDAN6:72;
            then
A46:        p3=p2 or p2=p1 by A2,A11,FUNCT_1:def 8;
            then p3=p1 by A18,A38,A45,Th60,JORDAN6:72;
            hence contradiction by A18,A38,A46;
          end;
        end;
        hence contradiction;
      end;
      case p1,p3,p4,p2 are_in_this_order_on K;
        hence contradiction by A29;
      end;
      case
A47:    p1,p4,p2,p3 are_in_this_order_on K;
        now per cases by A47,JORDAN17:def 1;
          case
A48:        LE p1,p4,K & LE p4,p2,K & LE p2,p3,K;
            then f.p1,f.p4,f.p2,f.p3 are_in_this_order_on P by A1,A2,Th82;
            then
A49:        LE f.p1,f.p4,P & LE f.p4,f.p2,P & LE f.p2,f.p3,P or
            LE f.p4,f.p2,P & LE f.p2,f.p3,P & LE f.p3,f.p1,P or
            LE f.p2,f.p3,P & LE f.p3,f.p1,P & LE f.p1,f.p4,P or
            LE f.p3,f.p1,P & LE f.p1,f.p4,P & LE f.p4,f.p2,P
            by JORDAN17:def 1;
            then f.p4=f.p2 or LE f.p2,f.p1,P by A9,A13,JORDAN6:72,73;
            then f.p4=f.p2 or f.p2=f.p1 by A3,A12,JGRAPH_3:36,JORDAN6:72;
            then
A50:        p4=p2 or p2=p1 by A2,A11,FUNCT_1:def 8;
            then
A51:        p4=p2 by A48,Th60,JORDAN6:72;
            f.p3=f.p1 or LE f.p4,f.p3,P by A8,A13,A49,JORDAN6:72,73;
            then f.p3=f.p1 or f.p4=f.p3 by A5,A12,JGRAPH_3:36,JORDAN6:72;
            then
A52:        p3=p1 or p4=p3 by A2,A11,FUNCT_1:def 8;
            then p1=p2 by A18,A47,A48,A50,Th60,JORDAN6:72;
            hence contradiction by A18,A47,A51,A52;
          end;
          case
A53:        LE p4,p2,K & LE p2,p3,K & LE p3,p1,K;
            then f.p4,f.p2,f.p3,f.p1 are_in_this_order_on P by A1,A2,Th82;
            then
A54:        LE f.p1,f.p4,P & LE f.p4,f.p2,P & LE f.p2,f.p3,P or
            LE f.p4,f.p2,P & LE f.p2,f.p3,P & LE f.p3,f.p1,P or
            LE f.p2,f.p3,P & LE f.p3,f.p1,P & LE f.p1,f.p4,P or
            LE f.p3,f.p1,P & LE f.p1,f.p4,P & LE f.p4,f.p2,P
            by JORDAN17:def 1;
            then f.p4=f.p2 or LE f.p2,f.p1,P by A9,A13,JORDAN6:72,73;
            then f.p4=f.p2 or f.p2=f.p1 by A3,A12,JGRAPH_3:36,JORDAN6:72;
            then p4=p2 or p2=p1 by A2,A11,FUNCT_1:def 8;
            then
A55:        p4=p2 or p2=p1 & p3=p1 by A53,Th60,JORDAN6:72;
            f.p3=f.p1 or LE f.p4,f.p3,P by A8,A13,A54,JORDAN6:72,73;
            then f.p3=f.p1 or f.p4=f.p3 by A5,A12,JGRAPH_3:36,JORDAN6:72;
            then p3=p1 or p4=p3 by A2,A11,FUNCT_1:def 8;
            hence contradiction by A6,A29,A47,A55,JORDAN17:12;
          end;
          case
A56:        LE p2,p3,K & LE p3,p1,K & LE p1,p4,K;
            then f.p2,f.p3,f.p1,f.p4 are_in_this_order_on P by A1,A2,Th82;
            then
A57:        LE f.p1,f.p4,P & LE f.p4,f.p2,P & LE f.p2,f.p3,P or
            LE f.p4,f.p2,P & LE f.p2,f.p3,P & LE f.p3,f.p1,P or
            LE f.p2,f.p3,P & LE f.p3,f.p1,P & LE f.p1,f.p4,P or
            LE f.p3,f.p1,P & LE f.p1,f.p4,P & LE f.p4,f.p2,P
            by JORDAN17:def 1;
            then f.p4=f.p2 or LE f.p2,f.p1,P by A9,A13,JORDAN6:72,73;
            then f.p4=f.p2 or f.p2=f.p1 by A3,A12,JGRAPH_3:36,JORDAN6:72;
            then p4=p2 or p2=p1 by A2,A11,FUNCT_1:def 8;
            then
A58:        p4=p2 or p2=p1 & p3=p1 by A56,Th60,JORDAN6:72;
            f.p3=f.p1 or LE f.p4,f.p3,P by A8,A13,A57,JORDAN6:72,73;
            then f.p3=f.p1 or f.p4=f.p3 by A5,A12,JGRAPH_3:36,JORDAN6:72;
            then p3=p1 or p4=p3 by A2,A11,FUNCT_1:def 8;
            hence contradiction by A6,A29,A47,A58,JORDAN17:12;
          end;
          case
A59:        LE p3,p1,K & LE p1,p4,K & LE p4,p2,K;
            then f.p3,f.p1,f.p4,f.p2 are_in_this_order_on P by A1,A2,Th82;
            then
A60:        LE f.p1,f.p4,P & LE f.p4,f.p2,P & LE f.p2,f.p3,P or
            LE f.p4,f.p2,P & LE f.p2,f.p3,P & LE f.p3,f.p1,P or
            LE f.p2,f.p3,P & LE f.p3,f.p1,P & LE f.p1,f.p4,P or
            LE f.p3,f.p1,P & LE f.p1,f.p4,P & LE f.p4,f.p2,P
            by JORDAN17:def 1;
            then f.p4=f.p2 or LE f.p2,f.p1,P by A9,A13,JORDAN6:72,73;
            then f.p4=f.p2 or f.p2=f.p1 by A3,A12,JGRAPH_3:36,JORDAN6:72;
            then p4=p2 or p2=p1 by A2,A11,FUNCT_1:def 8;
            then
A61:        p4=p2 by A59,Th60,JORDAN6:72;
            f.p3=f.p1 or LE f.p4,f.p3,P by A8,A13,A60,JORDAN6:72,73;
            then f.p3=f.p1 or f.p4=f.p3 by A5,A12,JGRAPH_3:36,JORDAN6:72;
            then p3=p1 or p4=p3 by A2,A11,FUNCT_1:def 8;
            hence contradiction by A6,A29,A47,A61,JORDAN17:12;
          end;
        end;
        hence contradiction;
      end;
      case
A62:    p1,p4,p3,p2 are_in_this_order_on K;
        now per cases by A62,JORDAN17:def 1;
          case
A63:        LE p1,p4,K & LE p4,p3,K & LE p3,p2,K;
            then f.p1,f.p4,f.p3,f.p2 are_in_this_order_on P by A1,A2,Th82;
            then
A64:        LE f.p1,f.p4,P & LE f.p4,f.p3,P & LE f.p3,f.p2,P or
            LE f.p4,f.p3,P & LE f.p3,f.p2,P & LE f.p2,f.p1,P or
            LE f.p3,f.p2,P & LE f.p2,f.p1,P & LE f.p1,f.p4,P or
            LE f.p2,f.p1,P & LE f.p1,f.p4,P & LE f.p4,f.p3,P
            by JORDAN17:def 1;
            then f.p3=f.p2 or f.p2=f.p1 by A3,A4,A12,JGRAPH_3:36,JORDAN6:72;
            then
A65:        p3=p2 or p2=p1 by A2,A11,FUNCT_1:def 8;
            LE p1,p3,K by A63,Th60,JORDAN6:73;
            then
A66:        p3=p2 by A63,A65,Th60,JORDAN6:72;
            f.p4=f.p3 or f.p2=f.p1 by A3,A5,A12,A64,JGRAPH_3:36,JORDAN6:72;
            then p4=p3 or p2=p1 by A2,A11,FUNCT_1:def 8;
            then p4=p3 or p2,p3,p4,p1 are_in_this_order_on K
            by A6,A62,A66,JORDAN17:12;
            hence contradiction by A6,A18,A62,A65,JORDAN17:12;
          end;
          case LE p4,p3,K & LE p3,p2,K & LE p2,p1,K;
            then f.p4,f.p3,f.p2,f.p1 are_in_this_order_on P by A1,A2,Th82;
            then
A67:        LE f.p1,f.p4,P & LE f.p4,f.p3,P & LE f.p3,f.p2,P or
            LE f.p4,f.p3,P & LE f.p3,f.p2,P & LE f.p2,f.p1,P or
            LE f.p3,f.p2,P & LE f.p2,f.p1,P & LE f.p1,f.p4,P or
            LE f.p2,f.p1,P & LE f.p1,f.p4,P & LE f.p4,f.p3,P
            by JORDAN17:def 1;
            then f.p3=f.p2 or f.p2=f.p1 by A3,A4,A12,JGRAPH_3:36,JORDAN6:72;
            then
A68:        p3=p2 or p2=p1 by A2,A11,FUNCT_1:def 8;
            f.p4=f.p3 or f.p2=f.p1 by A3,A5,A12,A67,JGRAPH_3:36,JORDAN6:72;
            then p4=p3 or p2=p1 by A2,A11,FUNCT_1:def 8;
            hence contradiction by A6,A19,A62,A68,JORDAN17:12;
          end;
          case LE p3,p2,K & LE p2,p1,K & LE p1,p4,K;
            then f.p3,f.p2,f.p1,f.p4 are_in_this_order_on P by A1,A2,Th82;
            then LE f.p1,f.p4,P & LE f.p4,f.p3,P & LE f.p3,f.p2,P or
            LE f.p4,f.p3,P & LE f.p3,f.p2,P & LE f.p2,f.p1,P or
            LE f.p3,f.p2,P & LE f.p2,f.p1,P & LE f.p1,f.p4,P or
            LE f.p2,f.p1,P & LE f.p1,f.p4,P & LE f.p4,f.p3,P
            by JORDAN17:def 1;
            then f.p4=f.p3 or f.p2=f.p1 by A3,A5,A12,JGRAPH_3:36,JORDAN6:72;
            then p4=p3 or p2=p1 by A2,A11,FUNCT_1:def 8;
            hence contradiction by A6,A19,A29,A62,JORDAN17:12;
          end;
          case
A69:        LE p2,p1,K & LE p1,p4,K & LE p4,p3,K;
            then f.p2,f.p1,f.p4,f.p3 are_in_this_order_on P by A1,A2,Th82;
            then
A70:        LE f.p1,f.p4,P & LE f.p4,f.p3,P & LE f.p3,f.p2,P or
            LE f.p4,f.p3,P & LE f.p3,f.p2,P & LE f.p2,f.p1,P or
            LE f.p3,f.p2,P & LE f.p2,f.p1,P & LE f.p1,f.p4,P or
            LE f.p2,f.p1,P & LE f.p1,f.p4,P & LE f.p4,f.p3,P
            by JORDAN17:def 1;
            then f.p3=f.p2 or f.p2=f.p1 by A3,A4,A12,JGRAPH_3:36,JORDAN6:72;
            then
A71:        p3=p2 or p2=p1 by A2,A11,FUNCT_1:def 8;
            LE p1,p3,K by A69,Th60,JORDAN6:73;
            then
A72:        p1=p2 by A69,A71,Th60,JORDAN6:72;
            f.p4=f.p3 or f.p2=f.p3 by A4,A5,A12,A70,JGRAPH_3:36,JORDAN6:72;
            then p4=p3 or p2=p3 by A2,A11,FUNCT_1:def 8;
            hence contradiction by A6,A29,A62,A72,JORDAN17:12;
          end;
        end;
        hence contradiction;
      end;
    end;
    hence contradiction;
  end;
  hence thesis;
end;

theorem Th88:
  for p1,p2,p3,p4 being Point of TOP-REAL 2,
  P being non empty compact Subset of TOP-REAL 2,
  f being Function of TOP-REAL 2,TOP-REAL 2 st P= circle(0,0,1) & f=Sq_Circ
  holds p1,p2,p3,p4 are_in_this_order_on rectangle(-1,1,-1,1)
  iff f.p1,f.p2,f.p3,f.p4 are_in_this_order_on P
proof
  let p1,p2,p3,p4 be Point of TOP-REAL 2,
  P be non empty compact Subset of TOP-REAL 2,
  f be Function of TOP-REAL 2,TOP-REAL 2;
  set K = rectangle(-1,1,-1,1);
  assume that
A1: P= circle(0,0,1) and
A2: f=Sq_Circ;
A3: K is being_simple_closed_curve by Th60;
  circle(0,0,1)={p5 where p5 is Point of TOP-REAL 2: |.p5.|=1} by Th33;
  then
A4: P is being_simple_closed_curve by A1,JGRAPH_3:36;
  thus p1,p2,p3,p4 are_in_this_order_on K implies
  f.p1,f.p2,f.p3,f.p4 are_in_this_order_on P
  proof
    assume
A5: p1,p2,p3,p4 are_in_this_order_on K;
    now per cases by A5,JORDAN17:def 1;
      case LE p1,p2,K & LE p2,p3,K & LE p3,p4,K;
        hence thesis by A1,A2,Th82;
      end;
      case LE p2,p3,K & LE p3,p4,K & LE p4,p1,K;
        hence thesis by A1,A2,A4,Th82,JORDAN17:12;
      end;
      case LE p3,p4,K & LE p4,p1,K & LE p1,p2,K;
        hence thesis by A1,A2,A4,Th82,JORDAN17:11;
      end;
      case LE p4,p1,K & LE p1,p2,K & LE p2,p3,K;
        hence thesis by A1,A2,A4,Th82,JORDAN17:10;
      end;
    end;
    hence thesis;
  end;
  thus f.p1,f.p2,f.p3,f.p4 are_in_this_order_on P implies
  p1,p2,p3,p4 are_in_this_order_on K
  proof
    assume
A6: f.p1,f.p2,f.p3,f.p4 are_in_this_order_on P;
    now per cases by A6,JORDAN17:def 1;
      case LE f.p1,f.p2,P & LE f.p2,f.p3,P & LE f.p3,f.p4,P;
        hence thesis by A1,A2,Th87;
      end;
      case LE f.p2,f.p3,P & LE f.p3,f.p4,P & LE f.p4,f.p1,P;
        then p2,p3,p4,p1 are_in_this_order_on K by A1,A2,Th87;
        hence thesis by A3,JORDAN17:12;
      end;
      case LE f.p3,f.p4,P & LE f.p4,f.p1,P & LE f.p1,f.p2,P;
        then p3,p4,p1,p2 are_in_this_order_on K by A1,A2,Th87;
        hence thesis by A3,JORDAN17:11;
      end;
      case LE f.p4,f.p1,P & LE f.p1,f.p2,P & LE f.p2,f.p3,P;
        then p4,p1,p2,p3 are_in_this_order_on K by A1,A2,Th87;
        hence thesis by A3,JORDAN17:10;
      end;
    end;
    hence thesis;
  end;
end;

theorem
  for p1,p2,p3,p4 being Point of TOP-REAL 2
  st p1,p2,p3,p4 are_in_this_order_on rectangle(-1,1,-1,1)
  for f,g being Function of I[01],TOP-REAL 2 st
  f is continuous one-to-one & g is continuous one-to-one &
  f.0=p1 & f.1=p3 & g.0=p2 & g.1=p4 &
  rng f c= closed_inside_of_rectangle(-1,1,-1,1) &
  rng g c= closed_inside_of_rectangle(-1,1,-1,1)
  holds rng f meets rng g
proof
  let p1,p2,p3,p4 be Point of TOP-REAL 2;
  set K=rectangle(-1,1,-1,1), K0 = closed_inside_of_rectangle(-1,1,-1,1);
  assume
A1: p1,p2,p3,p4 are_in_this_order_on K;
  reconsider j = 1 as non negative (real number);
  reconsider P= circle(0,0,j) as non empty compact Subset of TOP-REAL 2;
A2: P={p6 where p6 is Point of TOP-REAL 2: |.p6.|=1} by Th33;
  thus
  for f,g being Function of I[01],TOP-REAL 2 st
  f is continuous one-to-one & g is continuous one-to-one &
  f.0=p1 & f.1=p3 & g.0=p2 & g.1=p4 &
  rng f c= K0 & rng g c= K0 holds rng f meets rng g
  proof
    let f,g be Function of I[01],TOP-REAL 2;
    assume that
A3: f is continuous one-to-one and
A4: g is continuous one-to-one and
A5: f.0=p1 and
A6: f.1=p3 and
A7: g.0=p2 and
A8: g.1=p4 and
A9: rng f c= K0 and
A10: rng g c= K0;
    reconsider s=Sq_Circ as Function of TOP-REAL 2,TOP-REAL 2;
A11: dom s=the carrier of TOP-REAL 2 by FUNCT_2:def 1;
    reconsider f1=s*f as Function of I[01],TOP-REAL 2;
    reconsider g1=s*g as Function of I[01],TOP-REAL 2;
    s is being_homeomorphism by JGRAPH_3:54;
    then
A12: s is continuous by TOPS_2:def 5;
A13: f1 is one-to-one by A3,FUNCT_1:46;
A14: g1 is one-to-one by A4,FUNCT_1:46;
A15: dom f=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
    then 0 in dom f by XXREAL_1:1;
    then
A16: f1.0=Sq_Circ.p1 by A5,FUNCT_1:23;
    1 in dom f by A15,XXREAL_1:1;
    then
A17: f1.1=Sq_Circ.p3 by A6,FUNCT_1:23;
A18: dom g=[.0,1.] by BORSUK_1:83,FUNCT_2:def 1;
    then 0 in dom g by XXREAL_1:1;
    then
A19: g1.0=Sq_Circ.p2 by A7,FUNCT_1:23;
    1 in dom g by A18,XXREAL_1:1;
    then
A20: g1.1=Sq_Circ.p4 by A8,FUNCT_1:23;
    defpred P[Point of TOP-REAL 2] means |.$1.|<=1;
    {p8 where p8 is Point of TOP-REAL 2: P[p8]} is Subset of TOP-REAL 2
    from DOMAIN_1:sch 7;
    then reconsider C0={p8 where p8 is Point of TOP-REAL 2: |.p8.|<=1} as
    Subset of TOP-REAL 2;
A21: s.:K0 = C0 by Th36;
A22: rng f1 c= C0
    proof
      let y be set;
      assume y in rng f1;
      then consider x being set such that
A23:  x in dom f1 and
A24:  y=f1.x by FUNCT_1:def 5;
A25:  x in dom f by A23,FUNCT_1:21;
A26:  f.x in dom s by A23,FUNCT_1:21;
      f.x in rng f by A25,FUNCT_1:12;
      then s.(f.x) in s.:K0 by A9,A26,FUNCT_1:def 12;
      hence thesis by A21,A23,A24,FUNCT_1:22;
    end;
A27: rng g1 c= C0
    proof
      let y be set;
      assume y in rng g1;
      then consider x being set such that
A28:  x in dom g1 and
A29:  y=g1.x by FUNCT_1:def 5;
A30:  x in dom g by A28,FUNCT_1:21;
A31:  g.x in dom s by A28,FUNCT_1:21;
      g.x in rng g by A30,FUNCT_1:12;
      then s.(g.x) in s.:K0 by A10,A31,FUNCT_1:def 12;
      hence thesis by A21,A28,A29,FUNCT_1:22;
    end;
    reconsider q1=s.p1,q2=s.p2,q3=s.p3,q4=s.p4 as Point of TOP-REAL 2;
    q1,q2,q3,q4 are_in_this_order_on P by A1,Th88;
    then rng f1 meets rng g1 by A2,A3,A4,A12,A13,A14,A16,A17,A19,A20,A22,A27
,Th27;
    then consider y being set such that
A32: y in rng f1 and
A33: y in rng g1 by XBOOLE_0:3;
    consider x1 being set such that
A34: x1 in dom f1 and
A35: y=f1.x1 by A32,FUNCT_1:def 5;
    consider x2 being set such that
A36: x2 in dom g1 and
A37: y=g1.x2 by A33,FUNCT_1:def 5;
    dom f1 c= dom f by RELAT_1:44;
    then
A38: f.x1 in rng f by A34,FUNCT_1:12;
    dom g1 c= dom g by RELAT_1:44;
    then
A39: g.x2 in rng g by A36,FUNCT_1:12;
    y=(Sq_Circ).(f.x1) by A34,A35,FUNCT_1:22;
    then
A40: Sq_Circ".y=f.x1 by A11,A38,FUNCT_1:54;
    x1 in dom f by A34,FUNCT_1:21;
    then
A41: f.x1 in rng f by FUNCT_1:def 5;
    y=(Sq_Circ).(g.x2) by A36,A37,FUNCT_1:22;
    then
A42: Sq_Circ".y=g.x2 by A11,A39,FUNCT_1:54;
    x2 in dom g by A36,FUNCT_1:21;
    then g.x2 in rng g by FUNCT_1:def 5;
    hence thesis by A40,A41,A42,XBOOLE_0:3;
  end;
end;
