:: The Topological Space ${\calE}^2_{\rm T}$. Simple Closed Curves
::  by Agata Darmochwa{\l} and Yatsuka Nakamura
::
:: Received December 30, 1991
:: Copyright (c) 1991-2011 Association of Mizar Users
::           (Stowarzyszenie Uzytkownikow Mizara, Bialystok, Poland).
:: This code can be distributed under the GNU General Public Licence
:: version 3.0 or later, or the Creative Commons Attribution-ShareAlike
:: License version 3.0 or later, subject to the binding interpretation
:: detailed in file COPYING.interpretation.
:: See COPYING.GPL and COPYING.CC-BY-SA for the full text of these
:: licenses, or see http://www.gnu.org/licenses/gpl.html and
:: http://creativecommons.org/licenses/by-sa/3.0/.

environ

 vocabularies NUMBERS, PRE_TOPC, EUCLID, FINSEQ_1, XBOOLE_0, RLTOPSP1, CARD_1,
      MCART_1, XXREAL_0, TOPREAL1, SUBSET_1, TARSKI, ARYTM_3, RCOMP_1,
      BORSUK_1, FUNCT_1, RELAT_1, TOPS_2, ORDINAL2, STRUCT_0, PARTFUN1,
      FUNCT_4, TOPREAL2, FUNCT_2;
 notations TARSKI, XBOOLE_0, SUBSET_1, RELAT_1, FUNCT_1, RELSET_1, PARTFUN1,
      FUNCT_2, FUNCT_4, NUMBERS, XXREAL_0, FINSEQ_1, STRUCT_0, PRE_TOPC,
      TOPS_2, COMPTS_1, RLTOPSP1, EUCLID, TOPMETR, TOPREAL1;
 constructors FUNCT_4, RCOMP_1, TOPS_2, COMPTS_1, TOPMETR, TOPREAL1, CONVEX1;
 registrations XBOOLE_0, FUNCT_1, RELSET_1, FUNCT_2, XXREAL_0, MEMBERED,
      STRUCT_0, PRE_TOPC, BORSUK_1, EUCLID, TOPREAL1, RLTOPSP1;
 requirements NUMERALS, REAL, BOOLE, SUBSET;
 definitions TARSKI, PRE_TOPC, TOPS_2, STRUCT_0, RELAT_1;
 theorems BORSUK_1, COMPTS_1, ENUMSET1, EUCLID, FUNCT_1, FUNCT_2, HEINE,
      PRE_TOPC, TARSKI, TOPMETR, TOPMETR2, TOPS_2, ZFMISC_1, TOPREAL1, RELAT_1,
      RELSET_1, XBOOLE_0, XBOOLE_1, XXREAL_0, XXREAL_1, RLTOPSP1;

begin

reserve a for set;
reserve p,p1,p2,q,q1,q2 for Point of TOP-REAL 2;
reserve h1,h2 for FinSequence of TOP-REAL 2;

Lm1: now
  let x,X be set;
  assume not x in X;
  then {x} misses X by ZFMISC_1:50;
  hence {x} /\ X = {} by XBOOLE_0:def 7;
end;

Lm2: LSeg(|[0,0]|,|[1,0]|) /\ LSeg(|[0,1]|,|[1,1]|) = {} by TOPREAL1:19
,XBOOLE_0:def 7;

Lm3: LSeg(|[0,0]|,|[0,1]|) /\ LSeg(|[1,0]|,|[1,1]|) = {} by TOPREAL1:20
,XBOOLE_0:def 7;

set p00 = |[ 0,0 ]|, p01 = |[ 0,1 ]|, p10 = |[ 1,0 ]|, p11 = |[ 1,1 ]|, L1 =
LSeg(p00,p01),L2 = LSeg(p01,p11),L3 = LSeg(p00,p10),L4 = LSeg(p10,p11);

Lm4: p00`1 = 0 by EUCLID:52;

Lm5: p00`2 = 0 by EUCLID:52;

Lm6: p01`1 = 0 by EUCLID:52;

Lm7: p01`2 = 1 by EUCLID:52;

Lm8: p10`1 = 1 by EUCLID:52;

Lm9: p10`2 = 0 by EUCLID:52;

Lm10: p11`1 = 1 by EUCLID:52;

Lm11: p11`2 = 1 by EUCLID:52;

Lm12: not p00 in L4 by Lm4,Lm8,Lm10,TOPREAL1:3;

Lm13: not p00 in L2 by Lm5,Lm7,Lm11,TOPREAL1:4;

Lm14: not p01 in L3 by Lm5,Lm7,Lm9,TOPREAL1:4;

Lm15: not p01 in L4 by Lm6,Lm8,Lm10,TOPREAL1:3;

Lm16: not p10 in L1 by Lm4,Lm6,Lm8,TOPREAL1:3;

Lm17: not p10 in L2 by Lm7,Lm9,Lm11,TOPREAL1:4;

Lm18: not p11 in L1 by Lm4,Lm6,Lm10,TOPREAL1:3;

Lm19: not p11 in L3 by Lm5,Lm9,Lm11,TOPREAL1:4;

Lm20: p00 in L1 by RLTOPSP1:68;

Lm21: p00 in L3 by RLTOPSP1:68;

Lm22: p01 in L1 by RLTOPSP1:68;

Lm23: p01 in L2 by RLTOPSP1:68;

Lm24: p10 in L3 by RLTOPSP1:68;

Lm25: p10 in L4 by RLTOPSP1:68;

Lm26: p11 in L2 by RLTOPSP1:68;

Lm27: p11 in L4 by RLTOPSP1:68;

set L = { p : p`1 = 0 & p`2 <= 1 & p`2 >= 0 or p`1 <= 1 & p`1 >= 0 & p`2 = 1
or p`1 <= 1 & p`1 >= 0 & p`2 = 0 or p`1 = 1 & p`2 <= 1 & p`2 >= 0 };

Lm28: p00 in L by Lm4,Lm5;

Lm29: p11 in L by Lm10,Lm11;

Lm30: p1 <> p2 & p2 in R^2-unit_square & p1 in LSeg(p00, p01) implies ex P1,P2
being non empty Subset of TOP-REAL 2 st P1 is_an_arc_of p1,p2 & P2 is_an_arc_of
p1,p2 & R^2-unit_square = P1 \/ P2 & P1 /\ P2 = {p1,p2}
proof
  assume that
A1: p1 <> p2 and
A2: p2 in R^2-unit_square and
A3: p1 in LSeg(p00, p01);
A4: LSeg(p00,p1) c= L1 by A3,Lm20,TOPREAL1:6;
  p00 in LSeg(p1,p00) by RLTOPSP1:68;
  then p00 in LSeg(p1,p00) /\ L3 by Lm21,XBOOLE_0:def 4;
  then
A5: {p00} c= LSeg(p1,p00) /\ L3 by ZFMISC_1:31;
A6: LSeg(p1,p00) /\ L3 c= L1 /\ L3 by A3,Lm20,TOPREAL1:6,XBOOLE_1:26;
  then
A7: LSeg(p1,p00) /\ L3 = {p00} by A5,TOPREAL1:17,XBOOLE_0:def 10;
A8: L1 /\ L4 = {} by TOPREAL1:20,XBOOLE_0:def 7;
  then
A9: LSeg(p1,p00) /\ L4 = {} by A4,XBOOLE_1:3,26;
  p01 in LSeg(p01,p1) by RLTOPSP1:68;
  then p01 in LSeg(p01,p1) /\ L2 by Lm23,XBOOLE_0:def 4;
  then
A10: {p01} c= LSeg(p01,p1) /\ L2 by ZFMISC_1:31;
A11: p2 in L1 \/ L2 or p2 in L3 \/ L4 by A2,TOPREAL1:def 2,XBOOLE_0:def 3;
A12: LSeg(p01,p1) /\ L2 c= {p01} by A3,Lm22,TOPREAL1:6,15,XBOOLE_1:26;
A13: LSeg(p1,p01) c= L1 by A3,Lm22,TOPREAL1:6;
  then
A14: LSeg(p01,p1) /\ L4 = {} by A8,XBOOLE_1:3,26;
  consider p such that
A15: p = p1 and
A16: p`1 = 0 and
A17: p`2 <= 1 and
A18: p`2 >= 0 by A3,TOPREAL1:13;
  per cases by A11,XBOOLE_0:def 3;
  suppose
A19: p2 in L1;
    then
A20: LSeg(p2,p1) c= L1 by A3,TOPREAL1:6;
A21: p = |[p`1,p`2]| by EUCLID:53;
    consider q such that
A22: q = p2 and
A23: q`1 = 0 and
A24: q`2 <= 1 and
A25: q`2 >= 0 by A19,TOPREAL1:13;
A26: q = |[q`1,q`2]| by EUCLID:53;
    now
      per cases by A1,A15,A16,A22,A23,A21,A26,XXREAL_0:1;
      case
A27:    p`2 < q`2;
A28:    LSeg(p1,p2) /\ LSeg(p1,p00) c= {p1}
        proof
          let a;
          assume
A29:      a in LSeg(p1,p2) /\ LSeg(p1,p00);
          then reconsider p = a as Point of TOP-REAL 2;
A30:      p in LSeg(p00,p1) by A29,XBOOLE_0:def 4;
          p00`2 <= p1`2 by A15,A18,EUCLID:52;
          then
A31:      p`2 <= p1`2 by A30,TOPREAL1:4;
A32:      p in LSeg(p1,p2) by A29,XBOOLE_0:def 4;
          then p1`2 <= p`2 by A15,A22,A27,TOPREAL1:4;
          then
A33:      p1`2 = p`2 by A31,XXREAL_0:1;
          p1`1 <= p`1 by A15,A16,A22,A23,A32,TOPREAL1:3;
          then p`1 = 0 by A15,A16,A22,A23,A32,TOPREAL1:3;
          then p = |[ 0, p1`2]| by A33,EUCLID:53
            .= p1 by A15,A16,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
A34:    LSeg(p01,p2) /\ L2 c= L1 /\ L2 by A19,Lm22,TOPREAL1:6,XBOOLE_1:26;
A35:    now
          set a = the Element of LSeg(p1,p00) /\ LSeg(p01,p2);
          assume
A36:      LSeg(p1,p00) /\ LSeg(p01,p2) <> {};
          then reconsider p = a as Point of TOP-REAL 2 by TARSKI:def 3;
A37:      p in LSeg(p00,p1) by A36,XBOOLE_0:def 4;
A38:      p in LSeg(p2,p01) by A36,XBOOLE_0:def 4;
          p2`2 <= p01`2 by A22,A24,EUCLID:52;
          then
A39:      p2`2 <= p`2 by A38,TOPREAL1:4;
          p00`2 <= p1`2 by A15,A18,EUCLID:52;
          then p`2 <= p1`2 by A37,TOPREAL1:4;
          hence contradiction by A15,A22,A27,A39,XXREAL_0:2;
        end;
        p01 in LSeg(p01,p2) by RLTOPSP1:68;
        then p01 in LSeg(p01,p2) /\ L2 by Lm23,XBOOLE_0:def 4;
        then
A40:    {p01} c= LSeg(p01,p2) /\ L2 by ZFMISC_1:31;
        now
          assume p00 in LSeg(p01,p2) /\ L3;
          then
A41:      p00 in LSeg(p2,p01) by XBOOLE_0:def 4;
          p2`2 <= p01`2 by A22,A24,EUCLID:52;
          hence contradiction by A18,A22,A27,A41,Lm5,TOPREAL1:4;
        end;
        then
A42:    {p00} <> LSeg(p01,p2) /\ L3 by ZFMISC_1:31;
        LSeg(p01,p2) /\ L3 c= {p00} by A19,Lm22,TOPREAL1:6,17,XBOOLE_1:26;
        then
A43:    LSeg(p01,p2) /\ L3 = {} by A42,ZFMISC_1:33;
A44:    LSeg(p1,p2) /\ L3 c= {p00} by A3,A19,TOPREAL1:6,17,XBOOLE_1:26;
A45:    LSeg(p1,p2) /\ LSeg(p01,p2) c= {p2}
        proof
          let a;
          assume
A46:      a in LSeg(p1,p2) /\ LSeg(p01,p2);
          then reconsider p = a as Point of TOP-REAL 2;
A47:      p in LSeg(p2,p01) by A46,XBOOLE_0:def 4;
          p2`2 <= p01`2 by A22,A24,EUCLID:52;
          then
A48:      p2`2 <= p`2 by A47,TOPREAL1:4;
A49:      p in LSeg(p1,p2) by A46,XBOOLE_0:def 4;
          then p`2 <= p2`2 by A15,A22,A27,TOPREAL1:4;
          then
A50:      p2`2 = p`2 by A48,XXREAL_0:1;
          p1`1 <= p`1 by A15,A16,A22,A23,A49,TOPREAL1:3;
          then p`1 = 0 by A15,A16,A22,A23,A49,TOPREAL1:3;
          then p = |[0,p2`2]| by A50,EUCLID:53
            .= p2 by A22,A23,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
A51:    LSeg(p1,p00) /\ L2 c= {p01} by A3,Lm20,TOPREAL1:6,15,XBOOLE_1:26;
        now
          assume p01 in LSeg(p1,p00) /\ L2;
          then
A52:      p01 in LSeg(p00,p1) by XBOOLE_0:def 4;
          p00`2 <= p1`2 by A15,A18,EUCLID:52;
          then p01`2 <= p1`2 by A52,TOPREAL1:4;
          hence contradiction by A15,A17,A24,A27,Lm7,XXREAL_0:1;
        end;
        then
A53:    {p01} <> LSeg(p1,p00) /\ L2 by ZFMISC_1:31;
        set P1 = LSeg(p1,p2), P2 = LSeg(p1,p00) \/ (L3 \/ L4 \/ LSeg(p11,p01)
        \/ LSeg(p01,p2));
A54:    p1 in LSeg(p1,p00) by RLTOPSP1:68;
A55:    LSeg(p01,p2) c= L1 by A19,Lm22,TOPREAL1:6;
        p1 in LSeg(p1,p2) by RLTOPSP1:68;
        then p1 in LSeg(p1,p2) /\ LSeg(p1,p00) by A54,XBOOLE_0:def 4;
        then {p1} c= LSeg(p1,p2) /\ LSeg(p1,p00) by ZFMISC_1:31;
        then
A56:    LSeg(p1,p2) /\ LSeg(p1,p00) = {p1} by A28,XBOOLE_0:def 10;
        thus P1 is_an_arc_of p1,p2 by A1,TOPREAL1:9;
A57:    (L3 \/ L4) /\ LSeg(p11,p01) = {} \/ {p11} by Lm2,TOPREAL1:18
,XBOOLE_1:23
          .= {p11};
        L3 \/ L4 is_an_arc_of p00,p11 by Lm4,Lm8,TOPREAL1:12,16;
        then
A58:    L3 \/ L4 \/ LSeg(p11,p01) is_an_arc_of p00,p01 by A57,TOPREAL1:10;
        (L3 \/ L4 \/ LSeg(p11,p01)) /\ LSeg(p01,p2) = LSeg(p01,p2) /\ (
        L3 \/ L4) \/ (LSeg(p01,p2) /\ LSeg(p11,p01)) by XBOOLE_1:23
          .= {} \/ (LSeg(p01,p2) /\ L4) \/ (LSeg(p01,p2) /\ LSeg(p11,p01))
        by A43,XBOOLE_1:23
          .= {} \/ (LSeg(p01,p2) /\ LSeg(p11,p01)) by A55,Lm3,XBOOLE_1:3,26
          .= {p01} by A40,A34,TOPREAL1:15,XBOOLE_0:def 10;
        then
A59:    L3 \/ L4 \/ LSeg(p11,p01) \/ LSeg(p01,p2) is_an_arc_of p00,p2 by A58,
TOPREAL1:10;
        LSeg(p1,p00) /\ (L3 \/ L4 \/ LSeg(p11,p01) \/ LSeg(p01,p2)) =
LSeg(p1,p00) /\ (L3 \/ L4 \/ LSeg(p11,p01)) \/ LSeg(p1,p00) /\ LSeg(p01,p2) by
XBOOLE_1:23
          .= LSeg(p1,p00) /\ (L3 \/ L4) \/ LSeg(p1,p00) /\ LSeg(p11,p01) \/
        LSeg(p1,p00) /\ LSeg(p01,p2) by XBOOLE_1:23
          .= (LSeg(p1,p00) /\ L3) \/ (LSeg(p1,p00) /\ L4) \/ (LSeg(p1,p00)
        /\ LSeg(p11,p01)) \/ (LSeg(p1,p00) /\ LSeg(p01,p2)) by XBOOLE_1:23
          .= {p00} by A9,A7,A35,A51,A53,ZFMISC_1:33;
        hence LSeg(p1,p00) \/ (L3 \/ L4 \/ LSeg(p11,p01) \/ LSeg(p01,p2))
        is_an_arc_of p1,p2 by A59,TOPREAL1:11;
        LSeg(p01,p2) \/ LSeg(p2,p1) \/ LSeg(p1,p00) = L1 by A3,A19,TOPREAL1:7;
        hence R^2-unit_square = LSeg(p1,p2) \/ LSeg(p01,p2) \/ LSeg(p1,p00) \/
        (L3 \/ L4 \/ LSeg(p11,p01)) by TOPREAL1:def 2,XBOOLE_1:4
          .= LSeg(p1,p2) \/ (LSeg(p1,p00) \/ LSeg(p01,p2)) \/ (L3 \/ L4 \/
        LSeg(p11,p01)) by XBOOLE_1:4
          .= LSeg(p1,p2) \/ ((LSeg(p1,p00) \/ LSeg(p01,p2)) \/ (L3 \/ L4 \/
        LSeg(p11,p01))) by XBOOLE_1:4
          .= P1 \/ P2 by XBOOLE_1:4;
A60:    p2 in LSeg(p01,p2) by RLTOPSP1:68;
        p2 in LSeg(p1,p2) by RLTOPSP1:68;
        then p2 in LSeg(p1,p2) /\ LSeg(p01,p2) by A60,XBOOLE_0:def 4;
        then {p2} c= LSeg(p1,p2) /\ LSeg(p01,p2) by ZFMISC_1:31;
        then
A61:    LSeg(p1,p2) /\ LSeg(p01,p2) = {p2} by A45,XBOOLE_0:def 10;
A62:    LSeg(p1,p2) c= L1 by A3,A19,TOPREAL1:6;
A63:    P1 /\ P2 = (LSeg(p1,p2) /\ LSeg(p1,p00)) \/ LSeg(p1,p2) /\ (L3
        \/ L4 \/ LSeg(p11,p01) \/ LSeg(p01,p2)) by XBOOLE_1:23
          .= (LSeg(p1,p2) /\ LSeg(p1,p00)) \/ ((LSeg(p1,p2) /\ (L3 \/ L4 \/
        LSeg(p11,p01))) \/ (LSeg(p1,p2) /\ LSeg(p01,p2))) by XBOOLE_1:23
          .= (LSeg(p1,p2) /\ LSeg(p1,p00)) \/ ((LSeg(p1,p2) /\ (L3 \/ L4))
\/ (LSeg(p1,p2) /\ LSeg(p11,p01)) \/ (LSeg(p1,p2) /\ LSeg(p01,p2))) by
XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ L3) \/ (LSeg(p1,p2) /\ L4) \/ (LSeg(p1
,p2) /\ LSeg(p11,p01)) \/ (LSeg(p1,p2) /\ LSeg(p01,p2))) by A56,XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ L3) \/ {} \/ (LSeg(p1,p2) /\ LSeg(p11,
        p01)) \/ (LSeg(p1,p2) /\ LSeg(p01,p2))) by A62,Lm3,XBOOLE_1:3,26
          .= {p1} \/ ((LSeg(p1,p2) /\ L3) \/ ((LSeg(p1,p2) /\ L2) \/ {p2}))
        by A61,XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p2) /\ L3) \/ ((LSeg(p1,p2) /\ L2) \/ {p2}) by
XBOOLE_1:4;
A64:    now
          per cases;
          suppose
A65:        p1 = p00;
            then p00 in LSeg(p1,p2) by RLTOPSP1:68;
            then LSeg(p1,p2) /\ L3 <> {} by Lm21,XBOOLE_0:def 4;
            then LSeg(p1,p2) /\ L3 = {p1} by A44,A65,ZFMISC_1:33;
            hence P1 /\ P2 = {p1} \/ ((LSeg(p1,p2) /\ L2) \/ {p2}) by A63;
          end;
          suppose
A66:        p1 <> p00;
            now
              assume p00 in LSeg(p1,p2) /\ L3;
              then p00 in LSeg(p1,p2) by XBOOLE_0:def 4;
              then p1`2 <= p00`2 by A15,A22,A27,TOPREAL1:4;
              then p00`2 = p1`2 by A3,Lm5,Lm7,TOPREAL1:4;
              hence contradiction by A15,A16,A66,Lm5,EUCLID:53;
            end;
            then LSeg(p1,p2) /\ L3 <> {p00} by ZFMISC_1:31;
            then LSeg(p1,p2) /\ L3 = {} by A44,ZFMISC_1:33;
            hence P1 /\ P2 = {p1} \/ ((LSeg(p1,p2) /\ L2) \/ {p2}) by A63;
          end;
        end;
A67:    LSeg(p1,p2) /\ L2 c= {p01} by A3,A19,TOPREAL1:6,15,XBOOLE_1:26;
        now
          per cases;
          suppose
A68:        p2 <> p01;
            now
              assume p01 in LSeg(p1,p2) /\ L2;
              then p01 in LSeg(p1,p2) by XBOOLE_0:def 4;
              then
A69:          p01`2 <= p2`2 by A15,A22,A27,TOPREAL1:4;
              p2`2 <= p01`2 by A19,Lm5,Lm7,TOPREAL1:4;
              then
A70:          p01`2 = p2`2 by A69,XXREAL_0:1;
              p2 = |[p2`1,p2`2]| by EUCLID:53
                .= |[0,1]| by A22,A23,A70,EUCLID:52;
              hence contradiction by A68;
            end;
            then LSeg(p1,p2) /\ L2 <> {p01} by ZFMISC_1:31;
            then LSeg(p1,p2) /\ L2 = {} by A67,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A64,ENUMSET1:1;
          end;
          suppose
A71:        p2 = p01;
            then p01 in LSeg(p1,p2) by RLTOPSP1:68;
            then LSeg(p1,p2) /\ L2 <> {} by Lm23,XBOOLE_0:def 4;
            then LSeg(p1,p2) /\ L2 = {p2} by A67,A71,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A64,ENUMSET1:1;
          end;
        end;
        hence P1 /\ P2 = {p1,p2};
      end;
      case
A72:    p`2 > q`2;
A73:    LSeg(p2,p1) /\ LSeg(p01,p1) c= {p1}
        proof
          let a;
          assume
A74:      a in LSeg(p2,p1) /\ LSeg(p01,p1);
          then reconsider p = a as Point of TOP-REAL 2;
A75:      p in LSeg(p1,p01) by A74,XBOOLE_0:def 4;
          p1`2 <= p01`2 by A15,A17,EUCLID:52;
          then
A76:      p1`2 <= p`2 by A75,TOPREAL1:4;
A77:      p in LSeg(p2,p1) by A74,XBOOLE_0:def 4;
          then p`2 <= p1`2 by A15,A22,A72,TOPREAL1:4;
          then
A78:      p1`2 = p`2 by A76,XXREAL_0:1;
          p2`1 <= p`1 by A15,A16,A22,A23,A77,TOPREAL1:3;
          then p`1 = 0 by A15,A16,A22,A23,A77,TOPREAL1:3;
          then p = |[0,p1`2]| by A78,EUCLID:53
            .= p1 by A15,A16,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
A79:    LSeg(p2,p00) c= L1 by A19,Lm20,TOPREAL1:6;
A80:    now
          set a = the Element of LSeg(p2,p00) /\ LSeg(p01,p1);
          assume
A81:      LSeg(p2,p00) /\ LSeg(p01,p1) <> {};
          then reconsider p = a as Point of TOP-REAL 2 by TARSKI:def 3;
A82:      p in LSeg(p00,p2) by A81,XBOOLE_0:def 4;
A83:      p in LSeg(p1,p01) by A81,XBOOLE_0:def 4;
          p1`2 <= p01`2 by A15,A17,EUCLID:52;
          then
A84:      p1`2 <= p`2 by A83,TOPREAL1:4;
          p00`2 <= p2`2 by A22,A25,EUCLID:52;
          then p`2 <= p2`2 by A82,TOPREAL1:4;
          hence contradiction by A15,A22,A72,A84,XXREAL_0:2;
        end;
A85:    LSeg(p2,p1) /\ L3 c= {p00} by A3,A19,TOPREAL1:6,17,XBOOLE_1:26;
        now
          assume p01 in LSeg(p2,p00) /\ L2;
          then
A86:      p01 in LSeg(p00,p2) by XBOOLE_0:def 4;
          p00`2 <= p2`2 by A22,A25,EUCLID:52;
          then p01`2 <= p2`2 by A86,TOPREAL1:4;
          hence contradiction by A17,A22,A24,A72,Lm7,XXREAL_0:1;
        end;
        then
A87:    {p01} <> LSeg(p2,p00) /\ L2 by ZFMISC_1:31;
A88:    LSeg(p2,p00) /\ L3 c= {p00} by A19,Lm20,TOPREAL1:6,17,XBOOLE_1:26;
        now
          assume p00 in LSeg(p01,p1) /\ L3;
          then
A89:      p00 in LSeg(p1,p01) by XBOOLE_0:def 4;
          p1`2 <= p01`2 by A15,A17,EUCLID:52;
          hence contradiction by A15,A25,A72,A89,Lm5,TOPREAL1:4;
        end;
        then
A90:    {p00} <> LSeg(p01,p1) /\ L3 by ZFMISC_1:31;
A91:    LSeg(p2,p00) /\ L2 c= {p01} by A19,Lm20,TOPREAL1:6,15,XBOOLE_1:26;
A92:    LSeg(p2,p1) /\ LSeg(p2,p00) c= {p2}
        proof
          let a;
          assume
A93:      a in LSeg(p2,p1) /\ LSeg(p2,p00);
          then reconsider p = a as Point of TOP-REAL 2;
A94:      p in LSeg(p00,p2) by A93,XBOOLE_0:def 4;
          p00`2 <= p2`2 by A22,A25,EUCLID:52;
          then
A95:      p`2 <= p2`2 by A94,TOPREAL1:4;
A96:      p in LSeg(p2,p1) by A93,XBOOLE_0:def 4;
          then p2`2 <= p`2 by A15,A22,A72,TOPREAL1:4;
          then
A97:      p2`2 = p`2 by A95,XXREAL_0:1;
          p2`1 <= p`1 by A15,A16,A22,A23,A96,TOPREAL1:3;
          then p`1 = 0 by A15,A16,A22,A23,A96,TOPREAL1:3;
          then p = |[ 0, p2`2]| by A97,EUCLID:53
            .= p2 by A22,A23,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
A98:    LSeg(p01,p1) /\ L3 c= {p00} by A3,Lm22,TOPREAL1:6,17,XBOOLE_1:26;
        take P1 = LSeg(p2,p1),P2 = LSeg(p2,p00) \/ (L3 \/ L4 \/ LSeg(p11,p01)
        \/ LSeg(p01,p1));
A99:    p2 in LSeg(p2,p00) by RLTOPSP1:68;
        p2 in LSeg(p2,p1) by RLTOPSP1:68;
        then p2 in LSeg(p2,p1) /\ LSeg(p2,p00) by A99,XBOOLE_0:def 4;
        then
A100:   {p2} c= LSeg(p2,p1) /\ LSeg(p2,p00) by ZFMISC_1:31;
        thus P1 is_an_arc_of p1,p2 by A1,TOPREAL1:9;
A101:   L2 /\ (L3 \/ L4) = {} \/ {p11} by Lm2,TOPREAL1:18,XBOOLE_1:23
          .= {p11};
        L3 \/ L4 is_an_arc_of p11,p00 by Lm4,Lm8,TOPREAL1:12,16;
        then
A102:   L3 \/ L4 \/ LSeg(p11,p01) is_an_arc_of p01,p00 by A101,TOPREAL1:11;
        p00 in LSeg(p2,p00) by RLTOPSP1:68;
        then p00 in LSeg(p2,p00) /\ L3 by Lm21,XBOOLE_0:def 4;
        then
A103:   {p00} c= LSeg(p2,p00) /\ L3 by ZFMISC_1:31;
        LSeg(p1,p01) /\ (L3 \/ L4 \/ LSeg(p11,p01)) = LSeg(p01,p1) /\ (
        L3 \/ L4) \/ (LSeg(p01,p1) /\ LSeg(p11,p01)) by XBOOLE_1:23
          .= (LSeg(p01,p1) /\ L3) \/ (LSeg(p01,p1) /\ L4) \/ (LSeg(p01,p1)
        /\ LSeg(p11,p01)) by XBOOLE_1:23
          .= {} \/ (LSeg(p01,p1) /\ L4) \/ (LSeg(p01,p1) /\ LSeg(p11,p01))
        by A98,A90,ZFMISC_1:33
          .= {p01} by A14,A10,A12,XBOOLE_0:def 10;
        then
A104:   L3 \/ L4 \/ LSeg(p11,p01) \/ LSeg(p01,p1) is_an_arc_of p1,p00 by A102,
TOPREAL1:11;
        (L3 \/ L4 \/ LSeg(p11,p01) \/ LSeg(p01,p1)) /\ LSeg(p00,p2) =
LSeg(p2,p00) /\ (L3 \/ L4 \/ LSeg(p11,p01)) \/ LSeg(p2,p00) /\ LSeg(p01,p1) by
XBOOLE_1:23
          .= LSeg(p2,p00) /\ (L3 \/ L4) \/ LSeg(p2,p00) /\ LSeg(p11,p01) \/
        LSeg(p2,p00) /\ LSeg(p01,p1) by XBOOLE_1:23
          .= (LSeg(p2,p00) /\ L3) \/ (LSeg(p2,p00) /\ L4) \/ (LSeg(p2,p00)
        /\ LSeg(p11,p01)) \/ (LSeg(p2,p00) /\ LSeg(p01,p1)) by XBOOLE_1:23
          .= (LSeg(p2,p00) /\ L3) \/ {} \/ (LSeg(p2,p00) /\ LSeg(p11,p01))
        \/ (LSeg(p2,p00) /\ LSeg(p01,p1)) by A79,Lm3,XBOOLE_1:3,26
          .= LSeg(p2,p00) /\ L3 \/ {} by A80,A91,A87,ZFMISC_1:33
          .= {p00} by A103,A88,XBOOLE_0:def 10;
        hence P2 is_an_arc_of p1,p2 by A104,TOPREAL1:10;
        LSeg(p01,p1) \/ LSeg(p1,p2) \/ LSeg(p2,p00) = L1 by A3,A19,TOPREAL1:7;
        hence R^2-unit_square = LSeg(p2,p1) \/ LSeg(p01,p1) \/ LSeg(p2,p00) \/
        (L3 \/ L4 \/ LSeg(p11,p01)) by TOPREAL1:def 2,XBOOLE_1:4
          .= LSeg(p2,p1) \/ (LSeg(p2,p00) \/ LSeg(p01,p1)) \/ (L3 \/ L4 \/
        LSeg(p11,p01)) by XBOOLE_1:4
          .= LSeg(p2,p1) \/ ((LSeg(p2,p00) \/ LSeg(p01,p1)) \/ (L3 \/ L4 \/
        LSeg(p11,p01))) by XBOOLE_1:4
          .= P1 \/ P2 by XBOOLE_1:4;
A105:   p1 in LSeg(p01,p1) by RLTOPSP1:68;
        p1 in LSeg(p2,p1) by RLTOPSP1:68;
        then p1 in LSeg(p2,p1) /\ LSeg(p01,p1) by A105,XBOOLE_0:def 4;
        then
A106:   {p1} c= LSeg(p2,p1) /\ LSeg(p01,p1) by ZFMISC_1:31;
A107:   P1 /\ P2 = (LSeg(p2,p1) /\ LSeg(p2,p00)) \/ LSeg(p2,p1) /\ (L3
        \/ L4 \/ LSeg(p11,p01) \/ LSeg(p01,p1)) by XBOOLE_1:23
          .= (LSeg(p2,p1) /\ LSeg(p2,p00)) \/ ((LSeg(p2,p1) /\ (L3 \/ L4 \/
        LSeg(p11,p01))) \/ (LSeg(p2,p1) /\ LSeg(p01,p1))) by XBOOLE_1:23
          .= (LSeg(p2,p1) /\ LSeg(p2,p00)) \/ ((LSeg(p2,p1) /\ (L3 \/ L4))
\/ (LSeg(p2,p1) /\ LSeg(p11,p01)) \/ (LSeg(p2,p1) /\ LSeg(p01,p1))) by
XBOOLE_1:23
          .= (LSeg(p2,p1) /\ LSeg(p2,p00)) \/ ((LSeg(p2,p1) /\ L3) \/ (LSeg(
p2,p1) /\ L4) \/ (LSeg(p2,p1) /\ LSeg(p11,p01)) \/ (LSeg(p2,p1) /\ LSeg(p01,p1)
        )) by XBOOLE_1:23
          .= {p2} \/ ((LSeg(p2,p1) /\ L3) \/ (LSeg(p2,p1) /\ L4) \/ (LSeg(p2
,p1) /\ LSeg(p11,p01)) \/ (LSeg(p2,p1) /\ LSeg(p01,p1))) by A100,A92,
XBOOLE_0:def 10
          .= {p2} \/ ((LSeg(p2,p1) /\ L3) \/ {} \/ (LSeg(p2,p1) /\ LSeg(p11,
        p01)) \/ (LSeg(p2,p1) /\ LSeg(p01,p1))) by A20,Lm3,XBOOLE_1:3,26
          .= {p2} \/ ((LSeg(p2,p1) /\ L3) \/ LSeg(p2,p1) /\ L2 \/ {p1}) by A106
,A73,XBOOLE_0:def 10
          .= {p2} \/ ((LSeg(p2,p1) /\ L3) \/ ((LSeg(p2,p1) /\ L2) \/ {p1}))
        by XBOOLE_1:4
          .= {p2} \/ (LSeg(p2,p1) /\ L3) \/ ((LSeg(p2,p1) /\ L2) \/ {p1}) by
XBOOLE_1:4;
A108:   now
          per cases;
          suppose
A109:       p2 = p00;
            p2 in LSeg(p2,p1) by RLTOPSP1:68;
            then LSeg(p2,p1) /\ L3 <> {} by A109,Lm21,XBOOLE_0:def 4;
            then LSeg(p2,p1) /\ L3 = {p2} by A85,A109,ZFMISC_1:33;
            hence P1 /\ P2 = {p2} \/ ((LSeg(p2,p1) /\ L2) \/ {p1}) by A107;
          end;
          suppose
A110:       p2 <> p00;
            now
              assume p00 in LSeg(p2,p1) /\ L3;
              then p00 in LSeg(p2,p1) by XBOOLE_0:def 4;
              then p2`2 <= p00`2 by A15,A22,A72,TOPREAL1:4;
              then p00`2 = p2`2 by A19,Lm5,Lm7,TOPREAL1:4;
              hence contradiction by A22,A23,A110,Lm5,EUCLID:53;
            end;
            then LSeg(p2,p1) /\ L3 <> {p00} by ZFMISC_1:31;
            then LSeg(p2,p1) /\ L3 = {} by A85,ZFMISC_1:33;
            hence P1 /\ P2 = {p2} \/ ((LSeg(p2,p1) /\ L2) \/ {p1}) by A107;
          end;
        end;
A111:   LSeg(p2,p1) /\ L2 c= {p01} by A3,A19,TOPREAL1:6,15,XBOOLE_1:26;
        now
          per cases;
          suppose
A112:       p1 <> p01;
            now
              assume p01 in LSeg(p2,p1) /\ L2;
              then p01 in LSeg(p2,p1) by XBOOLE_0:def 4;
              then
A113:         p01`2 <= p1`2 by A15,A22,A72,TOPREAL1:4;
              p1`2 <= p01`2 by A3,Lm5,Lm7,TOPREAL1:4;
              then
A114:         p01`2 = p1`2 by A113,XXREAL_0:1;
              p1 = |[p1`1,p1`2]| by EUCLID:53
                .= |[0,1]| by A15,A16,A114,EUCLID:52;
              hence contradiction by A112;
            end;
            then LSeg(p2,p1) /\ L2 <> {p01} by ZFMISC_1:31;
            then LSeg(p2,p1) /\ L2 = {} by A111,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A108,ENUMSET1:1;
          end;
          suppose
A115:       p1 = p01;
            then p01 in LSeg(p2,p1) by RLTOPSP1:68;
            then LSeg(p2,p1) /\ L2 <> {} by Lm23,XBOOLE_0:def 4;
            then LSeg(p2,p1) /\ L2 = {p1} by A111,A115,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A108,ENUMSET1:1;
          end;
        end;
        hence P1 /\ P2 = {p1,p2};
      end;
    end;
    hence thesis;
  end;
  suppose
A116: p2 in L2;
    then
A117: LSeg(p01,p2) c= L2 by Lm23,TOPREAL1:6;
    LSeg(p1,p01) c= L1 by A3,Lm22,TOPREAL1:6;
    then
A118: LSeg(p1,p01) /\ LSeg(p01,p2) c= L1 /\ L2 by A117,XBOOLE_1:27;
    take P1 = LSeg(p1,p01) \/ LSeg(p01,p2),P2 = LSeg(p1,p00) \/ (L3 \/ L4 \/
    LSeg(p11,p2));
A119: p01 in LSeg(p01,p2) by RLTOPSP1:68;
    p11 in LSeg(p11,p2) by RLTOPSP1:68;
    then
A120: p11 in L4 /\ LSeg(p11,p2) by Lm27,XBOOLE_0:def 4;
    p01 in LSeg(p1,p01) by RLTOPSP1:68;
    then LSeg(p1,p01) /\ LSeg(p01,p2) <> {} by A119,XBOOLE_0:def 4;
    then
A121: LSeg(p1,p01) /\ LSeg(p01,p2) = {p01} by A118,TOPREAL1:15,ZFMISC_1:33;
    p1 <> p01 or p2 <> p01 by A1;
    hence P1 is_an_arc_of p1,p2 by A121,TOPREAL1:12;
A122: L1 = LSeg(p1,p01) \/ LSeg(p1,p00) by A3,TOPREAL1:5;
A123: L4 is_an_arc_of p10,p11 by Lm9,Lm11,TOPREAL1:9;
    L3 is_an_arc_of p00,p10 by Lm4,Lm8,TOPREAL1:9;
    then
A124: L3 \/ L4 is_an_arc_of p00,p11 by A123,TOPREAL1:2,16;
A125: LSeg(p11,p2) c= L2 by A116,Lm26,TOPREAL1:6;
    then
A126: L4 /\ LSeg(p11,p2) c= L4 /\ L2 by XBOOLE_1:27;
A127: L3 /\ LSeg(p11,p2) = {} by A125,Lm2,XBOOLE_1:3,26;
    (L3 \/ L4) /\ LSeg(p11,p2) = (L3 /\ LSeg(p11,p2)) \/ (L4 /\ LSeg(p11
    ,p2)) by XBOOLE_1:23
      .= {p11} by A127,A126,A120,TOPREAL1:18,ZFMISC_1:33;
    then
A128: L3 \/ L4 \/ LSeg(p11,p2) is_an_arc_of p00,p2 by A124,TOPREAL1:10;
A129: LSeg(p01,p2) /\ LSeg(p11,p2) = {p2} by A116,TOPREAL1:8;
A130: L2 = LSeg(p11,p2) \/ LSeg(p01,p2) by A116,TOPREAL1:5;
    LSeg(p1,p00) /\ LSeg(p11,p2) c= {p01} by A4,A125,TOPREAL1:15,XBOOLE_1:27;
    then
A131: LSeg(p1,p00) /\ LSeg(p11,p2) = {p01} or LSeg(p1,p00) /\ LSeg(p11,p2)
    = {} by ZFMISC_1:33;
A132: LSeg(p01,p2) c= L2 by A116,Lm23,TOPREAL1:6;
    then
A133: LSeg(p01,p2) /\ L3 = {} by Lm2,XBOOLE_1:3,27;
A134: ex q st q = p2 & q`1 <= 1 & q`1 >= 0 & q`2 = 1 by A116,TOPREAL1:13;
A135: now
A136: p2`1 <= p11`1 by A134,EUCLID:52;
      assume
A137: p01 in LSeg(p1,p00) /\ LSeg(p11,p2);
      then
A138: p01 in LSeg(p00,p1) by XBOOLE_0:def 4;
      p01 in LSeg(p2,p11) by A137,XBOOLE_0:def 4;
      then
A139: p01`1 = p2`1 by A134,A136,Lm6,TOPREAL1:3;
      p00`2 <= p1`2 by A15,A18,EUCLID:52;
      then p01`2 <= p1`2 by A138,TOPREAL1:4;
      then p01`2 = p1`2 by A15,A17,Lm7,XXREAL_0:1;
      then p1 = |[p01`1,p01`2]| by A15,A16,Lm6,EUCLID:53
        .= p2 by A134,A139,Lm7,EUCLID:53;
      hence contradiction by A1;
    end;
    LSeg(p1,p00) /\ (L3 \/ L4 \/ LSeg(p11,p2)) = (LSeg(p1,p00) /\ (L3 \/
    L4)) \/ (LSeg(p1,p00) /\ LSeg(p11,p2)) by XBOOLE_1:23
      .= (LSeg(p1,p00) /\ L3) \/ (LSeg(p1,p00) /\ L4) by A131,A135,XBOOLE_1:23
,ZFMISC_1:31
      .= {p00} by A9,A5,A6,TOPREAL1:17,XBOOLE_0:def 10;
    hence P2 is_an_arc_of p1,p2 by A128,TOPREAL1:11;
    thus P1 \/ P2 = LSeg(p01,p2) \/ (LSeg(p1,p01) \/ (LSeg(p1,p00) \/ (L3 \/
    L4 \/ LSeg(p11,p2)))) by XBOOLE_1:4
      .= L1 \/ (L3 \/ L4 \/ LSeg(p11,p2)) \/ LSeg(p01,p2) by A122,XBOOLE_1:4
      .= L1 \/ ((L3 \/ L4 \/ LSeg(p11,p2)) \/ LSeg(p01,p2)) by XBOOLE_1:4
      .= L1 \/ (L2 \/ (L3 \/ L4)) by A130,XBOOLE_1:4
      .= R^2-unit_square by TOPREAL1:def 2,XBOOLE_1:4;
A140: {p1} = LSeg(p1,p01) /\ LSeg(p1,p00) by A3,TOPREAL1:8;
A141: P1 /\ P2 = (LSeg(p1,p01) /\ (LSeg(p1,p00) \/ (L3 \/ L4 \/ LSeg(p11,
    p2)))) \/ (LSeg(p01,p2) /\ (LSeg(p1,p00) \/ (L3 \/ L4 \/ LSeg(p11,p2))))
by XBOOLE_1:23
      .= (LSeg(p1,p01) /\ LSeg(p1,p00)) \/ (LSeg(p1,p01) /\ (L3 \/ L4 \/
LSeg(p11,p2))) \/ (LSeg(p01,p2) /\ (LSeg(p1,p00) \/ (L3 \/ L4 \/ LSeg(p11,p2)))
    ) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p01) /\ (L3 \/ L4)) \/ (LSeg(p1,p01) /\ LSeg(p11,
p2))) \/ (LSeg(p01,p2) /\ (LSeg(p1,p00) \/ (L3 \/ L4 \/ LSeg(p11,p2)))) by A140
,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p01) /\ L3) \/ (LSeg(p1,p01) /\ L4) \/ (LSeg(p1,
p01) /\ LSeg(p11,p2))) \/ (LSeg(p01,p2) /\ (LSeg(p1,p00) \/ (L3 \/ L4 \/ LSeg(
    p11,p2)))) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p01) /\ L3) \/ (LSeg(p1,p01) /\ L4) \/ (LSeg(p1,
p01) /\ LSeg(p11,p2))) \/ ((LSeg(p01,p2) /\ LSeg(p1,p00)) \/ (LSeg(p01,p2) /\ (
    L3 \/ L4 \/ LSeg(p11,p2)))) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p01) /\ L3) \/ (LSeg(p1,p01) /\ L4) \/ (LSeg(p1,
p01) /\ LSeg(p11,p2))) \/ ((LSeg(p01,p2) /\ LSeg(p1,p00)) \/ ((LSeg(p01,p2) /\
    (L3 \/ L4)) \/ {p2})) by A129,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p01) /\ L3) \/ (LSeg(p1,p01) /\ L4) \/ (LSeg(p1,
p01) /\ LSeg(p11,p2))) \/ ((LSeg(p01,p2) /\ LSeg(p1,p00)) \/ ((LSeg(p01,p2) /\
    L3) \/ (LSeg(p01,p2) /\ L4) \/ {p2})) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p01) /\ L3) \/ (LSeg(p1,p01) /\ LSeg(p11,p2))) \/
((LSeg(p01,p2) /\ LSeg(p1,p00)) \/ (LSeg(p01,p2) /\ L4 \/ {p2})) by A14,A133;
A142: now
      per cases;
      suppose
A143:   p2 = p11;
        then
A144:   not p2 in LSeg(p1,p01) by A13,Lm4,Lm6,Lm10,TOPREAL1:3;
        LSeg(p1,p01) /\ LSeg(p11,p2) = LSeg(p1,p01) /\ {p2} by A143,RLTOPSP1:70
          .= {} by A144,Lm1;
        hence
        P1 /\ P2 = {p1} \/ (LSeg(p1,p01) /\ L3) \/ ((LSeg(p01,p2) /\ LSeg
        (p1,p00)) \/ {p2}) by A141,A143,TOPREAL1:18;
      end;
      suppose
A145:   p2 <> p11 & p2 <> p01;
        now
          assume p01 in LSeg(p1,p01) /\ LSeg(p11,p2);
          then
A146:     p01 in LSeg(p2,p11) by XBOOLE_0:def 4;
          p2`1 <= p11`1 by A134,EUCLID:52;
          then p2`1 = 0 by A134,A146,Lm6,TOPREAL1:3;
          hence contradiction by A134,A145,EUCLID:53;
        end;
        then
A147:   {p01} <> LSeg(p1,p01) /\ LSeg(p11,p2) by ZFMISC_1:31;
        LSeg(p1,p01) /\ LSeg(p11,p2) c= {p01} by A13,A125,TOPREAL1:15
,XBOOLE_1:27;
        then
A148:   LSeg(p1,p01) /\ LSeg(p11,p2) = {} by A147,ZFMISC_1:33;
        now
          assume p11 in LSeg(p01,p2) /\ L4;
          then
A149:     p11 in LSeg(p01,p2) by XBOOLE_0:def 4;
          p01`1 <= p2`1 by A134,EUCLID:52;
          then p11`1 <= p2`1 by A149,TOPREAL1:3;
          then p2`1 = p11`1 by A134,Lm10,XXREAL_0:1;
          hence contradiction by A134,A145,Lm10,EUCLID:53;
        end;
        then
A150:   {p11} <> LSeg(p01,p2) /\ L4 by ZFMISC_1:31;
        LSeg(p01,p2) /\ L4 c= {p11} by A132,TOPREAL1:18,XBOOLE_1:27;
        then LSeg(p01,p2) /\ L4 = {} by A150,ZFMISC_1:33;
        hence
        P1 /\ P2 = {p1} \/ (LSeg(p1,p01) /\ L3) \/ ((LSeg(p01,p2) /\ LSeg
        (p1,p00)) \/ {p2}) by A141,A148;
      end;
      suppose
A151:   p2 = p01;
        then p2 in LSeg(p1,p01) by RLTOPSP1:68;
        then
A152:   LSeg(p1,p01) /\ LSeg(p11,p2) <> {} by A151,Lm23,XBOOLE_0:def 4;
        LSeg(p1,p01) /\ LSeg(p11,p2) c= {p2} by A13,A151,TOPREAL1:15
,XBOOLE_1:27;
        then
A153:   LSeg(p1,p01) /\ LSeg(p11,p2) = {p2} by A152,ZFMISC_1:33;
        LSeg(p01,p2) /\ L4 = {p01} /\ L4 by A151,RLTOPSP1:70
          .= {} by Lm1,Lm15;
        hence P1 /\ P2 = ({p1} \/ (LSeg(p1,p01) /\ L3)) \/ {p2} \/ ((LSeg(p01,
        p2) /\ LSeg(p1,p00)) \/ {p2}) by A141,A153,XBOOLE_1:4
          .= ({p1} \/ (LSeg(p1,p01) /\ L3)) \/ ((LSeg(p01,p2) /\ LSeg(p1,p00
        )) \/ {p2} \/ {p2}) by XBOOLE_1:4
          .= ({p1} \/ (LSeg(p1,p01) /\ L3)) \/ ((LSeg(p01,p2) /\ LSeg(p1,p00
        )) \/ ({p2} \/ {p2})) by XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p01) /\ L3) \/ ((LSeg(p01,p2) /\ LSeg(p1,p00))
        \/ {p2});
      end;
    end;
    now
      per cases;
      suppose
A154:   p1 = p01;
        then p1 in LSeg(p01,p2 ) by RLTOPSP1:68;
        then
A155:   LSeg(p01,p2) /\ LSeg(p1,p00) <> {} by A154,Lm22,XBOOLE_0:def 4;
        LSeg(p01,p2) /\ LSeg(p1,p00) c= {p1} by A132,A154,TOPREAL1:15
,XBOOLE_1:27;
        then
A156:   LSeg(p01,p2) /\ LSeg(p1,p00) = {p1} by A155,ZFMISC_1:33;
        LSeg(p1,p01) /\ L3 = {p1} /\ L3 by A154,RLTOPSP1:70
          .= {} by A154,Lm1,Lm14;
        hence P1 /\ P2 = {p1} \/ {p1} \/ {p2} by A142,A156,XBOOLE_1:4
          .= {p1,p2} by ENUMSET1:1;
      end;
      suppose
A157:   p1 = p00;
A158:   not p00 in LSeg(p01,p2) by A132,Lm5,Lm7,Lm11,TOPREAL1:4;
        LSeg(p01,p2) /\ LSeg(p1,p00) = LSeg(p01,p2) /\ {p00} by A157,
RLTOPSP1:70
          .= {} by A158,Lm1;
        hence thesis by A142,A157,ENUMSET1:1,TOPREAL1:17;
      end;
      suppose
A159:   p1 <> p00 & p1 <> p01;
        now
          assume p01 in LSeg(p01,p2) /\ LSeg(p1,p00);
          then
A160:     p01 in LSeg(p00,p1) by XBOOLE_0:def 4;
          p00`2 <= p1`2 by A15,A18,EUCLID:52;
          then p01`2 <= p1`2 by A160,TOPREAL1:4;
          then p1`2 = 1 by A15,A17,Lm7,XXREAL_0:1;
          hence contradiction by A15,A16,A159,EUCLID:53;
        end;
        then
A161:   {p01} <> LSeg(p01,p2) /\ LSeg(p1,p00) by ZFMISC_1:31;
        LSeg(p01,p2) /\ LSeg(p1,p00) c= {p01} by A4,A132,TOPREAL1:15
,XBOOLE_1:27;
        then
A162:   LSeg(p01,p2) /\ LSeg(p1,p00) = {} by A161,ZFMISC_1:33;
        now
          assume p00 in LSeg(p1,p01) /\ L3;
          then
A163:     p00 in LSeg(p1,p01) by XBOOLE_0:def 4;
          p1`2 <= p01`2 by A15,A17,EUCLID:52;
          then p1`2 = 0 by A15,A18,A163,Lm5,TOPREAL1:4;
          hence contradiction by A15,A16,A159,EUCLID:53;
        end;
        then
A164:   {p00} <> LSeg(p1,p01) /\ L3 by ZFMISC_1:31;
        LSeg(p1,p01) /\ L3 c= {p00} by A13,TOPREAL1:17,XBOOLE_1:27;
        then LSeg(p1,p01) /\ L3 = {} by A164,ZFMISC_1:33;
        hence thesis by A142,A162,ENUMSET1:1;
      end;
    end;
    hence thesis;
  end;
  suppose
A165: p2 in L3;
    then
A166: LSeg(p00,p2) c= L3 by Lm21,TOPREAL1:6;
    LSeg(p1,p00) c= L1 by A3,Lm20,TOPREAL1:6;
    then
A167: LSeg(p1,p00) /\ LSeg(p00,p2) c= L1 /\ L3 by A166,XBOOLE_1:27;
    take P1 = LSeg(p1,p00) \/ LSeg(p00,p2),P2 = LSeg(p1,p01) \/ (L2 \/ L4 \/
    LSeg(p10,p2));
A168: p00 in LSeg(p00,p2) by RLTOPSP1:68;
    p10 in LSeg(p10,p2) by RLTOPSP1:68;
    then
A169: p10 in L4 /\ LSeg(p10,p2) by Lm25,XBOOLE_0:def 4;
    p00 in LSeg(p1,p00) by RLTOPSP1:68;
    then LSeg(p1,p00) /\ LSeg(p00,p2) <> {} by A168,XBOOLE_0:def 4;
    then
A170: LSeg(p1,p00) /\ LSeg(p00,p2) = {p00} by A167,TOPREAL1:17,ZFMISC_1:33;
    p1 <> p00 or p00 <> p2 by A1;
    hence P1 is_an_arc_of p1,p2 by A170,TOPREAL1:12;
A171: L1 = LSeg(p1,p00) \/ LSeg(p1,p01) by A3,TOPREAL1:5;
A172: L4 is_an_arc_of p11,p10 by Lm9,Lm11,TOPREAL1:9;
    L2 is_an_arc_of p01,p11 by Lm6,Lm10,TOPREAL1:9;
    then
A173: L2 \/ L4 is_an_arc_of p01,p10 by A172,TOPREAL1:2,18;
A174: LSeg(p10,p2) c= L3 by A165,Lm24,TOPREAL1:6;
    then
A175: L4 /\ LSeg(p10,p2) c= L4 /\ L3 by XBOOLE_1:27;
A176: L2 /\ LSeg(p10,p2) = {} by A174,Lm2,XBOOLE_1:3,26;
    (L2 \/ L4) /\ LSeg(p10,p2) = (L2 /\ LSeg(p10,p2)) \/ (L4 /\ LSeg(p10
    ,p2)) by XBOOLE_1:23
      .= {p10} by A176,A175,A169,TOPREAL1:16,ZFMISC_1:33;
    then
A177: L2 \/ L4 \/ LSeg(p10,p2) is_an_arc_of p01,p2 by A173,TOPREAL1:10;
A178: LSeg(p00,p2) /\ LSeg(p10,p2) = {p2} by A165,TOPREAL1:8;
A179: L3 = LSeg(p10,p2) \/ LSeg(p00,p2) by A165,TOPREAL1:5;
    LSeg(p1,p01) /\ LSeg(p10,p2) c= {p00} by A13,A174,TOPREAL1:17,XBOOLE_1:27;
    then
A180: LSeg(p1,p01) /\ LSeg(p10,p2) = {p00} or LSeg(p1,p01) /\ LSeg(p10,p2)
    = {} by ZFMISC_1:33;
A181: LSeg(p00,p2) c= L3 by A165,Lm21,TOPREAL1:6;
    then
A182: LSeg(p00,p2) /\ L2 = {} by Lm2,XBOOLE_1:3,27;
A183: ex q st q = p2 & q`1 <= 1 & q`1 >= 0 & q`2 = 0 by A165,TOPREAL1:13;
A184: now
A185: p2`1 <= p10`1 by A183,EUCLID:52;
      assume
A186: p00 in LSeg(p1,p01) /\ LSeg(p10,p2);
      then
A187: p00 in LSeg(p1,p01) by XBOOLE_0:def 4;
      p00 in LSeg(p2,p10) by A186,XBOOLE_0:def 4;
      then
A188: p00`1 = p2`1 by A183,A185,Lm4,TOPREAL1:3;
      p1`2 <= p01`2 by A15,A17,EUCLID:52;
      then p00`2 = p1`2 by A15,A18,A187,Lm5,TOPREAL1:4;
      then p1 = |[p00`1,p00`2]| by A15,A16,Lm4,EUCLID:53
        .= p2 by A183,A188,Lm5,EUCLID:53;
      hence contradiction by A1;
    end;
    LSeg(p1,p01) /\ (L2 \/ L4 \/ LSeg(p10,p2)) = (LSeg(p1,p01) /\ (L2 \/
    L4)) \/ (LSeg(p1,p01) /\ LSeg(p10,p2)) by XBOOLE_1:23
      .= (LSeg(p1,p01) /\ L2) \/ (LSeg(p01,p1) /\ L4) by A180,A184,XBOOLE_1:23
,ZFMISC_1:31
      .= {p01} by A14,A10,A12,XBOOLE_0:def 10;
    hence P2 is_an_arc_of p1,p2 by A177,TOPREAL1:11;
    thus P1 \/ P2 = LSeg(p00,p2) \/ (LSeg(p1,p00) \/ (LSeg(p1,p01) \/ (L2 \/
    L4 \/ LSeg(p10,p2)))) by XBOOLE_1:4
      .= L1 \/ (L2 \/ L4 \/ LSeg(p10,p2)) \/ LSeg(p00,p2) by A171,XBOOLE_1:4
      .= L1 \/ ((L2 \/ L4 \/ LSeg(p10,p2)) \/ LSeg(p00,p2)) by XBOOLE_1:4
      .= L1 \/ (L2 \/ L4 \/ (LSeg(p10,p2) \/ LSeg(p00,p2))) by XBOOLE_1:4
      .= L1 \/ (L2 \/ (L3 \/ L4)) by A179,XBOOLE_1:4
      .= R^2-unit_square by TOPREAL1:def 2,XBOOLE_1:4;
A189: {p1} = LSeg(p1,p00) /\ LSeg(p1,p01) by A3,TOPREAL1:8;
A190: P1 /\ P2 = (LSeg(p1,p00) /\ (LSeg(p1,p01) \/ (L2 \/ L4 \/ LSeg(p10,
    p2)))) \/ (LSeg(p00,p2) /\ (LSeg(p1,p01) \/ (L2 \/ L4 \/ LSeg(p10,p2))))
by XBOOLE_1:23
      .= (LSeg(p1,p00) /\ LSeg(p1,p01)) \/ (LSeg(p1,p00) /\ (L2 \/ L4 \/
LSeg(p10,p2))) \/ (LSeg(p00,p2) /\ (LSeg(p1,p01) \/ (L2 \/ L4 \/ LSeg(p10,p2)))
    ) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p00) /\ (L2 \/ L4)) \/ (LSeg(p1,p00) /\ LSeg(p10,
p2))) \/ (LSeg(p00,p2) /\ (LSeg(p1,p01) \/ (L2 \/ L4 \/ LSeg(p10,p2)))) by A189
,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p00) /\ L2) \/ (LSeg(p1,p00) /\ L4) \/ (LSeg(p1,
p00) /\ LSeg(p10,p2))) \/ (LSeg(p00,p2) /\ (LSeg(p1,p01) \/ (L2 \/ L4 \/ LSeg(
    p10,p2)))) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p00) /\ L2) \/ (LSeg(p1,p00) /\ L4) \/ (LSeg(p1,
p00) /\ LSeg(p10,p2))) \/ ((LSeg(p00,p2) /\ LSeg(p1,p01)) \/ (LSeg(p00,p2) /\ (
    L2 \/ L4 \/ LSeg(p10,p2)))) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p00) /\ L2) \/ (LSeg(p1,p00) /\ L4) \/ (LSeg(p1,
p00) /\ LSeg(p10,p2))) \/ ((LSeg(p00,p2) /\ LSeg(p1,p01)) \/ ((LSeg(p00,p2) /\
    (L2 \/ L4)) \/ {p2})) by A178,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p00) /\ L2) \/ (LSeg(p1,p00) /\ L4) \/ (LSeg(p1,
p00) /\ LSeg(p10,p2))) \/ ((LSeg(p00,p2) /\ LSeg(p1,p01)) \/ ((LSeg(p00,p2) /\
    L2) \/ (LSeg(p00,p2) /\ L4) \/ {p2})) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p00) /\ L2) \/ (LSeg(p1,p00) /\ LSeg(p10,p2))) \/
((LSeg(p00,p2) /\ LSeg(p1,p01)) \/ (LSeg(p00,p2) /\ L4 \/ {p2})) by A9,A182;
A191: now
      per cases;
      suppose
A192:   p2 = p10;
        then not p2 in LSeg(p1,p00) by A4,Lm4,Lm6,Lm8,TOPREAL1:3;
        then
A193:   LSeg(p1,p00) misses {p2} by ZFMISC_1:50;
        LSeg(p1,p00) /\ LSeg(p10,p2) = LSeg(p1,p00) /\ {p2} by A192,RLTOPSP1:70
          .= {} by A193,XBOOLE_0:def 7;
        hence
        P1 /\ P2 = {p1} \/ (LSeg(p1,p00) /\ L2) \/ ((LSeg(p00,p2) /\ LSeg
        (p1,p01)) \/ {p2}) by A190,A192,TOPREAL1:16;
      end;
      suppose
A194:   p2 <> p10 & p2 <> p00;
        now
          assume p00 in LSeg(p1,p00) /\ LSeg(p10,p2);
          then
A195:     p00 in LSeg(p2,p10) by XBOOLE_0:def 4;
          p2`1 <= p10`1 by A183,EUCLID:52;
          then p2`1 = 0 by A183,A195,Lm4,TOPREAL1:3;
          hence contradiction by A183,A194,EUCLID:53;
        end;
        then
A196:   {p00} <> LSeg(p1,p00) /\ LSeg(p10,p2) by ZFMISC_1:31;
        LSeg(p1,p00) /\ LSeg(p10,p2) c= {p00} by A4,A174,TOPREAL1:17
,XBOOLE_1:27;
        then
A197:   LSeg(p1,p00) /\ LSeg(p10,p2) = {} by A196,ZFMISC_1:33;
        now
          assume p10 in LSeg(p00,p2) /\ L4;
          then
A198:     p10 in LSeg(p00,p2) by XBOOLE_0:def 4;
          p00`1 <= p2`1 by A183,EUCLID:52;
          then p10`1 <= p2`1 by A198,TOPREAL1:3;
          then p2`1 = p10`1 by A183,Lm8,XXREAL_0:1;
          hence contradiction by A183,A194,Lm8,EUCLID:53;
        end;
        then
A199:   {p10} <> LSeg(p00,p2) /\ L4 by ZFMISC_1:31;
        LSeg(p00,p2) /\ L4 c= {p10} by A181,TOPREAL1:16,XBOOLE_1:27;
        then LSeg(p00,p2) /\ L4 = {} by A199,ZFMISC_1:33;
        hence
        P1 /\ P2 = {p1} \/ (LSeg(p1,p00) /\ L2) \/ ((LSeg(p00,p2) /\ LSeg
        (p1,p01)) \/ {p2}) by A190,A197;
      end;
      suppose
A200:   p2 = p00;
        then p2 in LSeg(p1,p00) by RLTOPSP1:68;
        then
A201:   LSeg(p1,p00) /\ LSeg(p10,p2) <> {} by A200,Lm21,XBOOLE_0:def 4;
        LSeg(p1,p00) /\ LSeg(p10,p2) c= {p2} by A4,A200,TOPREAL1:17,XBOOLE_1:27
;
        then
A202:   LSeg(p1,p00) /\ LSeg(p10,p2) = {p2} by A201,ZFMISC_1:33;
        LSeg(p00,p2) /\ L4 = {p00} /\ L4 by A200,RLTOPSP1:70
          .= {} by Lm1,Lm12;
        hence P1 /\ P2 = ({p1} \/ (LSeg(p1,p00) /\ L2)) \/ {p2} \/ ((LSeg(p00,
        p2) /\ LSeg(p1,p01)) \/ {p2}) by A190,A202,XBOOLE_1:4
          .= ({p1} \/ (LSeg(p1,p00) /\ L2)) \/ ((LSeg(p00,p2) /\ LSeg(p1,p01
        )) \/ {p2} \/ {p2}) by XBOOLE_1:4
          .= ({p1} \/ (LSeg(p1,p00) /\ L2)) \/ ((LSeg(p00,p2) /\ LSeg(p1,p01
        )) \/ ({p2} \/ {p2})) by XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p00) /\ L2) \/ ((LSeg(p00,p2) /\ LSeg(p1,p01))
        \/ {p2});
      end;
    end;
    now
      per cases;
      suppose
A203:   p1 = p01;
        then
A204:   LSeg(p00,p2) /\ LSeg(p1,p01) = LSeg(p00,p2) /\ {p1} by RLTOPSP1:70;
        not p1 in LSeg(p00,p2) by A181,A203,Lm5,Lm7,Lm9,TOPREAL1:4;
        then LSeg(p00,p2) /\ LSeg(p1,p01) = {} by A204,Lm1;
        hence thesis by A191,A203,ENUMSET1:1,TOPREAL1:15;
      end;
      suppose
A205:   p1 = p00;
        p00 in LSeg(p00,p2) by RLTOPSP1:68;
        then
A206:   LSeg(p00,p2) /\ LSeg(p1,p01) <> {} by A205,Lm20,XBOOLE_0:def 4;
        LSeg(p1,p00) /\ L2 = {p1} /\ L2 by A205,RLTOPSP1:70;
        then
A207:   LSeg(p1,p00) /\ L2 = {} by A205,Lm1,Lm13;
        LSeg(p00,p2) /\ LSeg(p1,p01) c= L3 /\ L1 by A165,A205,Lm21,TOPREAL1:6
,XBOOLE_1:26;
        then LSeg(p00,p2) /\ LSeg(p1,p01) = {p1} by A205,A206,TOPREAL1:17
,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ {p1} \/ {p2} by A191,A207,XBOOLE_1:4
          .= {p1,p2} by ENUMSET1:1;
      end;
      suppose
A208:   p1 <> p00 & p1 <> p01;
        now
          assume p00 in LSeg(p00,p2) /\ LSeg(p1,p01);
          then
A209:     p00 in LSeg(p1,p01) by XBOOLE_0:def 4;
          p1`2 <= p01`2 by A15,A17,EUCLID:52;
          then p1`2 = 0 by A15,A18,A209,Lm5,TOPREAL1:4;
          hence contradiction by A15,A16,A208,EUCLID:53;
        end;
        then
A210:   {p00} <> LSeg(p00,p2) /\ LSeg(p1,p01) by ZFMISC_1:31;
        LSeg(p00,p2) /\ LSeg(p1,p01) c= L3 /\ L1 by A13,A181,XBOOLE_1:27;
        then
A211:   LSeg(p00,p2) /\ LSeg(p1,p01) = {} by A210,TOPREAL1:17,ZFMISC_1:33;
        now
          assume p01 in LSeg(p1,p00) /\ L2;
          then
A212:     p01 in LSeg(p00,p1) by XBOOLE_0:def 4;
          p00`2 <= p1`2 by A15,A18,EUCLID:52;
          then p01`2 <= p1`2 by A212,TOPREAL1:4;
          then p1`2 = 1 by A15,A17,Lm7,XXREAL_0:1;
          hence contradiction by A15,A16,A208,EUCLID:53;
        end;
        then
A213:   {p01} <> LSeg(p1,p00) /\ L2 by ZFMISC_1:31;
        LSeg(p1,p00) /\ L2 c= {p01} by A4,TOPREAL1:15,XBOOLE_1:27;
        then LSeg(p1,p00) /\ L2 = {} by A213,ZFMISC_1:33;
        hence thesis by A191,A211,ENUMSET1:1;
      end;
    end;
    hence thesis;
  end;
  suppose
A214: p2 in L4;
    now
      let a;
      assume
A215: a in LSeg(p1,p00) /\ LSeg(p1,p01);
      then reconsider p = a as Point of TOP-REAL 2;
      a in LSeg(p1,p01) by A215,XBOOLE_0:def 4;
      then
A216: p1`2 <= p`2 by A15,A17,Lm7,TOPREAL1:4;
A217: a in LSeg(p00,p1) by A215,XBOOLE_0:def 4;
      then p`2 <= p1`2 by A15,A18,Lm5,TOPREAL1:4;
      then
A218: p`2 = p1`2 by A216,XXREAL_0:1;
      p`1 <= p1`1 by A15,A16,A217,Lm4,TOPREAL1:3;
      then p`1 = p1`1 by A15,A16,A217,Lm4,TOPREAL1:3;
      then a = |[p1`1,p1`2]| by A218,EUCLID:53
        .= p1 by EUCLID:53;
      hence a in {p1} by TARSKI:def 1;
    end;
    then
A219: LSeg(p1,p00) /\ LSeg(p1,p01) c= {p1} by TARSKI:def 3;
A220: p2 in LSeg(p11,p2) by RLTOPSP1:68;
    p2 in LSeg(p10,p2) by RLTOPSP1:68;
    then p2 in LSeg(p10,p2) /\ LSeg(p11,p2) by A220,XBOOLE_0:def 4;
    then
A221: {p2} c= LSeg(p10,p2) /\ LSeg(p11,p2) by ZFMISC_1:31;
A222: ex q st q = p2 & q`1 = 1 & q`2 <= 1 & q`2 >= 0 by A214,TOPREAL1:13;
    now
      let a;
      assume
A223: a in LSeg(p10,p2) /\ LSeg(p11,p2);
      then reconsider p = a as Point of TOP-REAL 2;
A224: a in LSeg(p10,p2) by A223,XBOOLE_0:def 4;
      then
A225: p2`1 <= p`1 by A222,Lm8,TOPREAL1:3;
      a in LSeg(p2,p11) by A223,XBOOLE_0:def 4;
      then
A226: p2`2 <= p`2 by A222,Lm11,TOPREAL1:4;
      p`1 <= p2`1 by A222,A224,Lm8,TOPREAL1:3;
      then
A227: p`1 = p2`1 by A225,XXREAL_0:1;
      p`2 <= p2`2 by A222,A224,Lm9,TOPREAL1:4;
      then p`2 = p2`2 by A226,XXREAL_0:1;
      then a = |[p2`1,p2`2]| by A227,EUCLID:53
        .= p2 by EUCLID:53;
      hence a in {p2} by TARSKI:def 1;
    end;
    then
A228: LSeg(p10,p2) /\ LSeg(p11,p2) c= {p2} by TARSKI:def 3;
    LSeg(p10,p2) c= L4 by A214,Lm25,TOPREAL1:6;
    then
A229: L3 /\ LSeg(p10,p2) c= {p10} by TOPREAL1:16,XBOOLE_1:27;
    take P1 = LSeg(p1,p00) \/ L3 \/ LSeg(p10,p2),P2 = LSeg(p1,p01) \/ L2 \/
    LSeg(p11,p2);
A230: p10 in LSeg(p10,p2) by RLTOPSP1:68;
    p10 in L3 by RLTOPSP1:68;
    then L3 /\ LSeg(p10,p2) <> {} by A230,XBOOLE_0:def 4;
    then L3 /\ LSeg(p10,p2) = {p10} by A229,ZFMISC_1:33;
    then
A231: L3 \/ LSeg(p10,p2) is_an_arc_of p00,p2 by Lm4,Lm8,TOPREAL1:12;
    LSeg(p10,p2) c= L4 by A214,Lm25,TOPREAL1:6;
    then
A232: LSeg(p1,p00) /\ LSeg(p10,p2) = {} by A4,Lm3,XBOOLE_1:3,27;
    LSeg(p1,p00) /\ (L3 \/ LSeg(p10,p2)) = (LSeg(p1,p00) /\ L3) \/ (LSeg
    (p1,p00) /\ LSeg(p10,p2)) by XBOOLE_1:23
      .= {p00} by A5,A6,A232,TOPREAL1:17,XBOOLE_0:def 10;
    then
LSeg(p1,p00) \/ (L3 \/ LSeg(p10,p2)) is_an_arc_of p1,p2 by A231,TOPREAL1:11;
    hence P1 is_an_arc_of p1,p2 by XBOOLE_1:4;
    p11 in LSeg(p11,p2) by RLTOPSP1:68;
    then
A233: L2 /\ LSeg(p11,p2) <> {} by Lm26,XBOOLE_0:def 4;
A234: LSeg(p11,p2) c= L4 by A214,Lm27,TOPREAL1:6;
    then
A235: LSeg(p1,p01) /\ LSeg(p11,p2) = {} by A13,Lm3,XBOOLE_1:3,27;
    L2 /\ LSeg(p11,p2) c= {p11} by A234,TOPREAL1:18,XBOOLE_1:27;
    then L2 /\ LSeg(p11,p2) = {p11} by A233,ZFMISC_1:33;
    then
A236: L2 \/ LSeg(p11,p2) is_an_arc_of p01,p2 by Lm6,Lm10,TOPREAL1:12;
    LSeg(p1,p01) /\ (L2 \/ LSeg(p11,p2)) = (LSeg(p1,p01) /\ L2) \/ (LSeg
    (p1,p01) /\ LSeg(p11,p2)) by XBOOLE_1:23
      .= {p01} by A10,A12,A235,XBOOLE_0:def 10;
    then
LSeg(p1,p01) \/ (L2 \/ LSeg(p11,p2)) is_an_arc_of p1,p2 by A236,TOPREAL1:11;
    hence P2 is_an_arc_of p1,p2 by XBOOLE_1:4;
    thus R^2-unit_square = LSeg(p1,p00) \/ LSeg(p1,p01) \/ L2 \/ (L3 \/ L4) by
A3,TOPREAL1:5,def 2
      .= LSeg(p1,p00) \/ (LSeg(p1,p01) \/ L2) \/ (L3 \/ L4) by XBOOLE_1:4
      .= LSeg(p1,p00) \/ ((LSeg(p1,p01) \/ L2) \/ (L3 \/ L4)) by XBOOLE_1:4
      .= LSeg(p1,p00) \/ (L3 \/ (LSeg(p1,p01) \/ L2 \/ L4)) by XBOOLE_1:4
      .= LSeg(p1,p00) \/ L3 \/ (LSeg(p1,p01) \/ L2 \/ L4) by XBOOLE_1:4
      .= LSeg(p1,p00) \/ L3 \/ (LSeg(p1,p01) \/ L2 \/ (LSeg(p11,p2) \/ LSeg(
    p10,p2))) by A214,TOPREAL1:5
      .= LSeg(p1,p00) \/ L3 \/ (LSeg(p10,p2) \/ (LSeg(p1,p01) \/ L2 \/ LSeg(
    p11,p2))) by XBOOLE_1:4
      .= P1 \/ P2 by XBOOLE_1:4;
A237: p1 in LSeg(p1,p01) by RLTOPSP1:68;
    p1 in LSeg(p1,p00) by RLTOPSP1:68;
    then p1 in LSeg(p1,p00) /\ LSeg(p1,p01) by A237,XBOOLE_0:def 4;
    then {p1} c= LSeg(p1,p00) /\ LSeg(p1,p01) by ZFMISC_1:31;
    then
A238: LSeg(p1,p00) /\ LSeg(p1,p01) = {p1} by A219,XBOOLE_0:def 10;
A239: LSeg(p1,p00) /\ LSeg(p11,p2) = {} by A4,A234,Lm3,XBOOLE_1:3,27;
A240: LSeg(p10,p2) c= L4 by A214,Lm25,TOPREAL1:6;
    then
A241: LSeg(p10,p2) /\ LSeg(p1,p01) = {} by A13,Lm3,XBOOLE_1:3,27;
A242: P1 /\ P2 = (LSeg(p1,p00) \/ L3) /\ (LSeg(p1,p01) \/ L2 \/ LSeg(p11,
p2)) \/ (LSeg(p10,p2) /\ (LSeg(p1,p01) \/ L2 \/ LSeg(p11,p2))) by XBOOLE_1:23
      .= (LSeg(p1,p00) /\ (LSeg(p1,p01) \/ L2 \/ LSeg(p11,p2))) \/ (L3 /\ (
LSeg(p1,p01) \/ L2 \/ LSeg(p11,p2))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p01) \/ L2 \/
    LSeg(p11,p2))) by XBOOLE_1:23
      .= (LSeg(p1,p00) /\ (LSeg(p1,p01) \/ L2)) \/ (LSeg(p1,p00) /\ LSeg(p11
,p2)) \/ (L3 /\ (LSeg(p1,p01) \/ L2 \/ LSeg(p11,p2))) \/ (LSeg(p10,p2) /\ (LSeg
    (p1,p01) \/ L2 \/ LSeg(p11,p2))) by XBOOLE_1:23
      .= (LSeg(p1,p00) /\ LSeg(p1,p01)) \/ (LSeg(p1,p00) /\ L2) \/ (L3 /\ (
LSeg(p1,p01) \/ L2 \/ LSeg(p11,p2))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p01) \/ L2 \/
    LSeg(p11,p2))) by A239,XBOOLE_1:23
      .= {p1} \/ (LSeg(p1,p00) /\ L2) \/ ((L3 /\ (LSeg(p1,p01) \/ L2)) \/ (
L3 /\ LSeg(p11,p2))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p01) \/ L2 \/ LSeg(p11,p2)))
    by A238,XBOOLE_1:23
      .= {p1} \/ (LSeg(p1,p00) /\ L2) \/ ((L3 /\ LSeg(p1,p01)) \/ (L3 /\ L2)
\/ (L3 /\ LSeg(p11,p2))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p01) \/ L2 \/ LSeg(p11,p2
    ))) by XBOOLE_1:23
      .= {p1} \/ (LSeg(p1,p00) /\ L2) \/ ((L3 /\ LSeg(p1,p01)) \/ (L3 /\
LSeg(p11,p2))) \/ ((LSeg(p10,p2) /\ (LSeg(p1,p01) \/ L2)) \/ (LSeg(p10,p2) /\
    LSeg(p11,p2))) by Lm2,XBOOLE_1:23
      .= {p1} \/ (LSeg(p1,p00) /\ L2) \/ ((L3 /\ LSeg(p1,p01)) \/ (L3 /\
LSeg(p11,p2))) \/ ((LSeg(p10,p2) /\ (LSeg(p1,p01) \/ L2)) \/ {p2}) by A221,A228
,XBOOLE_0:def 10
      .= {p1} \/ (LSeg(p1,p00) /\ L2) \/ ((L3 /\ LSeg(p1,p01)) \/ (L3 /\
LSeg(p11,p2))) \/ ((LSeg(p10,p2) /\ LSeg(p1,p01)) \/ (LSeg(p10,p2) /\ L2) \/ {
    p2}) by XBOOLE_1:23
      .= {p1} \/ (LSeg(p1,p00) /\ L2) \/ ((L3 /\ LSeg(p1,p01)) \/ (L3 /\
    LSeg(p11,p2))) \/ ((LSeg(p10,p2) /\ L2) \/ {p2}) by A241;
A243: now
      per cases;
      suppose
A244:   p2 = p11;
        then L3 /\ LSeg(p11,p2) = L3 /\ {p11} by RLTOPSP1:70
          .= {} by Lm1,Lm19;
        hence P1 /\ P2 = {p1} \/ (LSeg(p1,p00) /\ L2) \/ (L3 /\ LSeg(p1,p01))
        \/ {p2} by A242,A244,TOPREAL1:18;
      end;
      suppose
A245:   p2 = p10;
        then LSeg(p10,p2) /\ L2 = {p10} /\ L2 by RLTOPSP1:70
          .= {} by Lm1,Lm17;
        hence P1 /\ P2 = {p1} \/ (LSeg(p1,p00) /\ L2) \/ ((L3 /\ LSeg(p1,p01))
        \/ {p2} \/ {p2}) by A242,A245,TOPREAL1:16,XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p00) /\ L2) \/ ((L3 /\ LSeg(p1,p01)) \/ ({p2}
        \/ {p2})) by XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p00) /\ L2) \/ (L3 /\ LSeg(p1,p01)) \/ {p2} by
XBOOLE_1:4;
      end;
      suppose
A246:   p2 <> p10 & p2 <> p11;
        now
          assume p11 in LSeg(p10,p2) /\ L2;
          then
A247:     p11 in LSeg(p10,p2) by XBOOLE_0:def 4;
          p10`2 <= p2`2 by A222,EUCLID:52;
          then p11`2 <= p2`2 by A247,TOPREAL1:4;
          then p11`2 = p2`2 by A222,Lm11,XXREAL_0:1;
          then p2 = |[p11`1,p11`2]| by A222,Lm10,EUCLID:53
            .= p11 by EUCLID:53;
          hence contradiction by A246;
        end;
        then
A248:   {p11} <> LSeg(p10,p2) /\ L2 by ZFMISC_1:31;
        LSeg(p10,p2) /\ L2 c= L4 /\ L2 by A240,XBOOLE_1:27;
        then
A249:   LSeg(p10,p2) /\ L2 = {} by A248,TOPREAL1:18,ZFMISC_1:33;
        now
          assume p10 in L3 /\ LSeg(p11,p2);
          then
A250:     p10 in LSeg(p2,p11) by XBOOLE_0:def 4;
          p2`2 <= p11`2 by A222,EUCLID:52;
          then p2`2 = p10`2 by A222,A250,Lm9,TOPREAL1:4;
          then p2 = |[p10`1,p10`2]| by A222,Lm8,EUCLID:53
            .= p10 by EUCLID:53;
          hence contradiction by A246;
        end;
        then
A251:   L3 /\ LSeg(p11,p2) <> {p10} by ZFMISC_1:31;
        L3 /\ LSeg(p11,p2) c= {p10} by A234,TOPREAL1:16,XBOOLE_1:27;
        then L3 /\ LSeg(p11,p2) = {} by A251,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ (LSeg(p1,p00) /\ L2) \/ (L3 /\ LSeg(p1,p01))
        \/ {p2} by A242,A249;
      end;
    end;
    now
      per cases;
      suppose
A252:   p1 = p01;
        then L3 /\ LSeg(p1,p01) = L3 /\ {p01} by RLTOPSP1:70
          .= {} by Lm1,Lm14;
        hence thesis by A243,A252,ENUMSET1:1,TOPREAL1:15;
      end;
      suppose
A253:   p1 <> p01 & p1 <> p00;
        now
          assume p01 in LSeg(p1,p00) /\ L2;
          then
A254:     p01 in LSeg(p00,p1) by XBOOLE_0:def 4;
          p00`2 <= p1`2 by A15,A18,EUCLID:52;
          then p01`2 <= p1`2 by A254,TOPREAL1:4;
          then p1`2 = p01`2 by A15,A17,Lm7,XXREAL_0:1;
          then p1 = |[p01`1,p01`2]| by A15,A16,Lm6,EUCLID:53
            .= p01 by EUCLID:53;
          hence contradiction by A253;
        end;
        then
A255:   {p01} <> LSeg(p1,p00) /\ L2 by ZFMISC_1:31;
        LSeg(p1,p00) /\ L2 c= {p01} by A4,TOPREAL1:15,XBOOLE_1:27;
        then
A256:   LSeg(p1,p00) /\ L2 = {} by A255,ZFMISC_1:33;
        now
          assume p00 in L3 /\ LSeg(p1,p01);
          then p00 in LSeg(p1,p01) by XBOOLE_0:def 4;
          then p1`2 = p00`2 by A15,A17,A18,Lm5,Lm7,TOPREAL1:4;
          then p1 = |[p00`1,p00`2]| by A15,A16,Lm4,EUCLID:53
            .= p00 by EUCLID:53;
          hence contradiction by A253;
        end;
        then
A257:   {p00} <> L3 /\ LSeg(p1,p01) by ZFMISC_1:31;
        L3 /\ LSeg(p1,p01) c= L3 /\ L1 by A13,XBOOLE_1:27;
        then L3 /\ LSeg(p1,p01) = {} by A257,TOPREAL1:17,ZFMISC_1:33;
        hence thesis by A243,A256,ENUMSET1:1;
      end;
      suppose
A258:   p1 = p00;
        then LSeg(p1,p00) /\ L2 = {p00} /\ L2 by RLTOPSP1:70
          .= {} by Lm1,Lm13;
        hence thesis by A243,A258,ENUMSET1:1,TOPREAL1:17;
      end;
    end;
    hence thesis;
  end;
end;

Lm31: p1 <> p2 & p2 in R^2-unit_square & p1 in LSeg(p01, p11) implies ex P1,P2
being non empty Subset of TOP-REAL 2 st P1 is_an_arc_of p1,p2 & P2 is_an_arc_of
p1,p2 & R^2-unit_square = P1 \/ P2 & P1 /\ P2 = {p1,p2}
proof
  assume that
A1: p1 <> p2 and
A2: p2 in R^2-unit_square and
A3: p1 in LSeg(p01, p11);
A4: p2 in L1 \/ L2 or p2 in L3 \/ L4 by A2,TOPREAL1:def 2,XBOOLE_0:def 3;
A5: LSeg(p01,p1) /\ L1 c= L2 /\ L1 by A3,Lm23,TOPREAL1:6,XBOOLE_1:26;
  p11 in LSeg(p1,p11) by RLTOPSP1:68;
  then
A6: LSeg(p1,p11) /\ L4 <> {} by Lm27,XBOOLE_0:def 4;
  p01 in LSeg(p01,p1) by RLTOPSP1:68;
  then
A7: LSeg(p01,p1) /\ L1 <> {} by Lm22,XBOOLE_0:def 4;
A8: LSeg(p1,p11) c= L2 by A3,Lm26,TOPREAL1:6;
  then
A9: LSeg(p1,p11) /\ L3 = {} by Lm2,XBOOLE_1:3,26;
A10: LSeg(p1,p11) /\ L4 c= {p11} by A3,Lm26,TOPREAL1:6,18,XBOOLE_1:26;
A11: LSeg(p01,p1) c= L2 by A3,Lm23,TOPREAL1:6;
  then
A12: LSeg(p1,p01) /\ L3 = {} by Lm2,XBOOLE_1:3,26;
  consider q1 such that
A13: q1 = p1 and
A14: q1`1 <= 1 and
A15: q1`1 >= 0 and
A16: q1`2 = 1 by A3,TOPREAL1:13;
  per cases by A4,XBOOLE_0:def 3;
  suppose
A17: p2 in L1;
    then
A18: LSeg(p01,p2) c= L1 by Lm22,TOPREAL1:6;
    LSeg(p1,p01) c= L2 by A3,Lm23,TOPREAL1:6;
    then
A19: LSeg(p1,p01) /\ LSeg(p01,p2) c= L2 /\ L1 by A18,XBOOLE_1:27;
    take P1 = LSeg(p1,p01) \/ LSeg(p01,p2),P2 = LSeg(p1,p11) \/ (L3 \/ L4 \/
    LSeg(p00,p2));
A20: p01 in LSeg(p01,p2) by RLTOPSP1:68;
    p00 in LSeg(p00,p2) by RLTOPSP1:68;
    then
A21: {} <> L3 /\ LSeg(p00,p2) by Lm21,XBOOLE_0:def 4;
    p01 in LSeg(p1,p01) by RLTOPSP1:68;
    then LSeg(p1,p01) /\ LSeg(p01,p2) <> {} by A20,XBOOLE_0:def 4;
    then
A22: LSeg(p1,p01) /\ LSeg(p01,p2) = {p01} by A19,TOPREAL1:15,ZFMISC_1:33;
    p1 <> p01 or p2 <> p01 by A1;
    hence P1 is_an_arc_of p1,p2 by A22,TOPREAL1:12;
A23: LSeg(p1,p01) \/ LSeg(p1,p11) = L2 by A3,TOPREAL1:5;
A24: L4 is_an_arc_of p11,p10 by Lm9,Lm11,TOPREAL1:9;
    L3 is_an_arc_of p10,p00 by Lm4,Lm8,TOPREAL1:9;
    then
A25: L3 \/ L4 is_an_arc_of p11,p00 by A24,TOPREAL1:2,16;
A26: L3 /\ LSeg(p00,p2) c= {p00} by A17,Lm20,TOPREAL1:6,17,XBOOLE_1:26;
A27: LSeg(p00,p2) \/ LSeg(p01,p2) = L1 by A17,TOPREAL1:5;
A28: LSeg(p01,p2) /\ LSeg(p00,p2) = {p2} by A17,TOPREAL1:8;
A29: LSeg(p00,p2) c= L1 by A17,Lm20,TOPREAL1:6;
    then
A30: L4 /\ LSeg(p00,p2) = {} by Lm3,XBOOLE_1:3,27;
A31: ex q2 st q2 = p2 & q2`1 = 0 & q2`2 <= 1 & q2`2 >= 0 by A17,TOPREAL1:13;
A32: now
A33:  p00`2 <= p2`2 by A31,EUCLID:52;
      assume
A34:  p01 in LSeg(p1,p11) /\ LSeg(p00,p2);
      then
A35:  p01 in LSeg(p1,p11) by XBOOLE_0:def 4;
      p01 in LSeg(p00,p2) by A34,XBOOLE_0:def 4;
      then p01`2 <= p2`2 by A33,TOPREAL1:4;
      then
A36:  p01`2 = p2`2 by A31,Lm7,XXREAL_0:1;
      p1`1 <= p11`1 by A13,A14,EUCLID:52;
      then p01`1 = p1`1 by A13,A15,A35,Lm6,TOPREAL1:3;
      then p1 = |[p01`1,p01`2]| by A13,A16,Lm7,EUCLID:53
        .= p2 by A31,A36,Lm6,EUCLID:53;
      hence contradiction by A1;
    end;
    (L3 \/ L4) /\ LSeg(p00,p2) = (L3 /\ LSeg(p00,p2)) \/ (L4 /\ LSeg(p00,
    p2)) by XBOOLE_1:23
      .= {p00} by A26,A21,A30,ZFMISC_1:33;
    then
A37: L3 \/ L4 \/ LSeg(p00,p2) is_an_arc_of p11,p2 by A25,TOPREAL1:10;
    LSeg(p1,p11) /\ LSeg(p00,p2) c= L2 /\ L1 by A8,A29,XBOOLE_1:27;
    then
A38: LSeg(p1,p11) /\ LSeg(p00,p2) = {p01} or LSeg(p1,p11) /\ LSeg(p00,p2)
    = {} by TOPREAL1:15,ZFMISC_1:33;
A39: LSeg(p2,p01) c= L1 by A17,Lm22,TOPREAL1:6;
    then
A40: LSeg(p01,p2) /\ L4 = {} by Lm3,XBOOLE_1:3,27;
    LSeg(p1,p11) /\ (L3 \/ L4 \/ LSeg(p00,p2)) = (LSeg(p1,p11) /\ (L3 \/
    L4)) \/ (LSeg(p1,p11) /\ LSeg(p00,p2)) by XBOOLE_1:23
      .= (LSeg(p1,p11) /\ L3) \/ (LSeg(p1,p11) /\ L4) by A38,A32,XBOOLE_1:23
,ZFMISC_1:31
      .= {p11} by A9,A6,A10,ZFMISC_1:33;
    hence P2 is_an_arc_of p1,p2 by A37,TOPREAL1:11;
    thus P1 \/ P2 = LSeg(p01,p2) \/ (LSeg(p1,p01) \/ (LSeg(p1,p11) \/ (L3 \/
    L4 \/ LSeg(p00,p2)))) by XBOOLE_1:4
      .= LSeg(p01,p2) \/ (L2 \/ (L3 \/ L4 \/ LSeg(p00,p2))) by A23,XBOOLE_1:4
      .= LSeg(p01,p2) \/ (L2 \/ (L3 \/ L4) \/ LSeg(p00,p2)) by XBOOLE_1:4
      .= LSeg(p00,p2) \/ LSeg(p01,p2) \/ (L2 \/ (L3 \/ L4)) by XBOOLE_1:4
      .= R^2-unit_square by A27,TOPREAL1:def 2,XBOOLE_1:4;
A41: {p1} = LSeg(p1,p01) /\ LSeg(p1,p11) by A3,TOPREAL1:8;
A42: P1 /\ P2 = (LSeg(p1,p01) /\ (LSeg(p1,p11) \/ (L3 \/ L4 \/ LSeg(p00,p2
    )))) \/ (LSeg(p01,p2) /\ (LSeg(p1,p11) \/ (L3 \/ L4 \/ LSeg(p00,p2)))) by
XBOOLE_1:23
      .= (LSeg(p1,p01) /\ LSeg(p1,p11)) \/ (LSeg(p1,p01) /\ (L3 \/ L4 \/
LSeg(p00,p2))) \/ (LSeg(p01,p2) /\ (LSeg(p1,p11) \/ (L3 \/ L4 \/ LSeg(p00,p2)))
    ) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p01) /\ (L3 \/ L4)) \/ (LSeg(p1,p01) /\ LSeg(p00,
p2))) \/ (LSeg(p01,p2) /\ (LSeg(p1,p11) \/ (L3 \/ L4 \/ LSeg(p00,p2)))) by A41,
XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p01) /\ L3) \/ (LSeg(p1,p01) /\ L4) \/ (LSeg(p1,
p01) /\ LSeg(p00,p2))) \/ (LSeg(p01,p2) /\ (LSeg(p1,p11) \/ (L3 \/ L4 \/ LSeg(
    p00,p2)))) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p01) /\ L3) \/ (LSeg(p1,p01) /\ L4) \/ (LSeg(p1,
p01) /\ LSeg(p00,p2))) \/ ((LSeg(p01,p2) /\ LSeg(p1,p11)) \/ (LSeg(p01,p2) /\ (
    L3 \/ L4 \/ LSeg(p00,p2)))) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p01) /\ L4) \/ (LSeg(p1,p01) /\ LSeg(p00,p2))) \/
((LSeg(p01,p2) /\ LSeg(p1,p11)) \/ ((LSeg(p01,p2) /\ (L3 \/ L4)) \/ {p2})) by
A12,A28,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p01) /\ L4) \/ (LSeg(p1,p01) /\ LSeg(p00,p2))) \/
((LSeg(p01,p2) /\ LSeg(p1,p11)) \/ ((LSeg(p01,p2) /\ L3) \/ (LSeg(p01,p2) /\ L4
    ) \/ {p2})) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p01) /\ L4) \/ (LSeg(p1,p01) /\ LSeg(p00,p2))) \/
    ((LSeg(p01,p2) /\ LSeg(p1,p11)) \/ ((LSeg(p01,p2) /\ L3) \/ {p2})) by A40;
A43: now
      per cases;
      suppose
A44:    p1 = p01;
        then p1 in LSeg(p01,p2) by RLTOPSP1:68;
        then
A45:    LSeg(p01,p2) /\ LSeg(p1,p11) <> {} by A44,Lm23,XBOOLE_0:def 4;
        LSeg (p01,p2) /\ LSeg(p1,p11) c= {p1} by A39,A44,TOPREAL1:15
,XBOOLE_1:27;
        then
A46:    LSeg(p01,p2) /\ LSeg(p1,p11) = {p1} by A45,ZFMISC_1:33;
        LSeg(p1,p01) /\ L4 = {p1} /\ L4 by A44,RLTOPSP1:70;
        then LSeg(p1,p01) /\ L4 = {} by A44,Lm1,Lm15;
        hence
        P1 /\ P2 = {p1} \/ ({p1} \/ (LSeg(p1,p01) /\ LSeg(p00,p2))) \/ ((
        LSeg(p01,p2) /\ L3) \/ {p2}) by A42,A46,XBOOLE_1:4
          .= {p1} \/ {p1} \/ (LSeg(p1,p01) /\ LSeg(p00,p2)) \/ ((LSeg(p01,p2
        ) /\ L3) \/ {p2}) by XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p01) /\ LSeg(p00,p2)) \/ ((LSeg(p01,p2) /\ L3)
        \/ {p2});
      end;
      suppose
A47:    p1 = p11;
        then
A48:    LSeg(p01,p2) /\ LSeg(p1,p11) = LSeg(p01,p2) /\ {p1} by RLTOPSP1:70;
        not p1 in LSeg(p01,p2) by A31,A47,Lm6,Lm10,TOPREAL1:3;
        then LSeg(p01,p2) /\ LSeg(p1,p11) = {} by A48,Lm1;
        hence P1 /\ P2 = {p1} \/ {p1} \/ (LSeg(p1,p01) /\ LSeg(p00,p2)) \/ ((
        LSeg(p01,p2) /\ L3) \/ {p2}) by A42,A47,TOPREAL1:18,XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p01) /\ LSeg(p00,p2)) \/ ((LSeg(p01,p2) /\ L3)
        \/ {p2});
      end;
      suppose
A49:    p1 <> p11 & p1 <> p01;
        now
          assume p01 in LSeg(p01,p2) /\ LSeg(p1,p11);
          then
A50:      p01 in LSeg(p1,p11) by XBOOLE_0:def 4;
          p1`1 <= p11`1 by A13,A14,EUCLID:52;
          then p1`1 = 0 by A13,A15,A50,Lm6,TOPREAL1:3;
          hence contradiction by A13,A16,A49,EUCLID:53;
        end;
        then
A51:    {p01} <> LSeg(p01,p2) /\ LSeg(p1,p11) by ZFMISC_1:31;
        LSeg (p01,p2) /\ LSeg(p1,p11) c= {p01} by A8,A39,TOPREAL1:15
,XBOOLE_1:27;
        then
A52:    LSeg(p01,p2) /\ LSeg(p1,p11) = {} by A51,ZFMISC_1:33;
        now
          assume p11 in LSeg(p1,p01) /\ L4;
          then
A53:      p11 in LSeg(p01,p1) by XBOOLE_0:def 4;
          p01`1 <= p1`1 by A13,A15,EUCLID:52;
          then p11`1 <= p1`1 by A53,TOPREAL1:3;
          then p1`1 = 1 by A13,A14,Lm10,XXREAL_0:1;
          hence contradiction by A13,A16,A49,EUCLID:53;
        end;
        then
A54:    {p11} <> LSeg(p1,p01) /\ L4 by ZFMISC_1:31;
        LSeg(p1,p01) /\ L4 c= {p11} by A11,TOPREAL1:18,XBOOLE_1:27;
        then LSeg(p1,p01) /\ L4 = {} by A54,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ (LSeg(p1,p01) /\ LSeg(p00,p2)) \/ ((LSeg(p01,
        p2) /\ L3) \/ {p2}) by A42,A52;
      end;
    end;
    now
      per cases;
      suppose
A55:    p2 <> p00 & p2 <> p01;
        now
          assume p01 in LSeg(p1,p01) /\ LSeg(p00,p2);
          then
A56:      p01 in LSeg(p00,p2) by XBOOLE_0:def 4;
          p00`2 <= p2`2 by A31,EUCLID:52;
          then p01`2 <= p2`2 by A56,TOPREAL1:4;
          then p2`2 = 1 by A31,Lm7,XXREAL_0:1;
          hence contradiction by A31,A55,EUCLID:53;
        end;
        then
A57:    {p01} <> LSeg(p1,p01) /\ LSeg(p00,p2) by ZFMISC_1:31;
        LSeg(p1,p01) /\ LSeg(p00,p2) c= L2 /\ L1 by A11,A29,XBOOLE_1:27;
        then
A58:    LSeg(p1,p01) /\ LSeg(p00,p2) = {} by A57,TOPREAL1:15,ZFMISC_1:33;
        now
          assume p00 in LSeg(p01,p2) /\ L3;
          then
A59:      p00 in LSeg(p2,p01) by XBOOLE_0:def 4;
          p2`2 <= p01`2 by A31,EUCLID:52;
          then 0 = p2`2 by A31,A59,Lm5,TOPREAL1:4;
          hence contradiction by A31,A55,EUCLID:53;
        end;
        then
A60:    {p00} <> LSeg(p01,p2) /\ L3 by ZFMISC_1:31;
        LSeg(p01,p2) /\ L3 c= {p00} by A39,TOPREAL1:17,XBOOLE_1:27;
        then LSeg(p01,p2) /\ L3 = {} by A60,ZFMISC_1:33;
        hence thesis by A43,A58,ENUMSET1:1;
      end;
      suppose
A61:    p2 = p00;
        then
A62:    LSeg(p1,p01) /\ LSeg(p00,p2) = LSeg(p1,p01) /\ {p00} by RLTOPSP1:70;
        not p00 in LSeg(p1,p01) by A11,Lm5,Lm7,Lm11,TOPREAL1:4;
        then LSeg(p1,p01) /\ LSeg(p00,p2) = {} by A62,Lm1;
        hence thesis by A43,A61,ENUMSET1:1,TOPREAL1:17;
      end;
      suppose
A63:    p2 = p01;
        then p2 in LSeg(p1,p01) by RLTOPSP1:68;
        then
A64:    {} <> LSeg(p1,p01) /\ LSeg(p00,p2) by A63,Lm22,XBOOLE_0:def 4;
        LSeg(p01,p2) /\ L3 = {p01} /\ L3 by A63,RLTOPSP1:70;
        then
A65:    LSeg(p01,p2) /\ L3 = {} by Lm1,Lm14;
        LSeg(p1,p01) /\ LSeg(p00,p2) c= L2 /\ L1 by A11,A29,XBOOLE_1:27;
        then LSeg(p1,p01) /\ LSeg(p00,p2) = {p2} by A63,A64,TOPREAL1:15
,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ ({p2} \/ {p2}) by A43,A65,XBOOLE_1:4
          .= {p1,p2} by ENUMSET1:1;
      end;
    end;
    hence thesis;
  end;
  suppose
A66: p2 in L2;
A67: q1 = |[q1`1,q1`2]| by EUCLID:53;
A68: LSeg(p1,p2) c= L2 by A3,A66,TOPREAL1:6;
    consider q such that
A69: q = p2 and
A70: q`1 <= 1 and
A71: q`1 >= 0 and
A72: q`2 = 1 by A66,TOPREAL1:13;
A73: q = |[q`1,q`2]| by EUCLID:53;
    now
      per cases by A1,A13,A16,A69,A72,A67,A73,XXREAL_0:1;
      suppose
A74:    q1`1 < q`1;
A75:    LSeg(p1,p2) /\ LSeg(p11,p2) c= {p2}
        proof
          let a;
          assume
A76:      a in LSeg(p1,p2) /\ LSeg(p11,p2);
          then reconsider p = a as Point of TOP-REAL 2;
A77:      p in LSeg(p2,p11) by A76,XBOOLE_0:def 4;
          p2`1 <= p11`1 by A69,A70,EUCLID:52;
          then
A78:      p2`1 <= p`1 by A77,TOPREAL1:3;
A79:      p in LSeg(p1,p2) by A76,XBOOLE_0:def 4;
          then
A80:      p`2 <= p2`2 by A13,A16,A69,A72,TOPREAL1:4;
          p`1 <= p2`1 by A13,A69,A74,A79,TOPREAL1:3;
          then
A81:      p2`1 = p`1 by A78,XXREAL_0:1;
          p1`2 <= p`2 by A13,A16,A69,A72,A79,TOPREAL1:4;
          then p`2 = 1 by A13,A16,A69,A72,A80,XXREAL_0:1;
          then p = |[ p2`1, 1]| by A81,EUCLID:53
            .= p2 by A69,A72,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
        L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
        then
A82:    LSeg(p1,p01) /\ L3 = {} by A11,XBOOLE_1:3,26;
A83:    now
          set a = the Element of LSeg(p1,p01) /\ LSeg(p11,p2);
          assume
A84:      LSeg(p1,p01) /\ LSeg(p11,p2) <> {};
          then reconsider p = a as Point of TOP-REAL 2 by TARSKI:def 3;
A85:      p in LSeg(p01,p1) by A84,XBOOLE_0:def 4;
A86:      p in LSeg(p2,p11) by A84,XBOOLE_0:def 4;
          p2`1 <= p11 `1 by A69,A70,EUCLID:52;
          then
A87:      p2`1 <= p`1 by A86,TOPREAL1:3;
          p01`1 <= p1`1 by A13,A15,EUCLID:52;
          then p`1 <= p1`1 by A85,TOPREAL1:3;
          hence contradiction by A13,A69,A74,A87,XXREAL_0:2;
        end;
A88:    (L1 \/ L3) /\ L4 = L1 /\ L4 \/ L3 /\ L4 by XBOOLE_1:23
          .= {p10} by Lm3,TOPREAL1:16;
        L1 \/ L3 is_an_arc_of p01,p10 by Lm5,Lm7,TOPREAL1:9,10,17;
        then
A89:    L1 \/ L3 \/ L4 is_an_arc_of p01,p11 by A88,TOPREAL1:10;
A90:    LSeg(p1,p2) /\ LSeg(p1,p01) c= {p1}
        proof
          let a;
          assume
A91:      a in LSeg(p1,p2) /\ LSeg(p1,p01);
          then reconsider p = a as Point of TOP-REAL 2;
A92:      p in LSeg(p01,p1) by A91,XBOOLE_0:def 4;
          p01`1 <= p1`1 by A13,A15,EUCLID:52;
          then
A93:      p`1 <= p1`1 by A92,TOPREAL1:3;
A94:      p in LSeg(p1,p2) by A91,XBOOLE_0:def 4;
          then
A95:      p`2 <= p2`2 by A13,A16,A69,A72,TOPREAL1:4;
          p1`1 <= p`1 by A13,A69,A74,A94,TOPREAL1:3;
          then
A96:      p1`1 = p`1 by A93,XXREAL_0:1;
          p1`2 <= p`2 by A13,A16,A69,A72,A94,TOPREAL1:4;
          then p`2 = 1 by A13,A16,A69,A72,A95,XXREAL_0:1;
          then p = |[p1`1, 1]| by A96,EUCLID:53
            .= p1 by A13,A16,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
A97:    LSeg(p1,p2) /\ L1 c= L2 /\ L1 by A3,A66,TOPREAL1:6,XBOOLE_1:26;
        now
          assume p11 in LSeg(p1,p01) /\ L4;
          then
A98:      p11 in LSeg(p01,p1) by XBOOLE_0:def 4;
          p01`1 <= p1`1 by A13,A15,EUCLID:52;
          then p11`1 <= p1`1 by A98,TOPREAL1:3;
          hence contradiction by A13,A14,A70,A74,Lm10,XXREAL_0:1;
        end;
        then
A99:    {p11} <> LSeg(p1,p01) /\ L4 by ZFMISC_1:31;
        LSeg(p1,p01) /\ L4 c= {p11} by A3,Lm23,TOPREAL1:6,18,XBOOLE_1:26;
        then
A100:   LSeg(p1,p01) /\ L4 = {} by A99,ZFMISC_1:33;
        p01 in LSeg(p1,p01) by RLTOPSP1:68;
        then
A101:   LSeg(p1,p01) /\ L1 <> {} by Lm22,XBOOLE_0:def 4;
        now
          assume p01 in L1 /\ LSeg(p11,p2);
          then
A102:     p01 in LSeg(p2,p11) by XBOOLE_0:def 4;
          p2`1 <= p11`1 by A69,A70,EUCLID:52;
          hence contradiction by A15,A69,A74,A102,Lm6,TOPREAL1:3;
        end;
        then
A103:   {p01} <> L1 /\ LSeg(p11,p2) by ZFMISC_1:31;
        L1 /\ LSeg(p11,p2) c= {p01} by A66,Lm26,TOPREAL1:6,15,XBOOLE_1:26;
        then
A104:   L1 /\ LSeg(p11,p2) = {} by A103,ZFMISC_1:33;
        take P1 = LSeg(p1,p2),P2 = LSeg(p1,p01) \/ (L1 \/ L3 \/ L4 \/ LSeg(p11
        ,p2));
A105:   p1 in LSeg(p1,p01) by RLTOPSP1:68;
A106:   LSeg(p1,p01) /\ L1 c= L2 /\ L1 by A3,Lm23,TOPREAL1:6,XBOOLE_1:26;
        p11 in LSeg(p11,p2) by RLTOPSP1:68;
        then
A107:   L4 /\ LSeg(p11,p2) <> {} by Lm27,XBOOLE_0:def 4;
        L4 /\ LSeg(p11,p2) c= L4 /\ L2 by A66,Lm26,TOPREAL1:6,XBOOLE_1:26;
        then
A108:   L4 /\ LSeg(p11,p2) = {p11} by A107,TOPREAL1:18,ZFMISC_1:33;
        thus P1 is_an_arc_of p1,p2 by A1,TOPREAL1:9;
A109:   L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
        L3 /\ LSeg(p11,p2) c= L3 /\ L2 by A66,Lm26,TOPREAL1:6,XBOOLE_1:26;
        then
A110:   L3 /\ LSeg(p11,p2) = {} by A109,XBOOLE_1:3;
        (L1 \/ L3 \/ L4) /\ LSeg(p11,p2) = (L1 \/ L3) /\ LSeg(p11,p2) \/
        L4 /\ LSeg(p11,p2) by XBOOLE_1:23
          .= (L1 /\ LSeg(p11,p2)) \/ (L3 /\ LSeg(p11,p2)) \/ {p11} by A108,
XBOOLE_1:23
          .= {p11} by A104,A110;
        then
A111:   L1 \/ L3 \/ L4 \/ LSeg(p11,p2) is_an_arc_of p01,p2 by A89,TOPREAL1:10;
        LSeg(p1,p01) /\ (L1 \/ L3 \/ L4 \/ LSeg(p11,p2)) = LSeg(p1,p01)
        /\ (L1 \/ L3 \/ L4) \/ (LSeg(p1,p01) /\ LSeg(p11,p2)) by XBOOLE_1:23
          .= LSeg(p1,p01) /\ (L1 \/ L3) \/ (LSeg(p1,p01) /\ L4) by A83,
XBOOLE_1:23
          .= LSeg(p1,p01) /\ L1 \/ (LSeg(p1,p01) /\ L3) by A100,XBOOLE_1:23
          .= {p01} by A82,A106,A101,TOPREAL1:15,ZFMISC_1:33;
        hence P2 is_an_arc_of p1,p2 by A111,TOPREAL1:11;
        thus P1 \/ P2 = LSeg(p01,p1) \/ LSeg(p1,p2) \/ (L1 \/ L3 \/ L4 \/ LSeg
        (p11,p2)) by XBOOLE_1:4
          .= LSeg(p01,p1) \/ LSeg(p1,p2) \/ LSeg(p2,p11) \/ (L1 \/ L3 \/ L4)
        by XBOOLE_1:4
          .= L2 \/ (L1 \/ L3 \/ L4) by A3,A66,TOPREAL1:7
          .= L2 \/ (L1 \/ (L3 \/ L4)) by XBOOLE_1:4
          .= R^2-unit_square by TOPREAL1:def 2,XBOOLE_1:4;
A112:   p2 in LSeg(p11,p2) by RLTOPSP1:68;
        p2 in LSeg(p1,p2) by RLTOPSP1:68;
        then p2 in LSeg(p1,p2) /\ LSeg(p11,p2) by A112,XBOOLE_0:def 4;
        then {p2} c= LSeg(p1,p2) /\ LSeg(p11,p2) by ZFMISC_1:31;
        then
A113:   LSeg(p1,p2) /\ LSeg(p11,p2) = {p2} by A75,XBOOLE_0:def 10;
        L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
        then
A114:   LSeg(p1,p2) /\ L3 = {} by A68,XBOOLE_1:3,26;
        p1 in LSeg(p1,p2) by RLTOPSP1:68;
        then p1 in LSeg(p1,p2) /\ LSeg(p1,p01) by A105,XBOOLE_0:def 4;
        then {p1} c= LSeg(p1,p2) /\ LSeg(p1,p01) by ZFMISC_1:31;
        then
A115:   LSeg(p1,p2) /\ LSeg(p1,p01) = {p1} by A90,XBOOLE_0:def 10;
A116:   P1 /\ P2 = (LSeg(p1,p2) /\ LSeg(p1,p01)) \/ (LSeg(p1,p2) /\ (L1
        \/ L3 \/ L4 \/ LSeg(p11,p2))) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ (L1 \/ L3 \/ L4)) \/ {p2}) by A115,A113,
XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ (L1 \/ L3)) \/ (LSeg(p1,p2) /\ L4) \/
        {p2}) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ L1) \/ (LSeg(p1,p2) /\ L3) \/ (LSeg(p1
        ,p2) /\ L4) \/ {p2}) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ L1) \/ ((LSeg(p1,p2) /\ L4) \/ {p2}))
        by A114,XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p2) /\ L1) \/ ((LSeg(p1,p2) /\ L4) \/ {p2}) by
XBOOLE_1:4;
A117:   now
          per cases;
          suppose
A118:       p1 = p01;
            p1 in LSeg(p1,p2) by RLTOPSP1:68;
            then LSeg(p1,p2) /\ L1 <> {} by A118,Lm22,XBOOLE_0:def 4;
            then LSeg(p1,p2) /\ L1 = {p1} by A97,A118,TOPREAL1:15,ZFMISC_1:33;
            hence P1 /\ P2 = {p1} \/ ((LSeg(p1,p2) /\ L4) \/ {p2}) by A116;
          end;
          suppose
A119:       p1 <> p01;
            now
              assume p01 in LSeg(p1,p2) /\ L1;
              then p01 in LSeg(p1,p2) by XBOOLE_0:def 4;
              then p1`1 = 0 by A13,A15,A69,A74,Lm6,TOPREAL1:3;
              hence contradiction by A13,A16,A119,EUCLID:53;
            end;
            then {p01} <> LSeg(p1,p2) /\ L1 by ZFMISC_1:31;
            then LSeg(p1,p2) /\ L1 = {} by A97,TOPREAL1:15,ZFMISC_1:33;
            hence P1 /\ P2 = {p1} \/ ((LSeg(p1,p2) /\ L4) \/ {p2}) by A116;
          end;
        end;
A120:   LSeg(p1,p2) /\ L4 c= {p11} by A3,A66,TOPREAL1:6,18,XBOOLE_1:26;
        now
          per cases;
          suppose
A121:       p2 = p11;
            p2 in LSeg(p1,p2) by RLTOPSP1:68;
            then LSeg(p1,p2) /\ L4 <> {} by A121,Lm27,XBOOLE_0:def 4;
            then LSeg(p1,p2) /\ L4 = {p2} by A120,A121,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A117,ENUMSET1:1;
          end;
          suppose
A122:       p2 <> p11;
            now
              assume p11 in LSeg(p1,p2) /\ L4;
              then p11 in LSeg(p1,p2) by XBOOLE_0:def 4;
              then p11`1 <= p2`1 by A13,A69,A74,TOPREAL1:3;
              then p2`1 = 1 by A69,A70,Lm10,XXREAL_0:1;
              hence contradiction by A69,A72,A122,EUCLID:53;
            end;
            then {p11} <> LSeg(p1,p2) /\ L4 by ZFMISC_1:31;
            then LSeg(p1,p2) /\ L4 = {} by A120,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A117,ENUMSET1:1;
          end;
        end;
        hence P1 /\ P2 = {p1,p2};
      end;
      suppose
A123:   q`1 < q1`1;
A124:   LSeg(p1,p2) /\ LSeg(p01,p2) c= {p2}
        proof
          let a;
          assume
A125:     a in LSeg(p1,p2) /\ LSeg(p01,p2);
          then reconsider p = a as Point of TOP-REAL 2;
A126:     p in LSeg(p01,p2) by A125,XBOOLE_0:def 4;
          p01`1 <= p2`1 by A69,A71,EUCLID:52;
          then
A127:     p`1 <= p2`1 by A126,TOPREAL1:3;
A128:     p in LSeg(p2,p1) by A125,XBOOLE_0:def 4;
          then
A129:     p`2 <= p1`2 by A13,A16,A69,A72,TOPREAL1:4;
          p2`1 <= p`1 by A13,A69,A123,A128,TOPREAL1:3;
          then
A130:     p2`1 = p`1 by A127,XXREAL_0:1;
          p2`2 <= p`2 by A13,A16,A69,A72,A128,TOPREAL1:4;
          then p`2 = 1 by A13,A16,A69,A72,A129,XXREAL_0:1;
          then p = |[ p2`1, 1]| by A130,EUCLID:53
            .= p2 by A69,A72,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
        L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
        then
A131:   LSeg(p1,p11) /\ L3 = {} by A8,XBOOLE_1:3,26;
A132:   now
          set a = the Element of LSeg(p1,p11) /\ LSeg(p01,p2);
          assume
A133:     LSeg(p1,p11) /\ LSeg(p01,p2) <> {};
          then reconsider p = a as Point of TOP-REAL 2 by TARSKI:def 3;
A134:     p in LSeg(p1,p11) by A133,XBOOLE_0:def 4;
A135:     p in LSeg(p01,p2) by A133,XBOOLE_0:def 4;
          p01`1 <= p2 `1 by A69,A71,EUCLID:52;
          then
A136:     p`1 <= p2`1 by A135,TOPREAL1:3;
          p1`1 <= p11`1 by A13,A14,EUCLID:52;
          then p1`1 <= p`1 by A134,TOPREAL1:3;
          hence contradiction by A13,A69,A123,A136,XXREAL_0:2;
        end;
A137:   (L4 \/ L3) /\ L1 = L1 /\ L4 \/ L3 /\ L1 by XBOOLE_1:23
          .= {p00} by Lm3,TOPREAL1:17;
        L4 \/ L3 is_an_arc_of p11,p00 by Lm9,Lm11,TOPREAL1:9,10,16;
        then
A138:   L4 \/ L3 \/ L1 is_an_arc_of p11,p01 by A137,TOPREAL1:10;
        now
          assume p11 in L4 /\ LSeg(p01,p2);
          then
A139:     p11 in LSeg(p01,p2) by XBOOLE_0:def 4;
          p01`1 <= p2`1 by A69,A71,EUCLID:52;
          then p11`1 <= p2`1 by A139,TOPREAL1:3;
          hence contradiction by A14,A69,A70,A123,Lm10,XXREAL_0:1;
        end;
        then
A140:   {p11} <> L4 /\ LSeg(p01,p2) by ZFMISC_1:31;
        L4 /\ LSeg(p01,p2) c= L4 /\ L2 by A66,Lm23,TOPREAL1:6,XBOOLE_1:26;
        then
A141:   L4 /\ LSeg(p01,p2) = {} by A140,TOPREAL1:18,ZFMISC_1:33;
        p11 in LSeg(p1,p11) by RLTOPSP1:68;
        then
A142:   LSeg(p1,p11) /\ L4 <> {} by Lm27,XBOOLE_0:def 4;
        now
          assume p01 in LSeg(p1,p11) /\ L1;
          then
A143:     p01 in LSeg(p1,p11) by XBOOLE_0:def 4;
          p1`1 <= p11`1 by A13,A14,EUCLID:52;
          hence contradiction by A13,A71,A123,A143,Lm6,TOPREAL1:3;
        end;
        then
A144:   {p01} <> LSeg(p1,p11) /\ L1 by ZFMISC_1:31;
        LSeg(p1,p11) /\ L1 c= L2 /\ L1 by A3,Lm26,TOPREAL1:6,XBOOLE_1:26;
        then
A145:   LSeg(p1,p11) /\ L1 = {} by A144,TOPREAL1:15,ZFMISC_1:33;
        L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
        then
A146:   LSeg(p1,p2) /\ L3 = {} by A68,XBOOLE_1:3,26;
A147:   LSeg(p1,p2) /\ LSeg(p1,p11) c= {p1}
        proof
          let a;
          assume
A148:     a in LSeg(p1,p2) /\ LSeg(p1,p11);
          then reconsider p = a as Point of TOP-REAL 2;
A149:     p in LSeg(p1,p11) by A148,XBOOLE_0:def 4;
          p1`1 <= p11`1 by A13,A14,EUCLID:52;
          then
A150:     p1`1 <= p`1 by A149,TOPREAL1:3;
A151:     p in LSeg(p2,p1) by A148,XBOOLE_0:def 4;
          then
A152:     p`2 <= p1`2 by A13,A16,A69,A72,TOPREAL1:4;
          p`1 <= p1`1 by A13,A69,A123,A151,TOPREAL1:3;
          then
A153:     p1`1 = p`1 by A150,XXREAL_0:1;
          p2`2 <= p`2 by A13,A16,A69,A72,A151,TOPREAL1:4;
          then p`2 = 1 by A13,A16,A69,A72,A152,XXREAL_0:1;
          then p = |[p1`1, 1]| by A153,EUCLID:53
            .= p1 by A13,A16,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
A154:   LSeg(p1,p11) /\ L4 c= {p11} by A3,Lm26,TOPREAL1:6,18,XBOOLE_1:26;
        p01 in LSeg(p01,p2) by RLTOPSP1:68;
        then
A155:   L1 /\ LSeg(p01,p2) <> {} by Lm22,XBOOLE_0:def 4;
        L1 /\ LSeg(p01,p2) c= {p01} by A66,Lm23,TOPREAL1:6,15,XBOOLE_1:26;
        then
A156:   L1 /\ LSeg(p01,p2) = {p01} by A155,ZFMISC_1:33;
        take P1 = LSeg(p1,p2),P2 = LSeg(p1,p11) \/ (L4 \/ L3 \/ L1 \/ LSeg(p01
        ,p2));
A157:   p1 in LSeg(p1,p11) by RLTOPSP1:68;
        thus P1 is_an_arc_of p1,p2 by A1,TOPREAL1:9;
A158:   L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
        L3 /\ LSeg(p01,p2) c= L3 /\ L2 by A66,Lm23,TOPREAL1:6,XBOOLE_1:26;
        then
A159:   L3 /\ LSeg(p01,p2) = {} by A158,XBOOLE_1:3;
        (L4 \/ L3 \/ L1) /\ LSeg(p01,p2) = (L4 \/ L3) /\ LSeg(p01,p2) \/
        L1 /\ LSeg(p01,p2) by XBOOLE_1:23
          .= (L4 /\ LSeg(p01,p2)) \/ (L3 /\ LSeg(p01,p2)) \/ {p01} by A156,
XBOOLE_1:23
          .= {p01} by A141,A159;
        then
A160:   L4 \/ L3 \/ L1 \/ LSeg(p01,p2) is_an_arc_of p11,p2 by A138,TOPREAL1:10;
        LSeg(p1,p11) /\ (L4 \/ L3 \/ L1 \/ LSeg(p01,p2)) = LSeg(p1,p11)
        /\ (L4 \/ L3 \/ L1) \/ (LSeg(p1,p11) /\ LSeg(p01,p2)) by XBOOLE_1:23
          .= LSeg(p1,p11) /\ (L4 \/ L3) \/ (LSeg(p1,p11) /\ L1) by A132,
XBOOLE_1:23
          .= LSeg(p1,p11) /\ L4 \/ (LSeg(p1,p11) /\ L3) by A145,XBOOLE_1:23
          .= {p11} by A131,A154,A142,ZFMISC_1:33;
        hence P2 is_an_arc_of p1,p2 by A160,TOPREAL1:11;
        thus P1 \/ P2 = LSeg(p2,p1) \/ LSeg(p1,p11) \/ (L4 \/ L3 \/ L1 \/ LSeg
        (p01,p2)) by XBOOLE_1:4
          .= LSeg(p01,p2) \/ (LSeg(p2,p1) \/ LSeg(p1,p11)) \/ (L4 \/ L3 \/
        L1) by XBOOLE_1:4
          .= L2 \/ (L4 \/ L3 \/ L1) by A3,A66,TOPREAL1:7
          .= R^2-unit_square by TOPREAL1:def 2,XBOOLE_1:4;
A161:   p2 in LSeg(p01,p2) by RLTOPSP1:68;
        p2 in LSeg(p1,p2) by RLTOPSP1:68;
        then p2 in LSeg(p1,p2) /\ LSeg(p01,p2) by A161,XBOOLE_0:def 4;
        then {p2} c= LSeg(p1,p2) /\ LSeg(p01,p2) by ZFMISC_1:31;
        then
A162:   LSeg(p1,p2) /\ LSeg(p01,p2) = {p2} by A124,XBOOLE_0:def 10;
        p1 in LSeg(p1,p2) by RLTOPSP1:68;
        then p1 in LSeg(p1,p2) /\ LSeg(p1,p11) by A157,XBOOLE_0:def 4;
        then {p1} c= LSeg(p1,p2) /\ LSeg(p1,p11) by ZFMISC_1:31;
        then LSeg(p1,p2) /\ LSeg(p1,p11) = {p1} by A147,XBOOLE_0:def 10;
        then
A163:   P1 /\ P2 = {p1} \/ LSeg(p1,p2) /\ (L4 \/ L3 \/ L1 \/ LSeg(p01,p2
        )) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ (L4 \/ L3 \/ L1)) \/ {p2}) by A162,
XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ (L4 \/ L3)) \/ (LSeg(p1,p2) /\ L1) \/
        {p2}) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ L4) \/ (LSeg(p1,p2) /\ L3) \/ (LSeg(p1
        ,p2) /\ L1) \/ {p2}) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ L4) \/ ((LSeg(p1,p2) /\ L1) \/ {p2}))
        by A146,XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p2) /\ L4) \/ ((LSeg(p1,p2) /\ L1) \/ {p2}) by
XBOOLE_1:4;
A164:   LSeg(p1,p2) /\ L1 c= L2 /\ L1 by A3,A66,TOPREAL1:6,XBOOLE_1:26;
A165:   now
          per cases;
          suppose
A166:       p2 = p01;
            p2 in LSeg(p1,p2) by RLTOPSP1:68;
            then LSeg(p1,p2) /\ L1 <> {} by A166,Lm22,XBOOLE_0:def 4;
            then LSeg(p1,p2) /\ L1 = {p2} by A164,A166,TOPREAL1:15,ZFMISC_1:33;
            hence P1 /\ P2 = {p1} \/ (LSeg(p1,p2) /\ L4) \/ {p2} by A163;
          end;
          suppose
A167:       p2 <> p01;
            now
              assume p01 in LSeg(p1,p2) /\ L1;
              then p01 in LSeg(p2,p1) by XBOOLE_0:def 4;
              then p2`1 = 0 by A13,A69,A71,A123,Lm6,TOPREAL1:3;
              hence contradiction by A69,A72,A167,EUCLID:53;
            end;
            then {p01} <> LSeg(p1,p2) /\ L1 by ZFMISC_1:31;
            then LSeg(p1,p2) /\ L1 = {} by A164,TOPREAL1:15,ZFMISC_1:33;
            hence P1 /\ P2 = {p1} \/ (LSeg(p1,p2) /\ L4) \/ {p2} by A163;
          end;
        end;
A168:   LSeg(p1,p2) /\ L4 c= {p11} by A3,A66,TOPREAL1:6,18,XBOOLE_1:26;
        now
          per cases;
          suppose
A169:       p1 = p11;
            p1 in LSeg(p1,p2) by RLTOPSP1:68;
            then LSeg(p1,p2) /\ L4 <> {} by A169,Lm27,XBOOLE_0:def 4;
            then LSeg(p1,p2) /\ L4 = {p1} by A168,A169,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A165,ENUMSET1:1;
          end;
          suppose
A170:       p1 <> p11;
            now
              assume p11 in LSeg(p1,p2) /\ L4;
              then p11 in LSeg(p2,p1) by XBOOLE_0:def 4;
              then p11`1 <= p1`1 by A13,A69,A123,TOPREAL1:3;
              then p1`1 = 1 by A13,A14,Lm10,XXREAL_0:1;
              hence contradiction by A13,A16,A170,EUCLID:53;
            end;
            then {p11} <> LSeg(p1,p2) /\ L4 by ZFMISC_1:31;
            then LSeg(p1,p2) /\ L4 = {} by A168,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A165,ENUMSET1:1;
          end;
        end;
        hence P1 /\ P2 = {p1,p2};
      end;
    end;
    hence thesis;
  end;
  suppose
A171: p2 in L3;
    p00 in LSeg(p00,p2) by RLTOPSP1:68;
    then
A172: LSeg(p01,p00) /\ LSeg(p00,p2) <> {} by Lm20,XBOOLE_0:def 4;
    LSeg(p00,p2) c= L3 by A171,Lm21,TOPREAL1:6;
    then LSeg(p01,p00) /\ LSeg(p00,p2) c= {p00} by TOPREAL1:17,XBOOLE_1:27;
    then LSeg(p01,p00) /\ LSeg(p00,p2) = {p00} by A172,ZFMISC_1:33;
    then
A173: L1 \/ LSeg(p00,p2) is_an_arc_of p01,p2 by Lm5,Lm7,TOPREAL1:12;
    LSeg(p2,p00) c= L3 by A171,Lm21,TOPREAL1:6;
    then
A174: LSeg(p1,p01) /\ LSeg(p00,p2) = {} by A11,Lm2,XBOOLE_1:3,27;
    p10 in LSeg(p10,p2) by RLTOPSP1:68;
    then
A175: p10 in LSeg(p11,p10) /\ LSeg(p10,p2) by Lm25,XBOOLE_0:def 4;
    LSeg(p10,p2) c= L3 by A171,Lm24,TOPREAL1:6;
    then LSeg(p11,p10) /\ LSeg(p10,p2) c= L4 /\ L3 by XBOOLE_1:27;
    then LSeg(p11,p10) /\ LSeg(p10,p2) = {p10} by A175,TOPREAL1:16,ZFMISC_1:33;
    then
A176: L4 \/ LSeg(p10,p2) is_an_arc_of p11,p2 by Lm9,Lm11,TOPREAL1:12;
    take P1 = LSeg(p1,p11) \/ L4 \/ LSeg(p10,p2),P2 = LSeg(p1,p01) \/ L1 \/
    LSeg(p00,p2);
A177: LSeg(p1,p11) \/ LSeg(p1,p01) = L2 by A3,TOPREAL1:5;
A178: LSeg(p2,p10) c= L3 by A171,Lm24,TOPREAL1:6;
    then
A179: LSeg(p1,p11) /\ LSeg(p10,p2) = {} by A8,Lm2,XBOOLE_1:3,27;
A180: L2 /\ LSeg(p00,p2) c= L2 /\ L3 by A171,Lm21,TOPREAL1:6,XBOOLE_1:26;
    LSeg(p1,p11) /\ LSeg(p00,p2) c= L2 /\ LSeg(p00,p2) by A3,Lm26,TOPREAL1:6
,XBOOLE_1:26;
    then
A181: LSeg(p1,p11) /\ LSeg(p00,p2) = {} by A180,Lm2,XBOOLE_1:1,3;
A182: LSeg(p10,p2) /\ LSeg(p1,p01) = {} by A11,A178,Lm2,XBOOLE_1:3,27;
A183: LSeg(p10,p2) /\ LSeg(p00,p2) = {p2} by A171,TOPREAL1:8;
    LSeg(p1,p11) /\ (L4 \/ LSeg(p10,p2)) = (LSeg(p1,p11) /\ L4) \/ (LSeg
    (p1,p11) /\ LSeg(p10,p2)) by XBOOLE_1:23
      .= {p11} by A6,A10,A179,ZFMISC_1:33;
    then
LSeg(p1,p11) \/ (L4 \/ LSeg(p10,p2)) is_an_arc_of p1,p2 by A176,TOPREAL1:11;
    hence P1 is_an_arc_of p1,p2 by XBOOLE_1:4;
A184: ex q2 st q2 = p2 & q2`1 <= 1 & q2`1 >= 0 & q2`2 = 0 by A171,TOPREAL1:13;
    LSeg(p1,p01) /\ (L1 \/ LSeg(p00,p2)) = (LSeg(p01,p1) /\ L1) \/ (LSeg
    (p1,p01) /\ LSeg(p00,p2)) by XBOOLE_1:23
      .= {p01} by A7,A5,A174,TOPREAL1:15,ZFMISC_1:33;
    then
LSeg(p1,p01) \/ (L1 \/ LSeg(p00,p2)) is_an_arc_of p1,p2 by A173,TOPREAL1:11;
    hence P2 is_an_arc_of p1,p2 by XBOOLE_1:4;
    LSeg(p10,p2) \/ LSeg(p00,p2) = L3 by A171,TOPREAL1:5;
    hence R^2-unit_square = L2 \/ (L4 \/ (LSeg(p10,p2) \/ LSeg(p00,p2)) \/ L1)
    by TOPREAL1:def 2,XBOOLE_1:4
      .= L2 \/ (L4 \/ LSeg(p10,p2) \/ LSeg(p00,p2) \/ L1) by XBOOLE_1:4
      .= L2 \/ (L4 \/ LSeg(p10,p2) \/ (L1 \/ LSeg(p00,p2))) by XBOOLE_1:4
      .= LSeg(p1,p11) \/ ((L4 \/ LSeg(p10,p2) \/ (L1 \/ LSeg(p00,p2))) \/
    LSeg(p1,p01)) by A177,XBOOLE_1:4
      .= LSeg(p1,p11) \/ (L4 \/ LSeg(p10,p2) \/ (L1 \/ LSeg(p00,p2) \/ LSeg(
    p1,p01))) by XBOOLE_1:4
      .= LSeg(p1,p11) \/ (L4 \/ LSeg(p10,p2)) \/ (L1 \/ LSeg(p00,p2) \/ LSeg
    (p1,p01)) by XBOOLE_1:4
      .= LSeg(p1,p11) \/ L4 \/ LSeg(p10,p2) \/ (LSeg(p1,p01) \/ (L1 \/ LSeg(
    p00,p2))) by XBOOLE_1:4
      .= P1 \/ P2 by XBOOLE_1:4;
A185: LSeg(p1,p11) /\ LSeg(p1,p01) = {p1} by A3,TOPREAL1:8;
A186: P1 /\ P2 = (LSeg(p1,p11) \/ L4) /\ (LSeg(p1,p01) \/ L1 \/ LSeg(p00,
p2)) \/ (LSeg(p10,p2) /\ (LSeg(p1,p01) \/ L1 \/ LSeg(p00,p2))) by XBOOLE_1:23
      .= (LSeg(p1,p11) /\ (LSeg(p1,p01) \/ L1 \/ LSeg(p00,p2))) \/ (L4 /\ (
LSeg(p1,p01) \/ L1 \/ LSeg(p00,p2))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p01) \/ L1 \/
    LSeg(p00,p2))) by XBOOLE_1:23
      .= (LSeg(p1,p11) /\ (LSeg(p1,p01) \/ L1)) \/ (LSeg(p1,p11) /\ LSeg(p00
,p2)) \/ (L4 /\ (LSeg(p1,p01) \/ L1 \/ LSeg(p00,p2))) \/ (LSeg(p10,p2) /\ (LSeg
    (p1,p01) \/ L1 \/ LSeg(p00,p2))) by XBOOLE_1:23
      .= (LSeg(p1,p11) /\ LSeg(p1,p01)) \/ (LSeg(p1,p11) /\ L1) \/ (L4 /\ (
LSeg(p1,p01) \/ L1 \/ LSeg(p00,p2))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p01) \/ L1 \/
    LSeg(p00,p2))) by A181,XBOOLE_1:23
      .= {p1} \/ (LSeg(p1,p11) /\ L1) \/ ((L4 /\ (LSeg(p1,p01) \/ L1)) \/ (
L4 /\ LSeg(p00,p2))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p01) \/ L1 \/ LSeg(p00,p2)))
    by A185,XBOOLE_1:23
      .= {p1} \/ (LSeg(p1,p11) /\ L1) \/ ((L4 /\ LSeg(p1,p01)) \/ (L1 /\ L4)
\/ (L4 /\ LSeg(p00,p2))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p01) \/ L1 \/ LSeg(p00,p2
    ))) by XBOOLE_1:23
      .= {p1} \/ (LSeg(p1,p11) /\ L1) \/ ((L4 /\ LSeg(p1,p01)) \/ (L4 /\
LSeg(p00,p2))) \/ ((LSeg(p10,p2) /\ (LSeg(p1,p01) \/ L1)) \/ {p2}) by A183,Lm3,
XBOOLE_1:23
      .= {p1} \/ (LSeg(p1,p11) /\ L1) \/ ((L4 /\ LSeg(p1,p01)) \/ (L4 /\
LSeg(p00,p2))) \/ ((LSeg(p10,p2) /\ LSeg(p1,p01)) \/ (LSeg(p10,p2) /\ L1) \/ {
    p2}) by XBOOLE_1:23
      .= {p1} \/ (LSeg(p1,p11) /\ L1) \/ ((L4 /\ LSeg(p1,p01)) \/ (L4 /\
    LSeg(p00,p2))) \/ ((LSeg(p10,p2) /\ L1) \/ {p2}) by A182;
A187: now
      per cases;
      suppose
A188:   p1 = p01;
        then L4 /\ LSeg(p1,p01) = L4 /\ {p01} by RLTOPSP1:70
          .= {} by Lm1,Lm15;
        hence P1 /\ P2 = {p1} \/ (L4 /\ LSeg(p00,p2)) \/ ((LSeg(p10,p2) /\ L1)
        \/ {p2}) by A186,A188,TOPREAL1:15;
      end;
      suppose
A189:   p1 = p11;
        then LSeg(p1,p11) /\ L1 = {p11} /\ L1 by RLTOPSP1:70
          .= {} by Lm1,Lm18;
        hence
        P1 /\ P2 = {p1} \/ {p1} \/ (L4 /\ LSeg(p00,p2)) \/ ((LSeg(p10,p2)
        /\ L1) \/ {p2}) by A186,A189,TOPREAL1:18,XBOOLE_1:4
          .= {p1} \/ (L4 /\ LSeg(p00,p2)) \/ ((LSeg(p10,p2) /\ L1) \/ {p2});
      end;
      suppose
A190:   p1 <> p11 & p1 <> p01;
        now
          assume p11 in L4 /\ LSeg(p1,p01);
          then
A191:     p11 in LSeg(p01,p1) by XBOOLE_0:def 4;
          p01`1 <= p1`1 by A13,A15,EUCLID:52;
          then 1 <= p1`1 by A191,Lm10,TOPREAL1:3;
          then p1`1 = 1 by A13,A14,XXREAL_0:1;
          hence contradiction by A13,A16,A190,EUCLID:53;
        end;
        then
A192:   {p11} <> L4 /\ LSeg(p1,p01) by ZFMISC_1:31;
        L4 /\ LSeg(p1,p01) c= L4 /\ L2 by A3,Lm23,TOPREAL1:6,XBOOLE_1:26;
        then
A193:   L4 /\ LSeg(p1,p01) = {} by A192,TOPREAL1:18,ZFMISC_1:33;
        now
          assume p01 in LSeg(p1,p11) /\ L1;
          then
A194:     p01 in LSeg(p1,p11) by XBOOLE_0:def 4;
          p1`1 <= p11`1 by A13,A14,EUCLID:52;
          then p1`1 = 0 by A13,A15,A194,Lm6,TOPREAL1:3;
          hence contradiction by A13,A16,A190,EUCLID:53;
        end;
        then
A195:   {p01} <> LSeg(p1,p11) /\ L1 by ZFMISC_1:31;
        LSeg(p1,p11) /\ L1 c= L2 /\ L1 by A3,Lm26,TOPREAL1:6,XBOOLE_1:26;
        then LSeg(p1,p11) /\ L1 = {} by A195,TOPREAL1:15,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ (L4 /\ LSeg(p00,p2)) \/ ((LSeg(p10,p2) /\ L1)
        \/ {p2}) by A186,A193;
      end;
    end;
    now
      per cases;
      suppose
A196:   p2 = p00;
        then L4 /\ LSeg(p00,p2) = L4 /\ {p00} by RLTOPSP1:70
          .= {} by Lm1,Lm12;
        hence thesis by A187,A196,ENUMSET1:1,TOPREAL1:17;
      end;
      suppose
A197:   p2 = p10;
        then LSeg(p10,p2) /\ L1 = {p10} /\ L1 by RLTOPSP1:70
          .= {} by Lm1,Lm16;
        hence P1 /\ P2 = {p1} \/ ({p2} \/ {p2}) by A187,A197,TOPREAL1:16
,XBOOLE_1:4
          .= {p1,p2} by ENUMSET1:1;
      end;
      suppose
A198:   p2 <> p10 & p2 <> p00;
        now
          assume p00 in LSeg(p10,p2) /\ L1;
          then
A199:     p00 in LSeg(p2,p10) by XBOOLE_0:def 4;
          p2`1 <= p10`1 by A184,EUCLID:52;
          then p2`1 = 0 by A184,A199,Lm4,TOPREAL1:3;
          hence contradiction by A184,A198,EUCLID:53;
        end;
        then
A200:   {p00} <> LSeg(p10,p2) /\ L1 by ZFMISC_1:31;
        LSeg(p10,p2) /\ L1 c= L3 /\ L1 by A171,Lm24,TOPREAL1:6,XBOOLE_1:26;
        then
A201:   LSeg(p10,p2) /\ L1 = {} by A200,TOPREAL1:17,ZFMISC_1:33;
        now
          assume p10 in L4 /\ LSeg(p00,p2);
          then
A202:     p10 in LSeg(p00,p2) by XBOOLE_0:def 4;
          p00`1 <= p2`1 by A184,EUCLID:52;
          then 1 <= p2`1 by A202,Lm8,TOPREAL1:3;
          then p2`1 = 1 by A184,XXREAL_0:1;
          hence contradiction by A184,A198,EUCLID:53;
        end;
        then
A203:   {p10} <> L4 /\ LSeg(p00,p2) by ZFMISC_1:31;
        L4 /\ LSeg(p00,p2) c= L4 /\ L3 by A171,Lm21,TOPREAL1:6,XBOOLE_1:26;
        then L4 /\ LSeg(p00,p2) = {} by A203,TOPREAL1:16,ZFMISC_1:33;
        hence thesis by A187,A201,ENUMSET1:1;
      end;
    end;
    hence thesis;
  end;
  suppose
A204: p2 in L4;
    then
A205: LSeg(p11,p2) c= L4 by Lm27,TOPREAL1:6;
    LSeg(p1,p11) c= L2 by A3,Lm26,TOPREAL1:6;
    then
A206: LSeg(p1,p11) /\ LSeg(p11,p2) c= L2 /\ L4 by A205,XBOOLE_1:27;
    take P1 = LSeg(p1,p11) \/ LSeg(p11,p2),P2 = LSeg(p1,p01) \/ (L1 \/ L3 \/
    LSeg(p10,p2));
A207: p11 in LSeg(p11,p2) by RLTOPSP1:68;
    p10 in LSeg(p10,p2) by RLTOPSP1:68;
    then
A208: L3 /\ LSeg(p10,p2) <> {} by Lm24,XBOOLE_0:def 4;
    p11 in LSeg(p1,p11) by RLTOPSP1:68;
    then LSeg(p1,p11) /\ LSeg(p11,p2) <> {} by A207,XBOOLE_0:def 4;
    then
A209: LSeg(p1,p11) /\ LSeg(p11,p2) = {p11} by A206,TOPREAL1:18,ZFMISC_1:33;
    p1 <> p11 or p11 <> p2 by A1;
    hence P1 is_an_arc_of p1,p2 by A209,TOPREAL1:12;
A210: L2 = LSeg(p1,p11) \/ LSeg(p1,p01) by A3,TOPREAL1:5;
A211: L3 is_an_arc_of p00,p10 by Lm4,Lm8,TOPREAL1:9;
    L1 is_an_arc_of p01,p00 by Lm5,Lm7,TOPREAL1:9;
    then
A212: L1 \/ L3 is_an_arc_of p01,p10 by A211,TOPREAL1:2,17;
A213: LSeg(p11,p2) /\ LSeg(p10,p2) = {p2} by A204,TOPREAL1:8;
A214: L4 = LSeg(p10,p2) \/ LSeg(p11,p2) by A204,TOPREAL1:5;
A215: LSeg(p10,p2) c= L4 by A204,Lm25,TOPREAL1:6;
    then
A216: L3 /\ LSeg(p10,p2) c= {p10} by TOPREAL1:16,XBOOLE_1:27;
A217: ex q st q = p2 & q`1 = 1 & q`2 <= 1 & q`2 >= 0 by A204,TOPREAL1:13;
    now
A218: p10`2 <= p2`2 by A217,EUCLID:52;
      assume
A219: p11 in LSeg(p1,p01) /\ LSeg(p10,p2);
      then
A220: p11 in LSeg(p01,p1) by XBOOLE_0:def 4;
      p11 in LSeg(p10,p2) by A219,XBOOLE_0:def 4;
      then p11`2 <= p2`2 by A218,TOPREAL1:4;
      then
A221: p11`2 = p2`2 by A217,Lm11,XXREAL_0:1;
      p01`1 <= p1`1 by A13,A15,EUCLID:52;
      then p11`1 <= p1`1 by A220,TOPREAL1:3;
      then p11`1 = p1`1 by A13,A14,Lm10,XXREAL_0:1;
      then p1 = |[p11`1,p11`2]| by A13,A16,Lm11,EUCLID:53
        .= p2 by A217,A221,Lm10,EUCLID:53;
      hence contradiction by A1;
    end;
    then
A222: {p11} <> LSeg(p1,p01) /\ LSeg(p10,p2) by ZFMISC_1:31;
A223: L1 /\ LSeg(p10,p2) = {} by A215,Lm3,XBOOLE_1:3,26;
    (L1 \/ L3) /\ LSeg(p10,p2) = (L1 /\ LSeg(p10,p2)) \/ (L3 /\ LSeg(p10
    ,p2)) by XBOOLE_1:23
      .= {p10} by A223,A216,A208,ZFMISC_1:33;
    then
A224: L1 \/ L3 \/ LSeg(p10,p2) is_an_arc_of p01,p2 by A212,TOPREAL1:10;
A225: LSeg(p2,p11) c= L4 by A204,Lm27,TOPREAL1:6;
    then
A226: LSeg(p11,p2) /\ L1 = {} by Lm3,XBOOLE_1:3,27;
    LSeg(p1,p01) /\ LSeg(p10,p2) c= {p11} by A11,A215,TOPREAL1:18,XBOOLE_1:27;
    then
A227: LSeg(p1,p01) /\ LSeg(p10,p2) = {} by A222,ZFMISC_1:33;
    LSeg(p1,p01) /\ (L1 \/ L3 \/ LSeg(p10,p2)) = (LSeg(p1,p01) /\ (L1 \/
    L3)) \/ (LSeg(p1,p01) /\ LSeg(p10,p2)) by XBOOLE_1:23
      .= (LSeg(p1,p01) /\ L1) \/ (LSeg(p1,p01) /\ L3) by A227,XBOOLE_1:23
      .= {p01} by A12,A7,A5,TOPREAL1:15,ZFMISC_1:33;
    hence P2 is_an_arc_of p1,p2 by A224,TOPREAL1:11;
    thus P1 \/ P2 = LSeg(p11,p2) \/ (LSeg(p1,p11) \/ (LSeg(p1,p01) \/ (L1 \/
    L3 \/ LSeg(p10,p2)))) by XBOOLE_1:4
      .= L2 \/ (L1 \/ L3 \/ LSeg(p10,p2)) \/ LSeg(p11,p2) by A210,XBOOLE_1:4
      .= L2 \/ ((L1 \/ L3 \/ LSeg(p10,p2)) \/ LSeg(p11,p2)) by XBOOLE_1:4
      .= L2 \/ (L1 \/ L3 \/ (LSeg(p10,p2) \/ LSeg(p11,p2))) by XBOOLE_1:4
      .= L2 \/ (L1 \/ (L3 \/ L4)) by A214,XBOOLE_1:4
      .= R^2-unit_square by TOPREAL1:def 2,XBOOLE_1:4;
A228: {p1} = LSeg(p1,p11) /\ LSeg(p1,p01) by A3,TOPREAL1:8;
A229: P1 /\ P2 = (LSeg(p1,p11) /\ (LSeg(p1,p01) \/ (L1 \/ L3 \/ LSeg(p10,
    p2)))) \/ (LSeg(p11,p2) /\ (LSeg(p1,p01) \/ (L1 \/ L3 \/ LSeg(p10,p2))))
by XBOOLE_1:23
      .= (LSeg(p1,p11) /\ LSeg(p1,p01)) \/ (LSeg(p1,p11) /\ (L1 \/ L3 \/
LSeg(p10,p2))) \/ (LSeg(p11,p2) /\ (LSeg(p1,p01) \/ (L1 \/ L3 \/ LSeg(p10,p2)))
    ) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p11) /\ (L1 \/ L3)) \/ (LSeg(p1,p11) /\ LSeg(p10,
p2))) \/ (LSeg(p11,p2) /\ (LSeg(p1,p01) \/ (L1 \/ L3 \/ LSeg(p10,p2)))) by A228
,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p11) /\ L1) \/ (LSeg(p1,p11) /\ L3) \/ (LSeg(p1,
p11) /\ LSeg(p10,p2))) \/ (LSeg(p11,p2) /\ (LSeg(p1,p01) \/ (L1 \/ L3 \/ LSeg(
    p10,p2)))) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p11) /\ L1) \/ (LSeg(p1,p11) /\ L3) \/ (LSeg(p1,
p11) /\ LSeg(p10,p2))) \/ ((LSeg(p11,p2) /\ LSeg(p1,p01)) \/ (LSeg(p11,p2) /\ (
    L1 \/ L3 \/ LSeg(p10,p2)))) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p11) /\ L1) \/ (LSeg(p1,p11) /\ L3) \/ (LSeg(p1,
p11) /\ LSeg(p10,p2))) \/ ((LSeg(p11,p2) /\ LSeg(p1,p01)) \/ ((LSeg(p11,p2) /\
    (L1 \/ L3)) \/ {p2})) by A213,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p11) /\ L1) \/ (LSeg(p1,p11) /\ L3) \/ (LSeg(p1,
p11) /\ LSeg(p10,p2))) \/ ((LSeg(p11,p2) /\ LSeg(p1,p01)) \/ ((LSeg(p11,p2) /\
    L1) \/ (LSeg(p11,p2) /\ L3) \/ {p2})) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p11) /\ L1) \/ (LSeg(p1,p11) /\ LSeg(p10,p2))) \/
((LSeg(p11,p2) /\ LSeg(p1,p01)) \/ (LSeg(p11,p2) /\ L3 \/ {p2})) by A9,A226;
A230: now
      per cases;
      suppose
A231:   p2 = p10;
        then
A232:   not p2 in LSeg(p1,p11) by A8,Lm7,Lm9,Lm11,TOPREAL1:4;
        LSeg(p1,p11) /\ LSeg(p10,p2) = LSeg(p1,p11) /\ {p2} by A231,RLTOPSP1:70
          .= {} by A232,Lm1;
        hence
        P1 /\ P2 = {p1} \/ (LSeg(p1,p11) /\ L1) \/ ((LSeg(p11,p2) /\ LSeg
        (p1,p01)) \/ {p2}) by A229,A231,TOPREAL1:16;
      end;
      suppose
A233:   p2 = p11;
        then p2 in LSeg(p1,p11) by RLTOPSP1:68;
        then
A234:   LSeg(p1,p11) /\ LSeg(p10,p2) <> {} by A233,Lm27,XBOOLE_0:def 4;
        LSeg(p1,p11) /\ LSeg(p10,p2) c= {p2} by A8,A233,TOPREAL1:18,XBOOLE_1:27
;
        then
A235:   LSeg(p1,p11) /\ LSeg(p10,p2) = {p2} by A234,ZFMISC_1:33;
        LSeg(p11,p2) /\ L3 = {p11} /\ L3 by A233,RLTOPSP1:70
          .= {} by Lm1,Lm19;
        hence P1 /\ P2 = ({p1} \/ (LSeg(p1,p11) /\ L1)) \/ {p2} \/ ((LSeg(p11,
        p2) /\ LSeg(p1,p01)) \/ {p2}) by A229,A235,XBOOLE_1:4
          .= ({p1} \/ (LSeg(p1,p11) /\ L1)) \/ ((LSeg(p11,p2) /\ LSeg(p1,p01
        )) \/ {p2} \/ {p2}) by XBOOLE_1:4
          .= ({p1} \/ (LSeg(p1,p11) /\ L1)) \/ ((LSeg(p11,p2) /\ LSeg(p1,p01
        )) \/ ({p2} \/ {p2})) by XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p11) /\ L1) \/ ((LSeg(p11,p2) /\ LSeg(p1,p01))
        \/ {p2});
      end;
      suppose
A236:   p2 <> p11 & p2 <> p10;
        now
          assume p11 in LSeg(p1,p11) /\ LSeg(p10,p2);
          then
A237:     p11 in LSeg(p10,p2) by XBOOLE_0:def 4;
          p10`2 <= p2`2 by A217,EUCLID:52;
          then p11`2 <= p2`2 by A237,TOPREAL1:4;
          then p2`2 = 1 by A217,Lm11,XXREAL_0:1;
          hence contradiction by A217,A236,EUCLID:53;
        end;
        then
A238:   {p11} <> LSeg(p1,p11) /\ LSeg(p10,p2) by ZFMISC_1:31;
        LSeg(p1,p11) /\ LSeg(p10,p2) c= {p11} by A8,A215,TOPREAL1:18
,XBOOLE_1:27;
        then
A239:   LSeg(p1,p11) /\ LSeg(p10,p2) = {} by A238,ZFMISC_1:33;
        now
          assume p10 in LSeg(p11,p2) /\ L3;
          then
A240:     p10 in LSeg(p2,p11) by XBOOLE_0:def 4;
          p2`2 <= p11`2 by A217,EUCLID:52;
          then p2`2 = 0 by A217,A240,Lm9,TOPREAL1:4;
          hence contradiction by A217,A236,EUCLID:53;
        end;
        then
A241:   {p10} <> LSeg(p11,p2) /\ L3 by ZFMISC_1:31;
        LSeg(p11,p2) /\ L3 c= L4 /\ L3 by A225,XBOOLE_1:27;
        then LSeg(p11,p2) /\ L3 = {} by A241,TOPREAL1:16,ZFMISC_1:33;
        hence
        P1 /\ P2 = {p1} \/ (LSeg(p1,p11) /\ L1) \/ ((LSeg(p11,p2) /\ LSeg
        (p1,p01)) \/ {p2}) by A229,A239;
      end;
    end;
    now
      per cases;
      suppose
A242:   p1 = p01;
        then
A243:   LSeg(p11,p2) /\ LSeg(p1,p01) = LSeg(p11,p2) /\ {p1} by RLTOPSP1:70;
        p1 in LSeg(p11,p2) implies contradiction by A225,A242,Lm6,Lm8,Lm10,
TOPREAL1:3;
        then LSeg(p11,p2) /\ LSeg(p1,p01) = {} by A243,Lm1;
        hence thesis by A230,A242,ENUMSET1:1,TOPREAL1:15;
      end;
      suppose
A244:   p1 = p11;
        p11 in LSeg(p11,p2) by RLTOPSP1:68;
        then
A245:   LSeg(p11,p2) /\ LSeg(p1,p01) <> {} by A244,Lm26,XBOOLE_0:def 4;
        LSeg(p1,p11) /\ L1 = {p1} /\ L1 by A244,RLTOPSP1:70;
        then
A246:   LSeg(p1,p11) /\ L1 = {} by A244,Lm1,Lm18;
        LSeg(p11,p2) /\ LSeg(p1,p01) c= L4 /\ L2 by A11,A225,XBOOLE_1:27;
        then LSeg(p11,p2) /\ LSeg(p1,p01) = {p1} by A244,A245,TOPREAL1:18
,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ {p1} \/ {p2} by A230,A246,XBOOLE_1:4
          .= {p1,p2} by ENUMSET1:1;
      end;
      suppose
A247:   p1 <> p11 & p1 <> p01;
        now
          assume p11 in LSeg(p11,p2) /\ LSeg(p1,p01);
          then
A248:     p11 in LSeg(p01,p1) by XBOOLE_0:def 4;
          p01`1 <= p1`1 by A13,A15,EUCLID:52;
          then p11`1 <= p1`1 by A248,TOPREAL1:3;
          then p1`1 = 1 by A13,A14,Lm10,XXREAL_0:1;
          hence contradiction by A13,A16,A247,EUCLID:53;
        end;
        then
A249:   {p11} <> LSeg(p11,p2) /\ LSeg(p1,p01) by ZFMISC_1:31;
        LSeg(p11,p2) /\ LSeg(p1,p01) c= L4 /\ L2 by A11,A225,XBOOLE_1:27;
        then
A250:   LSeg(p11,p2) /\ LSeg(p1,p01) = {} by A249,TOPREAL1:18,ZFMISC_1:33;
        now
          assume p01 in LSeg(p1,p11) /\ L1;
          then
A251:     p01 in LSeg(p1,p11) by XBOOLE_0:def 4;
          p1`1 <= p11`1 by A13,A14,EUCLID:52;
          then p1`1 = 0 by A13,A15,A251,Lm6,TOPREAL1:3;
          hence contradiction by A13,A16,A247,EUCLID:53;
        end;
        then
A252:   {p01} <> LSeg(p1,p11) /\ L1 by ZFMISC_1:31;
        LSeg(p1,p11) /\ L1 c= L2 /\ L1 by A8,XBOOLE_1:27;
        then LSeg(p1,p11) /\ L1 = {} by A252,TOPREAL1:15,ZFMISC_1:33;
        hence thesis by A230,A250,ENUMSET1:1;
      end;
    end;
    hence thesis;
  end;
end;

Lm32: p1 <> p2 & p2 in R^2-unit_square & p1 in LSeg(p00, p10) implies ex P1,P2
being non empty Subset of TOP-REAL 2 st P1 is_an_arc_of p1,p2 & P2 is_an_arc_of
p1,p2 & R^2-unit_square = P1 \/ P2 & P1 /\ P2 = {p1,p2}
proof
  assume that
A1: p1 <> p2 and
A2: p2 in R^2-unit_square and
A3: p1 in LSeg(p00, p10);
A4: p2 in L1 \/ L2 or p2 in L3 \/ L4 by A2,TOPREAL1:def 2,XBOOLE_0:def 3;
A5: LSeg(p10,p1) /\ L4 c= L3 /\ L4 by A3,Lm24,TOPREAL1:6,XBOOLE_1:26;
  p00 in LSeg(p1,p00) by RLTOPSP1:68;
  then
A6: p00 in LSeg(p1,p00) /\ L1 by Lm20,XBOOLE_0:def 4;
  p10 in LSeg(p10,p1) by RLTOPSP1:68;
  then
A7: LSeg(p10,p1) /\ L4 <> {} by Lm25,XBOOLE_0:def 4;
A8: LSeg(p1,p00) /\ L1 c= L3 /\ L1 by A3,Lm21,TOPREAL1:6,XBOOLE_1:26;
A9: LSeg(p1,p00) /\ LSeg(p1,p10) = {p1} by A3,TOPREAL1:8;
A10: LSeg(p00,p1) c= L3 by A3,Lm21,TOPREAL1:6;
  L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
  then
A11: LSeg(p1,p00) /\ L2 = {} by A10,XBOOLE_1:3,26;
A12: LSeg(p10,p1) c= L3 by A3,Lm24,TOPREAL1:6;
  L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
  then
A13: LSeg(p10,p1) /\ L2 = {} by A12,XBOOLE_1:3,26;
  consider p such that
A14: p = p1 and
A15: p`1 <= 1 and
A16: p`1 >= 0 and
A17: p`2 = 0 by A3,TOPREAL1:13;
  per cases by A4,XBOOLE_0:def 3;
  suppose
A18: p2 in L1;
A19: L2 is_an_arc_of p11,p01 by Lm6,Lm10,TOPREAL1:9;
    L4 is_an_arc_of p10,p11 by Lm9,Lm11,TOPREAL1:9;
    then
A20: L4 \/ L2 is_an_arc_of p10,p01 by A19,TOPREAL1:2,18;
    L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
    then
A21: LSeg(p1,p00) /\ L2 = {} by A10,XBOOLE_1:3,26;
    take P1 = LSeg(p1,p00) \/ LSeg(p00,p2),P2 = LSeg(p1,p10) \/ (L4 \/ L2 \/
    LSeg(p01,p2));
A22: LSeg(p1,p00) \/ LSeg(p1,p10) = L3 by A3,TOPREAL1:5;
    p01 in LSeg(p01,p2) by RLTOPSP1:68;
    then
A23: p01 in L2 /\ LSeg(p01,p2) by Lm23,XBOOLE_0:def 4;
A24: p00 in LSeg(p00,p2) by RLTOPSP1:68;
    p00 in LSeg(p1,p00) by RLTOPSP1:68;
    then
A25: p00 in LSeg(p1,p00) /\ LSeg(p00,p2) by A24,XBOOLE_0:def 4;
A26: LSeg(p00,p2) c= L1 by A18,Lm20,TOPREAL1:6;
    then LSeg(p1,p00) /\ LSeg(p00,p2) c= L3 /\ L1 by A10,XBOOLE_1:27;
    then
A27: LSeg(p1,p00) /\ LSeg(p00,p2) = {p00} by A25,TOPREAL1:17,ZFMISC_1:33;
A28: ex q st q = p2 & q`1 = 0 & q`2 <= 1 & q`2 >= 0 by A18,TOPREAL1:13;
    now
A29:  p2`2 <= p01`2 by A28,EUCLID:52;
      assume
A30:  p00 in LSeg(p1,p10) /\ LSeg(p01,p2);
      then
A31:  p00 in LSeg(p1,p10) by XBOOLE_0:def 4;
      p00 in LSeg(p2,p01) by A30,XBOOLE_0:def 4;
      then
A32:  0 = p2`2 by A28,A29,Lm5,TOPREAL1:4;
      p1`1 <= p10`1 by A14,A15,EUCLID:52;
      then 0 = p1`1 by A14,A16,A31,Lm4,TOPREAL1:3;
      then p1 = p00 by A14,A17,EUCLID:53
        .= p2 by A28,A32,EUCLID:53;
      hence contradiction by A1;
    end;
    then
A33: {p00} <> LSeg(p1,p10) /\ LSeg(p01,p2) by ZFMISC_1:31;
    p1 <> p00 or p00 <> p2 by A1;
    hence P1 is_an_arc_of p1,p2 by A27,TOPREAL1:12;
A34: {p1} = LSeg(p1,p00) /\ LSeg(p1,p10) by A3,TOPREAL1:8;
    L1 /\ L4 = {} by TOPREAL1:20,XBOOLE_0:def 7;
    then
A35: LSeg(p00,p2) /\ L4 = {} by A26,XBOOLE_1:3,26;
A36: LSeg(p2,p01) c= L1 by A18,Lm22,TOPREAL1:6;
    then
A37: L2 /\ LSeg(p01,p2) c= L2 /\ L1 by XBOOLE_1:27;
A38: L4 /\ LSeg(p01,p2) = {} by A36,Lm3,XBOOLE_1:3,26;
    (L4 \/ L2) /\ LSeg(p01,p2) = (L4 /\ LSeg(p01,p2)) \/ (L2 /\ LSeg(p01,
    p2)) by XBOOLE_1:23
      .= {p01} by A38,A37,A23,TOPREAL1:15,ZFMISC_1:33;
    then
A39: L4 \/ L2 \/ LSeg(p01,p2) is_an_arc_of p10,p2 by A20,TOPREAL1:10;
A40: {p2} = LSeg(p00,p2) /\ LSeg(p01,p2) by A18,TOPREAL1:8;
A41: LSeg(p01,p2) \/ LSeg(p00,p2) = L1 by A18,TOPREAL1:5;
    LSeg(p1,p10) /\ LSeg(p01,p2) c= L3 /\ L1 by A12,A36,XBOOLE_1:27;
    then
A42: LSeg(p1,p10) /\ LSeg(p01,p2) = {} by A33,TOPREAL1:17,ZFMISC_1:33;
    LSeg(p1,p10) /\ (L4 \/ L2 \/ LSeg(p01,p2)) = (LSeg(p1,p10) /\ (L4 \/
    L2)) \/ (LSeg(p1,p10) /\ LSeg(p01,p2)) by XBOOLE_1:23
      .= (LSeg(p1,p10) /\ L4) \/ (LSeg(p10,p1) /\ L2) by A42,XBOOLE_1:23
      .= {p10} by A13,A5,A7,TOPREAL1:16,ZFMISC_1:33;
    hence P2 is_an_arc_of p1,p2 by A39,TOPREAL1:11;
    thus P1 \/ P2 = LSeg(p00,p2) \/ (LSeg(p1,p00) \/ (LSeg(p1,p10) \/ (L4 \/
    L2 \/ LSeg(p01,p2)))) by XBOOLE_1:4
      .= LSeg(p00,p2) \/ (L3 \/ (L4 \/ L2 \/ LSeg(p01,p2))) by A22,XBOOLE_1:4
      .= LSeg(p00,p2) \/ (L3 \/ (L4 \/ L2) \/ LSeg(p01,p2)) by XBOOLE_1:4
      .= LSeg(p00,p2) \/ (L3 \/ L4 \/ L2 \/ LSeg(p01,p2)) by XBOOLE_1:4
      .= LSeg(p00,p2) \/ (L3 \/ L4 \/ (L2 \/ LSeg(p01,p2))) by XBOOLE_1:4
      .= (L2 \/ LSeg(p01,p2) \/ LSeg(p00,p2)) \/ (L3 \/ L4) by XBOOLE_1:4
      .= R^2-unit_square by A41,TOPREAL1:def 2,XBOOLE_1:4;
A43: P1 /\ P2 = (LSeg(p1,p00) /\ (LSeg(p1,p10) \/ (L4 \/ L2 \/ LSeg(p01,p2
    )))) \/ (LSeg(p00,p2) /\ (LSeg(p1,p10) \/ (L4 \/ L2 \/ LSeg(p01,p2)))) by
XBOOLE_1:23
      .= (LSeg(p1,p00) /\ LSeg(p1,p10)) \/ (LSeg(p1,p00) /\ (L4 \/ L2 \/
LSeg(p01,p2))) \/ (LSeg(p00,p2) /\ (LSeg(p1,p10) \/ (L4 \/ L2 \/ LSeg(p01,p2)))
    ) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p00) /\ (L4 \/ L2)) \/ (LSeg(p1,p00) /\ LSeg(p01,
p2))) \/ (LSeg(p00,p2) /\ (LSeg(p1,p10) \/ (L4 \/ L2 \/ LSeg(p01,p2)))) by A34,
XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p00) /\ L4) \/ (LSeg(p1,p00) /\ L2) \/ (LSeg(p1,
p00) /\ LSeg(p01,p2))) \/ (LSeg(p00,p2) /\ (LSeg(p1,p10) \/ (L4 \/ L2 \/ LSeg(
    p01,p2)))) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p00) /\ L4) \/ (LSeg(p1,p00) /\ LSeg(p01,p2))) \/
((LSeg(p00,p2) /\ LSeg(p1,p10)) \/ (LSeg(p00,p2) /\ (L4 \/ L2 \/ LSeg(p01,p2)))
    ) by A21,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p00) /\ L4) \/ (LSeg(p1,p00) /\ LSeg(p01,p2))) \/
((LSeg(p00,p2) /\ (LSeg(p1,p10)) \/ ((LSeg(p00,p2) /\ (L4 \/ L2)) \/ {p2})))
by A40,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p00) /\ L4) \/ (LSeg(p1,p00) /\ LSeg(p01,p2))) \/
((LSeg(p00,p2) /\ (LSeg(p1,p10)) \/ (((LSeg(p00,p2) /\ L4) \/ (LSeg(p00,p2) /\
    L2)) \/ {p2}))) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p00) /\ L4) \/ (LSeg(p1,p00) /\ LSeg(p01,p2))) \/
    ((LSeg(p00,p2) /\ LSeg(p1,p10)) \/ ((LSeg(p00,p2) /\ L2) \/ {p2})) by A35;
A44: now
      per cases;
      suppose
A45:    p1 = p00;
A46:    p1 in LSeg(p1,p10) by RLTOPSP1:68;
        p1 in LSeg(p00,p2) by A45,RLTOPSP1:68;
        then
A47:    LSeg(p00,p2) /\ LSeg(p1,p10) <> {} by A46,XBOOLE_0:def 4;
        LSeg(p1,p00) /\ L4 = {p00} /\ L4 by A45,RLTOPSP1:70;
        then
A48:    LSeg(p1,p00) /\ L4 = {} by Lm1,Lm12;
        LSeg(p00,p2) /\ LSeg(p1,p10) c= {p1} by A18,A45,Lm20,TOPREAL1:6,17
,XBOOLE_1:26;
        then LSeg(p00,p2) /\ LSeg(p1,p10) = {p1} by A47,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ ({p1} \/ LSeg(p1,p00) /\ LSeg(p01,p2)) \/ ((
        LSeg(p00,p2) /\ L2) \/ {p2}) by A43,A48,XBOOLE_1:4
          .= {p1} \/ {p1} \/ LSeg(p1,p00) /\ LSeg(p01,p2) \/ ((LSeg(p00,p2)
        /\ L2) \/ {p2}) by XBOOLE_1:4
          .= {p1} \/ LSeg(p1,p00) /\ LSeg(p01,p2) \/ ((LSeg(p00,p2) /\ L2)
        \/ {p2});
      end;
      suppose
A49:    p1 = p10;
        then
A50:    LSeg(p00,p2) /\ LSeg(p1,p10) = LSeg(p00,p2) /\ {p10} by RLTOPSP1:70;
        not p10 in LSeg(p00,p2) by A26,Lm4,Lm6,Lm8,TOPREAL1:3;
        then LSeg(p00,p2) /\ LSeg(p1,p10) = {} by A50,Lm1;
        hence P1 /\ P2 = {p1} \/ {p1} \/ (LSeg(p1,p00) /\ LSeg(p01,p2)) \/ ((
        LSeg(p00,p2) /\ L2) \/ {p2}) by A43,A49,TOPREAL1:16,XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p00) /\ LSeg(p01,p2)) \/ ((LSeg(p00,p2) /\ L2)
        \/ {p2});
      end;
      suppose
A51:    p1 <> p10 & p1 <> p00;
        now
          assume p00 in LSeg(p00,p2) /\ LSeg(p1,p10);
          then
A52:      p00 in LSeg(p1,p10) by XBOOLE_0:def 4;
          p1`1 <= p10`1 by A14,A15,EUCLID:52;
          then 0 = p1`1 by A14,A16,A52,Lm4,TOPREAL1:3;
          hence contradiction by A14,A17,A51,EUCLID:53;
        end;
        then
A53:    {p00} <> LSeg(p00,p2) /\ LSeg(p1,p10) by ZFMISC_1:31;
        LSeg(p00,p2) /\ LSeg(p1,p10) c= {p00} by A12,A26,TOPREAL1:17
,XBOOLE_1:27;
        then
A54:    LSeg(p00,p2) /\ LSeg(p1,p10) = {} by A53,ZFMISC_1:33;
        now
          assume p10 in LSeg(p1,p00) /\ L4;
          then
A55:      p10 in LSeg(p00,p1) by XBOOLE_0:def 4;
          p00`1 <= p1`1 by A14,A16,EUCLID:52;
          then p10`1 <= p1`1 by A55,TOPREAL1:3;
          then p1`1 = 1 by A14,A15,Lm8,XXREAL_0:1;
          hence contradiction by A14,A17,A51,EUCLID:53;
        end;
        then
A56:    {p10} <> LSeg(p1,p00) /\ L4 by ZFMISC_1:31;
        LSeg(p1,p00) /\ L4 c= {p10} by A3,Lm21,TOPREAL1:6,16,XBOOLE_1:26;
        then LSeg(p1,p00) /\ L4 = {} by A56,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ (LSeg(p1,p00) /\ LSeg(p01,p2)) \/ ((LSeg(p00,
        p2) /\ L2) \/ {p2}) by A43,A54;
      end;
    end;
    now
      per cases;
      suppose
A57:    p2 = p00;
        p00 in LSeg(p1,p00) by RLTOPSP1:68;
        then
A58:    LSeg(p1,p00) /\ LSeg(p01,p2) <> {} by A57,Lm20,XBOOLE_0:def 4;
        LSeg(p00,p2) /\ L2 = {p00} /\ L2 by A57,RLTOPSP1:70;
        then
A59:    LSeg(p00,p2) /\ L2 = {} by Lm1,Lm13;
        LSeg(p1,p00) /\ LSeg(p01,p2) c= L3 /\ L1 by A10,A36,XBOOLE_1:27;
        then LSeg(p1,p00) /\ LSeg(p01,p2) = {p2} by A57,A58,TOPREAL1:17
,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ ({p2} \/ {p2}) by A44,A59,XBOOLE_1:4
          .= {p1,p2} by ENUMSET1:1;
        hence thesis;
      end;
      suppose
A60:    p2 = p01;
        then
A61:    LSeg(p1,p00) /\ LSeg(p01,p2) = LSeg(p1,p00) /\ {p01} by RLTOPSP1:70;
        not p01 in LSeg(p1,p00) by A10,Lm5,Lm7,Lm9,TOPREAL1:4;
        then
A62:    LSeg(p1,p00) /\ LSeg(p01,p2) = {} by A61,Lm1;
        hence thesis by A44,A60,ENUMSET1:1,TOPREAL1:15;
        thus thesis by A44,A60,A62,ENUMSET1:1,TOPREAL1:15;
      end;
      suppose
A63:    p2 <> p01 & p2 <> p00;
        now
          assume p01 in LSeg(p00,p2) /\ L2;
          then
A64:      p01 in LSeg(p00,p2) by XBOOLE_0:def 4;
          p00`2 <= p2`2 by A28,EUCLID:52;
          then p01`2 <= p2`2 by A64,TOPREAL1:4;
          then 1 = p2`2 by A28,Lm7,XXREAL_0:1;
          hence contradiction by A28,A63,EUCLID:53;
        end;
        then
A65:    {p01} <> LSeg(p00,p2) /\ L2 by ZFMISC_1:31;
        LSeg(p00,p2) /\ L2 c= {p01} by A18,Lm20,TOPREAL1:6,15,XBOOLE_1:26;
        then
A66:    LSeg(p00,p2) /\ L2 = {} by A65,ZFMISC_1:33;
        now
          assume p00 in LSeg(p1,p00) /\ LSeg(p01,p2);
          then
A67:      p00 in LSeg(p2,p01) by XBOOLE_0:def 4;
          p2`2 <= p01`2 by A28,EUCLID:52;
          then p2`2 = 0 by A28,A67,Lm5,TOPREAL1:4;
          hence contradiction by A28,A63,EUCLID:53;
        end;
        then
A68:    {p00} <> LSeg(p1,p00) /\ LSeg(p01,p2) by ZFMISC_1:31;
        LSeg(p1,p00) /\ LSeg(p01,p2) c= L3 /\ L1 by A10,A36,XBOOLE_1:27;
        then
A69:    LSeg(p1,p00) /\ LSeg(p01,p2) = {} by A68,TOPREAL1:17,ZFMISC_1:33;
        hence thesis by A44,A66,ENUMSET1:1;
        thus thesis by A44,A69,A66,ENUMSET1:1;
      end;
    end;
    hence thesis;
  end;
  suppose
A70: p2 in L2;
    then
A71: LSeg(p2,p11) c= L2 by Lm26,TOPREAL1:6;
    then
A72: LSeg(p1,p10) /\ LSeg(p11,p2) = {} by A12,Lm2,XBOOLE_1:3,27;
A73: LSeg(p2,p01) c= L2 by A70,Lm23,TOPREAL1:6;
    then
A74: LSeg(p1,p00) /\ LSeg(p01,p2) = {} by A10,Lm2,XBOOLE_1:3,27;
    take P1 = LSeg(p1,p00) \/ L1 \/ LSeg(p01,p2),P2 = LSeg(p1,p10) \/ L4 \/
    LSeg(p11,p2);
    p01 in LSeg(p01,p2) by RLTOPSP1:68;
    then
A75: L1 /\ LSeg(p01,p2) <> {} by Lm22,XBOOLE_0:def 4;
    L1 /\ LSeg(p01,p2) c= {p01} by A70,Lm23,TOPREAL1:6,15,XBOOLE_1:26;
    then L1 /\ LSeg(p01,p2) = {p01} by A75,ZFMISC_1:33;
    then
A76: L1 \/ LSeg(p01,p2) is_an_arc_of p00,p2 by Lm5,Lm7,TOPREAL1:12;
    LSeg(p1,p00) /\ (L1 \/ LSeg(p01,p2)) = (LSeg(p1,p00) /\ L1) \/ (LSeg
    (p1,p00) /\ LSeg(p01,p2)) by XBOOLE_1:23
      .= {p00} by A8,A6,A74,TOPREAL1:17,ZFMISC_1:33;
    then
    LSeg(p1,p00) \/ (L1 \/ LSeg(p01,p2)) is_an_arc_of p1,p2 by A76,TOPREAL1:11;
    hence P1 is_an_arc_of p1,p2 by XBOOLE_1:4;
    p11 in LSeg(p11,p2) by RLTOPSP1:68;
    then
A77: L4 /\ LSeg(p11,p2) <> {} by Lm27,XBOOLE_0:def 4;
    L4 /\ LSeg(p11,p2) c= L4 /\ L2 by A70,Lm26,TOPREAL1:6,XBOOLE_1:26;
    then L4 /\ LSeg(p11,p2) = {p11} by A77,TOPREAL1:18,ZFMISC_1:33;
    then
A78: L4 \/ LSeg(p11,p2) is_an_arc_of p10,p2 by Lm9,Lm11,TOPREAL1:12;
    LSeg(p1,p10) /\ (L4 \/ LSeg(p11,p2)) = (LSeg(p1,p10) /\ L4) \/ (LSeg
    (p1,p10) /\ LSeg(p11,p2)) by XBOOLE_1:23
      .= {p10} by A5,A7,A72,TOPREAL1:16,ZFMISC_1:33;
    then
    LSeg(p1,p10) \/ (L4 \/ LSeg(p11,p2)) is_an_arc_of p1,p2 by A78,TOPREAL1:11;
    hence P2 is_an_arc_of p1,p2 by XBOOLE_1:4;
    thus R^2-unit_square = L1 \/ (LSeg(p01,p2) \/ LSeg(p11,p2)) \/ (L3 \/ L4)
    by A70,TOPREAL1:5,def 2
      .= L1 \/ LSeg(p01,p2) \/ LSeg(p11,p2) \/ (L3 \/ L4) by XBOOLE_1:4
      .= L1 \/ LSeg(p01,p2) \/ ((L3 \/ L4) \/ LSeg(p11,p2)) by XBOOLE_1:4
      .= L1 \/ LSeg(p01,p2) \/ (L3 \/ (L4 \/ LSeg(p11,p2))) by XBOOLE_1:4
      .= L1 \/ LSeg(p01,p2) \/ (LSeg(p1,p00) \/ LSeg(p1,p10) \/ (L4 \/ LSeg(
    p11,p2))) by A3,TOPREAL1:5
      .= L1 \/ LSeg(p01,p2) \/ (LSeg(p1,p00) \/ (LSeg(p1,p10) \/ (L4 \/ LSeg
    (p11,p2)))) by XBOOLE_1:4
      .= L1 \/ LSeg(p01,p2) \/ (LSeg(p1,p00) \/ (LSeg(p1,p10) \/ L4 \/ LSeg(
    p11,p2))) by XBOOLE_1:4
      .= (LSeg(p1,p00) \/ (L1 \/ LSeg(p01,p2))) \/ (LSeg(p1,p10) \/ L4 \/
    LSeg(p11,p2)) by XBOOLE_1:4
      .= P1 \/ P2 by XBOOLE_1:4;
A79: ex q st q = p2 & q`1 <= 1 & q`1 >= 0 & q`2 = 1 by A70,TOPREAL1:13;
    L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
    then
A80: LSeg(p1,p00) /\ LSeg(p11,p2) = {} by A10,A71,XBOOLE_1:3,27;
A81: LSeg(p01,p2) /\ LSeg(p1,p10) = {} by A12,A73,Lm2,XBOOLE_1:3,27;
A82: LSeg(p01,p2) /\ LSeg(p11,p2) = {p2} by A70,TOPREAL1:8;
A83: P1 /\ P2 = (LSeg(p1,p00) \/ L1) /\ (LSeg(p1,p10) \/ L4 \/ LSeg(p11,
p2)) \/ (LSeg(p01,p2) /\ (LSeg(p1,p10) \/ L4 \/ LSeg(p11,p2))) by XBOOLE_1:23
      .= (LSeg(p1,p00) \/ L1) /\ (LSeg(p1,p10) \/ L4 \/ LSeg(p11,p2)) \/ (
    LSeg(p01,p2) /\ (LSeg(p1,p10) \/ L4) \/ {p2}) by A82,XBOOLE_1:23
      .= (LSeg(p1,p00) \/ L1) /\ (LSeg(p1,p10) \/ L4 \/ LSeg(p11,p2)) \/ ((
LSeg(p01,p2) /\ LSeg(p1,p10)) \/ (LSeg(p01,p2) /\ L4) \/ {p2}) by XBOOLE_1:23
      .= (LSeg(p1,p00) /\ (LSeg(p1,p10) \/ L4 \/ LSeg(p11,p2))) \/ (L1 /\ (
LSeg(p1,p10) \/ L4 \/ LSeg(p11,p2))) \/ ((LSeg(p01,p2) /\ L4) \/ {p2}) by A81,
XBOOLE_1:23
      .= ((LSeg(p1,p00) /\ (LSeg(p1,p10) \/ L4)) \/ (LSeg(p1,p00) /\ LSeg(
p11,p2))) \/ (L1 /\ (LSeg(p1,p10) \/ L4 \/ LSeg(p11,p2))) \/ ((LSeg(p01,p2) /\
    L4) \/ {p2}) by XBOOLE_1:23
      .= ({p1} \/ (LSeg(p1,p00) /\ L4)) \/ (L1 /\ (LSeg(p1,p10) \/ L4 \/
    LSeg(p11,p2))) \/ ((LSeg(p01,p2) /\ L4) \/ {p2}) by A9,A80,XBOOLE_1:23
      .= ({p1} \/ (LSeg(p1,p00) /\ L4)) \/ ((L1 /\ (LSeg(p1,p10) \/ L4)) \/
    (L1 /\ LSeg(p11,p2))) \/ ((LSeg(p01,p2) /\ L4) \/ {p2}) by XBOOLE_1:23
      .= ({p1} \/ (LSeg(p1,p00) /\ L4)) \/ ((L1 /\ LSeg(p1,p10)) \/ (L1 /\
L4) \/ (L1 /\ LSeg(p11,p2))) \/ ((LSeg(p01,p2) /\ L4) \/ {p2}) by XBOOLE_1:23
      .= ({p1} \/ (LSeg(p1,p00) /\ L4)) \/ ((L1 /\ LSeg(p1,p10)) \/ (L1 /\
    LSeg(p11,p2))) \/ ((LSeg(p01,p2) /\ L4) \/ {p2}) by Lm3;
A84: now
      per cases;
      suppose
A85:    p1 = p00;
        then LSeg(p1,p00) /\ L4 = {p00} /\ L4 by RLTOPSP1:70;
        then LSeg(p1,p00) /\ L4 = {} by Lm1,Lm12;
        hence
        P1 /\ P2 = {p1} \/ {p1} \/ (L1 /\ LSeg(p11,p2)) \/ ((LSeg(p01,p2)
        /\ L4) \/ {p2}) by A83,A85,TOPREAL1:17,XBOOLE_1:4
          .= {p1} \/ (L1 /\ LSeg(p11,p2)) \/ ((LSeg(p01,p2) /\ L4) \/ {p2});
      end;
      suppose
A86:    p1 = p10;
        then L1 /\ LSeg(p1,p10) = L1 /\ {p10} by RLTOPSP1:70;
        then L1 /\ LSeg(p1,p10) = {} by Lm1,Lm16;
        hence P1 /\ P2 = {p1} \/ (L1 /\ LSeg(p11,p2)) \/ ((LSeg(p01,p2) /\ L4)
        \/ {p2}) by A83,A86,TOPREAL1:16;
      end;
      suppose
A87:    p1 <> p10 & p1 <> p00;
        now
          assume p00 in L1 /\ LSeg(p1,p10);
          then
A88:      p00 in LSeg(p1,p10) by XBOOLE_0:def 4;
          p1`1 <= p10`1 by A14,A15,EUCLID:52;
          then 0 = p1`1 by A14,A16,A88,Lm4,TOPREAL1:3;
          hence contradiction by A14,A17,A87,EUCLID:53;
        end;
        then
A89:    {p00} <> L1 /\ LSeg(p1,p10) by ZFMISC_1:31;
        L1 /\ LSeg(p1,p10) c= {p00} by A3,Lm24,TOPREAL1:6,17,XBOOLE_1:26;
        then
A90:    L1 /\ LSeg(p1,p10) = {} by A89,ZFMISC_1:33;
        now
          assume p10 in LSeg(p1,p00) /\ L4;
          then
A91:      p10 in LSeg(p00,p1) by XBOOLE_0:def 4;
          p00`1 <= p1`1 by A14,A16,EUCLID:52;
          then p10`1 <= p1`1 by A91,TOPREAL1:3;
          then 1 = p1`1 by A14,A15,Lm8,XXREAL_0:1;
          hence contradiction by A14,A17,A87,EUCLID:53;
        end;
        then
A92:    {p10} <> LSeg(p1,p00) /\ L4 by ZFMISC_1:31;
        LSeg(p1,p00) /\ L4 c= {p10} by A3,Lm21,TOPREAL1:6,16,XBOOLE_1:26;
        then LSeg(p1,p00) /\ L4 = {} by A92,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ (L1 /\ LSeg(p11,p2)) \/ ((LSeg(p01,p2) /\ L4)
        \/ {p2}) by A83,A90;
      end;
    end;
    now
      per cases;
      suppose
A93:    p2 = p01;
        then LSeg(p01,p2) /\ L4 = {p01} /\ L4 by RLTOPSP1:70;
        then LSeg(p01,p2) /\ L4 = {} by Lm1,Lm15;
        hence P1 /\ P2 = {p1} \/ ({p2} \/ {p2}) by A84,A93,TOPREAL1:15
,XBOOLE_1:4
          .= {p1,p2} by ENUMSET1:1;
      end;
      suppose
A94:    p2 = p11;
        then L1 /\ LSeg(p11,p2) = L1 /\ {p11} by RLTOPSP1:70;
        then L1 /\ LSeg(p11,p2) = {} by Lm1,Lm18;
        hence thesis by A84,A94,ENUMSET1:1,TOPREAL1:18;
      end;
      suppose
A95:    p2 <> p11 & p2 <> p01;
        now
          assume p11 in LSeg(p01,p2) /\ L4;
          then
A96:      p11 in LSeg(p01,p2) by XBOOLE_0:def 4;
          p01`1 <= p2`1 by A79,EUCLID:52;
          then p11`1 <= p2`1 by A96,TOPREAL1:3;
          then 1 = p2`1 by A79,Lm10,XXREAL_0:1;
          hence contradiction by A79,A95,EUCLID:53;
        end;
        then
A97:    {p11} <> LSeg(p01,p2) /\ L4 by ZFMISC_1:31;
        LSeg(p01,p2) /\ L4 c= {p11} by A70,Lm23,TOPREAL1:6,18,XBOOLE_1:26;
        then
A98:    LSeg(p01,p2) /\ L4 = {} by A97,ZFMISC_1:33;
        now
          assume p01 in L1 /\ LSeg(p11,p2);
          then
A99:      p01 in LSeg(p2,p11) by XBOOLE_0:def 4;
          p2`1 <= p11`1 by A79,EUCLID:52;
          then p2`1 = 0 by A79,A99,Lm6,TOPREAL1:3;
          hence contradiction by A79,A95,EUCLID:53;
        end;
        then
A100:   {p01} <> L1 /\ LSeg(p11,p2) by ZFMISC_1:31;
        L1 /\ LSeg(p11,p2) c= {p01} by A70,Lm26,TOPREAL1:6,15,XBOOLE_1:26;
        then L1 /\ LSeg(p11,p2) = {} by A100,ZFMISC_1:33;
        hence thesis by A84,A98,ENUMSET1:1;
      end;
    end;
    hence thesis;
  end;
  suppose
A101: p2 in L3;
A102: p = |[p`1,p`2]| by EUCLID:53;
A103: LSeg(p1,p2) c= L3 by A3,A101,TOPREAL1:6;
    consider q such that
A104: q = p2 and
A105: q`1 <= 1 and
A106: q`1 >= 0 and
A107: q`2 = 0 by A101,TOPREAL1:13;
A108: q = |[q`1,q`2]| by EUCLID:53;
    now
      per cases by A1,A14,A17,A104,A107,A102,A108,XXREAL_0:1;
      suppose
A109:   p`1 < q`1;
        now
          assume p10 in LSeg(p1,p00) /\ L4;
          then
A110:     p10 in LSeg(p00,p1) by XBOOLE_0:def 4;
          p00`1 <= p1`1 by A14,A16,EUCLID:52;
          then p10`1 <= p1`1 by A110,TOPREAL1:3;
          hence contradiction by A14,A15,A105,A109,Lm8,XXREAL_0:1;
        end;
        then
A111:   {p10} <> LSeg(p1,p00) /\ L4 by ZFMISC_1:31;
        LSeg(p1,p00) /\ L4 c= {p10} by A3,Lm21,TOPREAL1:6,16,XBOOLE_1:26;
        then
A112:   LSeg(p1,p00) /\ L4 = {} by A111,ZFMISC_1:33;
        p00 in LSeg(p1,p00) by RLTOPSP1:68;
        then
A113:   LSeg(p1,p00) /\ L1 <> {} by Lm20,XBOOLE_0:def 4;
        now
          assume p00 in L1 /\ LSeg(p10,p2);
          then
A114:     p00 in LSeg(p2,p10) by XBOOLE_0:def 4;
          p2`1 <= p10`1 by A104,A105,EUCLID:52;
          hence contradiction by A16,A104,A109,A114,Lm4,TOPREAL1:3;
        end;
        then
A115:   {p00} <> L1 /\ LSeg(p10,p2) by ZFMISC_1:31;
        L1 /\ LSeg(p10,p2) c= {p00} by A101,Lm24,TOPREAL1:6,17,XBOOLE_1:26;
        then
A116:   L1 /\ LSeg(p10,p2) = {} by A115,ZFMISC_1:33;
        L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
        then
A117:   LSeg(p1,p2) /\ L2 = {} by A103,XBOOLE_1:3,26;
A118:   LSeg(p1,p2) /\ LSeg(p1,p00) c= {p1}
        proof
          let a;
          assume
A119:     a in LSeg(p1,p2) /\ LSeg(p1,p00);
          then reconsider p = a as Point of TOP-REAL 2;
A120:     p in LSeg(p00,p1) by A119,XBOOLE_0:def 4;
          p00`1 <= p1`1 by A14,A16,EUCLID:52;
          then
A121:     p`1 <= p1`1 by A120,TOPREAL1:3;
A122:     p in LSeg(p1,p2) by A119,XBOOLE_0:def 4;
          then p1`1 <= p`1 by A14,A104,A109,TOPREAL1:3;
          then
A123:     p1`1 = p`1 by A121,XXREAL_0:1;
          p1`2 <= p`2 by A14,A17,A104,A107,A122,TOPREAL1:4;
          then p`2 = 0 by A14,A17,A104,A107,A122,TOPREAL1:4;
          then p = |[p1`1, 0]| by A123,EUCLID:53
            .= p1 by A14,A17,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
A124:   LSeg (p1,p00) /\ L1 c= L3 /\ L1 by A3,Lm21,TOPREAL1:6,XBOOLE_1:26;
        take P1 = LSeg(p1,p2),P2 = LSeg(p1,p00) \/ (L1 \/ L2 \/ L4 \/ LSeg(p10
        ,p2));
A125:   L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
        L2 /\ LSeg(p10,p2) c= L2 /\ L3 by A101,Lm24,TOPREAL1:6,XBOOLE_1:26;
        then
A126:   L2 /\ LSeg(p10,p2) = {} by A125,XBOOLE_1:3;
        thus P1 is_an_arc_of p1,p2 by A1,TOPREAL1:9;
A127:   (L1 \/ L2) /\ L4 = L1 /\ L4 \/ L2 /\ L4 by XBOOLE_1:23
          .= {p11} by Lm3,TOPREAL1:18;
A128:   LSeg(p1,p2) /\ LSeg(p10,p2) c= {p2}
        proof
          let a;
          assume
A129:     a in LSeg(p1,p2) /\ LSeg(p10,p2);
          then reconsider p = a as Point of TOP-REAL 2;
A130:     p in LSeg(p2,p10) by A129,XBOOLE_0:def 4;
          p2`1 <= p10`1 by A104,A105,EUCLID:52;
          then
A131:     p2`1 <= p`1 by A130,TOPREAL1:3;
A132:     p in LSeg(p1,p2) by A129,XBOOLE_0:def 4;
          then p`1 <= p2`1 by A14,A104,A109,TOPREAL1:3;
          then
A133:     p2`1 = p`1 by A131,XXREAL_0:1;
          p1`2 <= p`2 by A14,A17,A104,A107,A132,TOPREAL1:4;
          then p`2 = 0 by A14,A17,A104,A107,A132,TOPREAL1:4;
          then p = |[ p2`1, 0]| by A133,EUCLID:53
            .= p2 by A104,A107,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
        L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
        then
A134:   LSeg(p1,p00) /\ L2 = {} by A10,XBOOLE_1:3,26;
A135:   now
          set a = the Element of LSeg(p1,p00) /\ LSeg(p10,p2);
          assume
A136:     LSeg(p1,p00) /\ LSeg(p10,p2) <> {};
          then reconsider p = a as Point of TOP-REAL 2 by TARSKI:def 3;
A137:     p in LSeg(p00,p1) by A136,XBOOLE_0:def 4;
A138:     p in LSeg(p2,p10) by A136,XBOOLE_0:def 4;
          p2`1 <= p10 `1 by A104,A105,EUCLID:52;
          then
A139:     p2`1 <= p`1 by A138,TOPREAL1:3;
          p00`1 <= p1`1 by A14,A16,EUCLID:52;
          then p`1 <= p1`1 by A137,TOPREAL1:3;
          hence contradiction by A14,A104,A109,A139,XXREAL_0:2;
        end;
        p10 in LSeg(p10,p2) by RLTOPSP1:68;
        then
A140:   L4 /\ LSeg(p10,p2) <> {} by Lm25,XBOOLE_0:def 4;
        L4 /\ LSeg(p10,p2) c= L4 /\ L3 by A101,Lm24,TOPREAL1:6,XBOOLE_1:26;
        then
A141:   L4 /\ LSeg(p10,p2) = {p10} by A140,TOPREAL1:16,ZFMISC_1:33;
        L1 \/ L2 is_an_arc_of p00,p11 by Lm5,Lm7,TOPREAL1:9,10,15;
        then
A142:   L1 \/ L2 \/ L4 is_an_arc_of p00,p10 by A127,TOPREAL1:10;
        (L1 \/ L2 \/ L4) /\ LSeg(p10,p2) = (L1 \/ L2) /\ LSeg(p10,p2) \/
        L4 /\ LSeg(p10,p2) by XBOOLE_1:23
          .= (L1 /\ LSeg(p10,p2)) \/ (L2 /\ LSeg(p10,p2)) \/ {p10} by A141,
XBOOLE_1:23
          .= {p10} by A116,A126;
        then
A143:   L1 \/ L2 \/ L4 \/ LSeg(p10,p2) is_an_arc_of p00,p2 by A142,TOPREAL1:10;
        LSeg(p1,p00) /\ (L1 \/ L2 \/ L4 \/ LSeg(p10,p2)) = LSeg(p1,p00)
        /\ (L1 \/ L2 \/ L4) \/ (LSeg(p1,p00) /\ LSeg(p10,p2)) by XBOOLE_1:23
          .= LSeg(p1,p00) /\ (L1 \/ L2) \/ (LSeg(p1,p00) /\ L4) by A135,
XBOOLE_1:23
          .= LSeg(p1,p00) /\ L1 \/ (LSeg(p1,p00) /\ L2) by A112,XBOOLE_1:23
          .= {p00} by A134,A124,A113,TOPREAL1:17,ZFMISC_1:33;
        hence P2 is_an_arc_of p1,p2 by A143,TOPREAL1:11;
A144:   p1 in LSeg(p1,p00) by RLTOPSP1:68;
        p1 in LSeg(p1,p2) by RLTOPSP1:68;
        then p1 in LSeg(p1,p2) /\ LSeg(p1,p00) by A144,XBOOLE_0:def 4;
        then {p1} c= LSeg(p1,p2) /\ LSeg(p1,p00) by ZFMISC_1:31;
        then
A145:   LSeg(p1,p2) /\ LSeg(p1,p00) = {p1} by A118,XBOOLE_0:def 10;
        thus P1 \/ P2 = LSeg(p00,p1) \/ LSeg(p1,p2) \/ (L1 \/ L2 \/ L4 \/ LSeg
        (p10,p2)) by XBOOLE_1:4
          .= LSeg(p00,p1) \/ LSeg(p1,p2) \/ LSeg(p2,p10) \/ (L1 \/ L2 \/ L4)
        by XBOOLE_1:4
          .= (L1 \/ L2 \/ L4) \/ L3 by A3,A101,TOPREAL1:7
          .= R^2-unit_square by TOPREAL1:def 2,XBOOLE_1:4;
A146:   p2 in LSeg(p10,p2) by RLTOPSP1:68;
        p2 in LSeg(p1,p2) by RLTOPSP1:68;
        then p2 in LSeg(p1,p2) /\ LSeg(p10,p2) by A146,XBOOLE_0:def 4;
        then {p2} c= LSeg(p1,p2) /\ LSeg(p10,p2) by ZFMISC_1:31;
        then
A147:   LSeg(p1,p2) /\ LSeg(p10,p2) = {p2} by A128,XBOOLE_0:def 10;
A148:   P1 /\ P2 = (LSeg(p1,p2) /\ LSeg(p1,p00)) \/ (LSeg(p1,p2) /\ (L1
        \/ L2 \/ L4 \/ LSeg(p10,p2))) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ (L1 \/ L2 \/ L4)) \/ {p2}) by A145,A147,
XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ (L1 \/ L2)) \/ (LSeg(p1,p2) /\ L4) \/
        {p2}) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ L1) \/ (LSeg(p1,p2) /\ L2) \/ (LSeg(p1
        ,p2) /\ L4) \/ {p2}) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ L1) \/ ((LSeg(p1,p2) /\ L4) \/ {p2}))
        by A117,XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p2) /\ L1) \/ ((LSeg(p1,p2) /\ L4) \/ {p2}) by
XBOOLE_1:4;
A149:   now
          per cases;
          suppose
A150:       p1 = p00;
            p1 in LSeg(p1,p2) by RLTOPSP1:68;
            then
A151:       LSeg(p1,p2) /\ L1 <> {} by A150,Lm20,XBOOLE_0:def 4;
            LSeg(p1,p2) /\ L1 c= L3 /\ L1 by A3,A101,TOPREAL1:6,XBOOLE_1:26;
            then LSeg(p1,p2) /\ L1 = {p1} by A150,A151,TOPREAL1:17,ZFMISC_1:33;
            hence P1 /\ P2 = {p1} \/ ((LSeg(p1,p2) /\ L4) \/ {p2}) by A148;
          end;
          suppose
A152:       p1 <> p00;
            now
              assume p00 in LSeg(p1,p2) /\ L1;
              then p00 in LSeg(p1,p2) by XBOOLE_0:def 4;
              then p1`1 = 0 by A14,A16,A104,A109,Lm4,TOPREAL1:3;
              hence contradiction by A14,A17,A152,EUCLID:53;
            end;
            then
A153:       {p00} <> LSeg(p1,p2) /\ L1 by ZFMISC_1:31;
            LSeg(p1,p2) /\ L1 c= L3 /\ L1 by A3,A101,TOPREAL1:6,XBOOLE_1:26;
            then LSeg(p1,p2) /\ L1 = {} by A153,TOPREAL1:17,ZFMISC_1:33;
            hence P1 /\ P2 = {p1} \/ ((LSeg(p1,p2) /\ L4) \/ {p2}) by A148;
          end;
        end;
        now
          per cases;
          suppose
A154:       p2 = p10;
            p2 in LSeg(p1,p2) by RLTOPSP1:68;
            then
A155:       LSeg(p1,p2) /\ L4 <> {} by A154,Lm25,XBOOLE_0:def 4;
            LSeg(p1,p2) /\ L4 c= {p2} by A3,A101,A154,TOPREAL1:6,16,XBOOLE_1:26
;
            then LSeg(p1,p2) /\ L4 = {p2} by A155,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A149,ENUMSET1:1;
          end;
          suppose
A156:       p2 <> p10;
            now
              assume p10 in LSeg(p1,p2) /\ L4;
              then p10 in LSeg(p1,p2) by XBOOLE_0:def 4;
              then p10`1 <= p2`1 by A14,A104,A109,TOPREAL1:3;
              then p2`1 = 1 by A104,A105,Lm8,XXREAL_0:1;
              hence contradiction by A104,A107,A156,EUCLID:53;
            end;
            then
A157:       {p10} <> LSeg(p1,p2) /\ L4 by ZFMISC_1:31;
            LSeg(p1,p2) /\ L4 c= {p10} by A3,A101,TOPREAL1:6,16,XBOOLE_1:26;
            then LSeg(p1,p2) /\ L4 = {} by A157,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A149,ENUMSET1:1;
          end;
        end;
        hence P1 /\ P2 = {p1,p2};
      end;
      suppose
A158:   q`1 < p`1;
A159:   LSeg(p1,p2) /\ LSeg(p00,p2) c= {p2}
        proof
          let a;
          assume
A160:     a in LSeg(p1,p2) /\ LSeg(p00,p2);
          then reconsider p = a as Point of TOP-REAL 2;
A161:     p in LSeg(p00,p2) by A160,XBOOLE_0:def 4;
          p00`1 <= p2`1 by A104,A106,EUCLID:52;
          then
A162:     p`1 <= p2`1 by A161,TOPREAL1:3;
A163:     p in LSeg(p2,p1) by A160,XBOOLE_0:def 4;
          then p2`1 <= p`1 by A14,A104,A158,TOPREAL1:3;
          then
A164:     p2`1 = p`1 by A162,XXREAL_0:1;
          p2`2 <= p`2 by A14,A17,A104,A107,A163,TOPREAL1:4;
          then p`2 = 0 by A14,A17,A104,A107,A163,TOPREAL1:4;
          then p = |[ p2`1, 0]| by A164,EUCLID:53
            .= p2 by A104,A107,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
        p10 in LSeg(p1,p10) by RLTOPSP1:68;
        then
A165:   LSeg(p1,p10) /\ L4 <> {} by Lm25,XBOOLE_0:def 4;
        now
          assume p10 in L4 /\ LSeg(p00,p2);
          then
A166:     p10 in LSeg(p00,p2) by XBOOLE_0:def 4;
          p00`1 <= p2`1 by A104,A106,EUCLID:52;
          then p10`1 <= p2`1 by A166,TOPREAL1:3;
          hence contradiction by A15,A104,A105,A158,Lm8,XXREAL_0:1;
        end;
        then
A167:   {p10} <> L4 /\ LSeg(p00,p2) by ZFMISC_1:31;
        L4 /\ LSeg(p00,p2) c= L4 /\ L3 by A101,Lm21,TOPREAL1:6,XBOOLE_1:26;
        then
A168:   L4 /\ LSeg(p00,p2) = {} by A167,TOPREAL1:16,ZFMISC_1:33;
A169:   (L4 \/ L2) /\ L1 = L1 /\ L4 \/ L2 /\ L1 by XBOOLE_1:23
          .= {p01} by Lm3,TOPREAL1:15;
        L4 \/ L2 is_an_arc_of p10,p01 by Lm9,Lm11,TOPREAL1:9,10,18;
        then
A170:   L4 \/ L2 \/ L1 is_an_arc_of p10,p00 by A169,TOPREAL1:10;
        now
          assume p00 in LSeg(p1,p10) /\ L1;
          then
A171:     p00 in LSeg(p1,p10) by XBOOLE_0:def 4;
          p1`1 <= p10`1 by A14,A15,EUCLID:52;
          hence contradiction by A14,A106,A158,A171,Lm4,TOPREAL1:3;
        end;
        then
A172:   {p00} <> LSeg(p1,p10) /\ L1 by ZFMISC_1:31;
        LSeg (p1,p10) /\ L1 c= L3 /\ L1 by A3,Lm24,TOPREAL1:6,XBOOLE_1:26;
        then
A173:   LSeg(p1,p10) /\ L1 = {} by A172,TOPREAL1:17,ZFMISC_1:33;
        p00 in LSeg(p00,p2) by RLTOPSP1:68;
        then
A174:   L1 /\ LSeg(p00,p2) <> {} by Lm20,XBOOLE_0:def 4;
        L1 /\ LSeg(p00,p2) c= {p00} by A101,Lm21,TOPREAL1:6,17,XBOOLE_1:26;
        then
A175:   L1 /\ LSeg(p00,p2) = {p00} by A174,ZFMISC_1:33;
A176:   LSeg(p1,p2) /\ LSeg(p1,p10) c= {p1}
        proof
          let a;
          assume
A177:     a in LSeg(p1,p2) /\ LSeg(p1,p10);
          then reconsider p = a as Point of TOP-REAL 2;
A178:     p in LSeg(p1,p10) by A177,XBOOLE_0:def 4;
          p1`1 <= p10`1 by A14,A15,EUCLID:52;
          then
A179:     p1`1 <= p`1 by A178,TOPREAL1:3;
A180:     p in LSeg(p2,p1) by A177,XBOOLE_0:def 4;
          then p`1 <= p1`1 by A14,A104,A158,TOPREAL1:3;
          then
A181:     p1`1 = p`1 by A179,XXREAL_0:1;
          p2`2 <= p`2 by A14,A17,A104,A107,A180,TOPREAL1:4;
          then p`2 = 0 by A14,A17,A104,A107,A180,TOPREAL1:4;
          then p = |[p1`1, 0]| by A181,EUCLID:53
            .= p1 by A14,A17,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
        L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
        then
A182:   LSeg(p1,p10) /\ L2 = {} by A12,XBOOLE_1:3,26;
A183:   now
          set a = the Element of LSeg(p1,p10) /\ LSeg(p00,p2);
          assume
A184:     LSeg(p1,p10) /\ LSeg(p00,p2) <> {};
          then reconsider p = a as Point of TOP-REAL 2 by TARSKI:def 3;
A185:     p in LSeg(p1,p10) by A184,XBOOLE_0:def 4;
A186:     p in LSeg(p00,p2) by A184,XBOOLE_0:def 4;
          p00`1 <= p2 `1 by A104,A106,EUCLID:52;
          then
A187:     p`1 <= p2`1 by A186,TOPREAL1:3;
          p1`1 <= p10`1 by A14,A15,EUCLID:52;
          then p1`1 <= p`1 by A185,TOPREAL1:3;
          hence contradiction by A14,A104,A158,A187,XXREAL_0:2;
        end;
        take P1 = LSeg(p1,p2),P2 = LSeg(p1,p10) \/ (L4 \/ L2 \/ L1 \/ LSeg(p00
        ,p2));
A188:   L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
        L2 /\ LSeg(p00,p2) c= L2 /\ L3 by A101,Lm21,TOPREAL1:6,XBOOLE_1:26;
        then
A189:   L2 /\ LSeg(p00,p2) = {} by A188,XBOOLE_1:3;
A190:   LSeg(p1,p10) /\ L4 c= {p10} by A3,Lm24,TOPREAL1:6,16,XBOOLE_1:26;
        (L4 \/ L2 \/ L1) /\ LSeg(p00,p2) = (L4 \/ L2) /\ LSeg(p00,p2) \/
        L1 /\ LSeg(p00,p2) by XBOOLE_1:23
          .= (L4 /\ LSeg(p00,p2)) \/ (L2 /\ LSeg(p00,p2)) \/ {p00} by A175,
XBOOLE_1:23
          .= {p00} by A168,A189;
        then
A191:   L4 \/ L2 \/ L1 \/ LSeg(p00,p2) is_an_arc_of p10,p2 by A170,TOPREAL1:10;
        thus P1 is_an_arc_of p1,p2 by A1,TOPREAL1:9;
A192:   p2 in LSeg(p00,p2) by RLTOPSP1:68;
        LSeg(p1,p10) /\ (L4 \/ L2 \/ L1 \/ LSeg(p00,p2)) = LSeg(p1,p10)
        /\ (L4 \/ L2 \/ L1) \/ (LSeg(p1,p10) /\ LSeg(p00,p2)) by XBOOLE_1:23
          .= LSeg(p1,p10) /\ (L4 \/ L2) \/ (LSeg(p1,p10) /\ L1) by A183,
XBOOLE_1:23
          .= LSeg(p1,p10) /\ L4 \/ (LSeg(p1,p10) /\ L2) by A173,XBOOLE_1:23
          .= {p10} by A182,A190,A165,ZFMISC_1:33;
        hence P2 is_an_arc_of p1,p2 by A191,TOPREAL1:11;
A193:   p1 in LSeg(p1,p10) by RLTOPSP1:68;
        thus P1 \/ P2 = LSeg(p2,p1) \/ LSeg(p1,p10) \/ (L4 \/ L2 \/ L1 \/ LSeg
        (p00,p2)) by XBOOLE_1:4
          .= LSeg(p00,p2) \/ (LSeg(p2,p1) \/ LSeg(p1,p10)) \/ (L4 \/ L2 \/
        L1) by XBOOLE_1:4
          .= L3 \/ (L4 \/ L2 \/ L1) by A3,A101,TOPREAL1:7
          .= L3 \/ (L4 \/ (L1 \/ L2)) by XBOOLE_1:4
          .= R^2-unit_square by TOPREAL1:def 2,XBOOLE_1:4;
        L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
        then
A194:   LSeg(p1,p2) /\ L2 = {} by A103,XBOOLE_1:3,26;
        p2 in LSeg(p1,p2) by RLTOPSP1:68;
        then p2 in LSeg(p1,p2) /\ LSeg(p00,p2) by A192,XBOOLE_0:def 4;
        then {p2} c= LSeg(p1,p2) /\ LSeg(p00,p2) by ZFMISC_1:31;
        then
A195:   LSeg(p1,p2) /\ LSeg(p00,p2) = {p2} by A159,XBOOLE_0:def 10;
        p1 in LSeg(p1,p2) by RLTOPSP1:68;
        then p1 in LSeg(p1,p2) /\ LSeg(p1,p10) by A193,XBOOLE_0:def 4;
        then {p1} c= LSeg(p1,p2) /\ LSeg(p1,p10) by ZFMISC_1:31;
        then LSeg(p1,p2) /\ LSeg(p1,p10) = {p1} by A176,XBOOLE_0:def 10;
        then
A196:   P1 /\ P2 = {p1} \/ LSeg(p1,p2) /\ (L4 \/ L2 \/ L1 \/ LSeg(p00,p2
        )) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ (L4 \/ L2 \/ L1)) \/ {p2}) by A195,
XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ (L4 \/ L2)) \/ (LSeg(p1,p2) /\ L1) \/
        {p2}) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ L4) \/ (LSeg(p1,p2) /\ L2) \/ (LSeg(p1
        ,p2) /\ L1) \/ {p2}) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ L4) \/ ((LSeg(p1,p2) /\ L1) \/ {p2}))
        by A194,XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p2) /\ L4) \/ ((LSeg(p1,p2) /\ L1) \/ {p2}) by
XBOOLE_1:4;
A197:   now
          per cases;
          suppose
A198:       p2 = p00;
            p2 in LSeg(p1,p2) by RLTOPSP1:68;
            then
A199:       LSeg(p1,p2) /\ L1 <> {} by A198,Lm20,XBOOLE_0:def 4;
            LSeg(p1,p2) /\ L1 c= L3 /\ L1 by A3,A101,TOPREAL1:6,XBOOLE_1:26;
            then LSeg(p1,p2) /\ L1 = {p2} by A198,A199,TOPREAL1:17,ZFMISC_1:33;
            hence P1 /\ P2 = {p1} \/ (LSeg(p1,p2) /\ L4) \/ {p2} by A196;
          end;
          suppose
A200:       p2 <> p00;
            now
              assume p00 in LSeg(p1,p2) /\ L1;
              then p00 in LSeg(p2,p1) by XBOOLE_0:def 4;
              then p2`1 = 0 by A14,A104,A106,A158,Lm4,TOPREAL1:3;
              hence contradiction by A104,A107,A200,EUCLID:53;
            end;
            then
A201:       {p00} <> LSeg(p1,p2) /\ L1 by ZFMISC_1:31;
            LSeg(p1,p2) /\ L1 c= L3 /\ L1 by A3,A101,TOPREAL1:6,XBOOLE_1:26;
            then LSeg(p1,p2) /\ L1 = {} by A201,TOPREAL1:17,ZFMISC_1:33;
            hence P1 /\ P2 = {p1} \/ (LSeg(p1,p2) /\ L4) \/ {p2} by A196;
          end;
        end;
        now
          per cases;
          suppose
A202:       p1 = p10;
            p1 in LSeg(p1,p2) by RLTOPSP1:68;
            then
A203:       LSeg(p1,p2) /\ L4 <> {} by A202,Lm25,XBOOLE_0:def 4;
            LSeg(p1,p2) /\ L4 c= {p1} by A3,A101,A202,TOPREAL1:6,16,XBOOLE_1:26
;
            then LSeg(p1,p2) /\ L4 = {p1} by A203,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A197,ENUMSET1:1;
          end;
          suppose
A204:       p1 <> p10;
            now
              assume p10 in LSeg(p1,p2) /\ L4;
              then p10 in LSeg(p2,p1) by XBOOLE_0:def 4;
              then p10`1 <= p1`1 by A14,A104,A158,TOPREAL1:3;
              then p1`1 = 1 by A14,A15,Lm8,XXREAL_0:1;
              hence contradiction by A14,A17,A204,EUCLID:53;
            end;
            then
A205:       {p10} <> LSeg(p1,p2) /\ L4 by ZFMISC_1:31;
            LSeg(p1,p2) /\ L4 c= {p10} by A3,A101,TOPREAL1:6,16,XBOOLE_1:26;
            then LSeg(p1,p2) /\ L4 = {} by A205,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A197,ENUMSET1:1;
          end;
        end;
        hence P1 /\ P2 = {p1,p2};
      end;
    end;
    hence thesis;
  end;
  suppose
A206: p2 in L4;
    then
A207: ex q st q = p2 & q`1 = 1 & q`2 <= 1 & q`2 >= 0 by TOPREAL1:13;
    now
      assume
A208: p10 in LSeg(p1,p00) /\ LSeg(p11,p2);
      then
A209: p10 in LSeg(p00,p1) by XBOOLE_0:def 4;
      p00`1 <= p1`1 by A14,A16,EUCLID:52;
      then p10`1 <= p1`1 by A209,TOPREAL1:3;
      then 1 = p1`1 by A14,A15,Lm8,XXREAL_0:1;
      then
A210: p1 = p10 by A14,A17,EUCLID:53;
A211: p2`2 <= p11`2 by A207,EUCLID:52;
      p10 in LSeg(p2,p11) by A208,XBOOLE_0:def 4;
      then 0 = p2`2 by A207,A211,Lm9,TOPREAL1:4;
      hence contradiction by A1,A207,A210,EUCLID:53;
    end;
    then
A212: {p10} <> LSeg(p1,p00) /\ LSeg(p11,p2) by ZFMISC_1:31;
A213: L2 is_an_arc_of p01,p11 by Lm6,Lm10,TOPREAL1:9;
    L1 is_an_arc_of p00,p01 by Lm5,Lm7,TOPREAL1:9;
    then
A214: L1 \/ L2 is_an_arc_of p00,p11 by A213,TOPREAL1:2,15;
    take P1 = LSeg(p1,p10) \/ LSeg(p10,p2),P2 = LSeg(p1,p00) \/ (L1 \/ L2 \/
    LSeg(p11,p2));
A215: L3 = LSeg(p1,p10) \/ LSeg(p1,p00) by A3,TOPREAL1:5;
    p11 in LSeg(p11,p2) by RLTOPSP1:68;
    then
A216: L2 /\ LSeg(p11,p2) <> {} by Lm26,XBOOLE_0:def 4;
A217: p10 in LSeg(p10,p2) by RLTOPSP1:68;
    p10 in LSeg(p1,p10) by RLTOPSP1:68;
    then
A218: LSeg(p1,p10) /\ LSeg(p10,p2) <> {} by A217,XBOOLE_0:def 4;
A219: LSeg(p2,p10) c= L4 by A206,Lm25,TOPREAL1:6;
    then LSeg(p1,p10) /\ LSeg(p10,p2) c= L3 /\ L4 by A12,XBOOLE_1:27;
    then
A220: LSeg(p1,p10) /\ LSeg(p10,p2) = {p10} by A218,TOPREAL1:16,ZFMISC_1:33;
    p1 <> p10 or p2 <> p10 by A1;
    hence P1 is_an_arc_of p1,p2 by A220,TOPREAL1:12;
A221: LSeg(p1,p10) /\ LSeg(p1,p00) = {p1} by A3,TOPREAL1:8;
    L1 /\ L4 = {} by TOPREAL1:20,XBOOLE_0:def 7;
    then
A222: LSeg(p10,p2) /\ L1 = {} by A219,XBOOLE_1:3,26;
A223: LSeg(p2,p11) c= L4 by A206,Lm27,TOPREAL1:6;
    then
A224: L2 /\ LSeg(p11,p2) c= {p11} by TOPREAL1:18,XBOOLE_1:27;
A225: L1 /\ LSeg(p11,p2) = {} by A223,Lm3,XBOOLE_1:3,26;
    (L1 \/ L2) /\ LSeg(p11,p2) = (L1 /\ LSeg(p11,p2)) \/ (L2 /\ LSeg(p11
    ,p2)) by XBOOLE_1:23
      .= {p11} by A225,A224,A216,ZFMISC_1:33;
    then
A226: L1 \/ L2 \/ LSeg(p11,p2) is_an_arc_of p00,p2 by A214,TOPREAL1:10;
A227: LSeg(p10,p2) /\ LSeg(p11,p2) = {p2} by A206,TOPREAL1:8;
A228: L4 = LSeg(p11,p2) \/ LSeg(p10,p2) by A206,TOPREAL1:5;
    LSeg(p1,p00) /\ LSeg(p11,p2) c= {p10} by A10,A223,TOPREAL1:16,XBOOLE_1:27;
    then
A229: LSeg(p1,p00) /\ LSeg(p11,p2) = {} by A212,ZFMISC_1:33;
    LSeg(p1,p00) /\ (L1 \/ L2 \/ LSeg(p11,p2)) = (LSeg(p1,p00) /\ (L1 \/
    L2)) \/ (LSeg(p1,p00) /\ LSeg(p11,p2)) by XBOOLE_1:23
      .= (LSeg(p1,p00) /\ L1) \/ (LSeg(p1,p00) /\ L2) by A229,XBOOLE_1:23
      .= {p00} by A8,A6,A11,TOPREAL1:17,ZFMISC_1:33;
    hence P2 is_an_arc_of p1,p2 by A226,TOPREAL1:11;
    thus P1 \/ P2 = LSeg(p10,p2) \/ (LSeg(p1,p10) \/ (LSeg(p1,p00) \/ (L1 \/
    L2 \/ LSeg(p11,p2)))) by XBOOLE_1:4
      .= LSeg(p10,p2) \/ (L3 \/ (L1 \/ L2 \/ LSeg(p11,p2))) by A215,XBOOLE_1:4
      .= (L1 \/ L2) \/ L3 \/ LSeg(p11,p2) \/ LSeg(p10,p2) by XBOOLE_1:4
      .= (L1 \/ L2) \/ L3 \/ L4 by A228,XBOOLE_1:4
      .= R^2-unit_square by TOPREAL1:def 2,XBOOLE_1:4;
A230: P1 /\ P2 = (LSeg(p1,p10) /\ (LSeg(p1,p00) \/ (L1 \/ L2 \/ LSeg(p11,
    p2)))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p00) \/ (L1 \/ L2 \/ LSeg(p11,p2))))
by XBOOLE_1:23
      .= (LSeg(p1,p10) /\ LSeg(p1,p00)) \/ (LSeg(p1,p10) /\ (L1 \/ L2 \/
LSeg(p11,p2))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p00) \/ (L1 \/ L2 \/ LSeg(p11,p2)))
    ) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p10) /\ (L1 \/ L2)) \/ (LSeg(p1,p10) /\ LSeg(p11,
p2))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p00) \/ (L1 \/ L2 \/ LSeg(p11,p2)))) by A221
,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p10) /\ L1) \/ (LSeg(p10,p1) /\ L2) \/ (LSeg(p1,
p10) /\ LSeg(p11,p2))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p00) \/ (L1 \/ L2 \/ LSeg(
    p11,p2)))) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p10) /\ L1) \/ (LSeg(p1,p10) /\ LSeg(p11,p2))) \/
((LSeg(p10,p2) /\ LSeg(p1,p00)) \/ (LSeg(p10,p2) /\ (L1 \/ L2 \/ LSeg(p11,p2)))
    ) by A13,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p10) /\ L1) \/ (LSeg(p1,p10) /\ LSeg(p11,p2))) \/
((LSeg(p10,p2) /\ LSeg(p1,p00)) \/ ((LSeg(p10,p2) /\ (L1 \/ L2)) \/ {p2})) by
A227,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p10) /\ L1) \/ (LSeg(p1,p10) /\ LSeg(p11,p2))) \/
((LSeg(p10,p2) /\ LSeg(p1,p00)) \/ ((LSeg(p10,p2) /\ L1) \/ (LSeg(p10,p2) /\ L2
    ) \/ {p2})) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p10) /\ L1) \/ (LSeg(p1,p10) /\ LSeg(p11,p2))) \/
    ((LSeg(p10,p2) /\ LSeg(p1,p00)) \/ ((LSeg(p10,p2) /\ L2) \/ {p2})) by A222;
A231: now
      per cases;
      suppose
A232:   p1 = p00;
        then
A233:   LSeg(p10,p2) /\ LSeg(p1,p00) = LSeg(p10,p2) /\ {p00} by RLTOPSP1:70;
        not p00 in LSeg(p10,p2) by A219,Lm4,Lm8,Lm10,TOPREAL1:3;
        then LSeg(p10,p2) /\ LSeg(p1,p00) = {} by A233,Lm1;
        hence P1 /\ P2 = {p1} \/ {p1} \/ (LSeg(p1,p10) /\ LSeg(p11,p2)) \/ ((
        LSeg(p10,p2) /\ L2) \/ {p2}) by A230,A232,TOPREAL1:17,XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p10) /\ LSeg(p11,p2)) \/ ((LSeg(p10,p2) /\ L2)
        \/ {p2});
      end;
      suppose
A234:   p1 = p10;
A235:   p1 in LSeg(p1,p00) by RLTOPSP1:68;
        p1 in LSeg(p10,p2) by A234,RLTOPSP1:68;
        then
A236:   {} <> LSeg(p10,p2) /\ LSeg(p1,p00) by A235,XBOOLE_0:def 4;
        LSeg(p1,p10) /\ L1 = {p10} /\ L1 by A234,RLTOPSP1:70;
        then
A237:   LSeg(p1,p10) /\ L1 = {} by Lm1,Lm16;
        LSeg(p10,p2) /\ LSeg(p1,p00) c= L4 /\ L3 by A10,A219,XBOOLE_1:27;
        then LSeg(p10,p2) /\ LSeg(p1,p00) = {p1} by A234,A236,TOPREAL1:16
,ZFMISC_1:33;
        hence
        P1 /\ P2 = {p1} \/ ({p1} \/ (LSeg(p1,p10) /\ LSeg(p11,p2))) \/ ((
        LSeg(p10,p2) /\ L2) \/ {p2}) by A230,A237,XBOOLE_1:4
          .= {p1} \/ {p1} \/ (LSeg(p1,p10) /\ LSeg(p11,p2)) \/ ((LSeg(p10,p2
        ) /\ L2) \/ {p2}) by XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p10) /\ LSeg(p11,p2)) \/ ((LSeg(p10,p2) /\ L2)
        \/ {p2});
      end;
      suppose
A238:   p1 <> p10 & p1 <> p00;
        now
          assume p10 in LSeg(p10,p2) /\ LSeg(p1,p00);
          then
A239:     p10 in LSeg(p00,p1) by XBOOLE_0:def 4;
          p00`1 <= p1`1 by A14,A16,EUCLID:52;
          then p10`1 <= p1`1 by A239,TOPREAL1:3;
          then p1`1 = 1 by A14,A15,Lm8,XXREAL_0:1;
          hence contradiction by A14,A17,A238,EUCLID:53;
        end;
        then
A240:   {p10} <> LSeg(p10,p2) /\ LSeg(p1,p00) by ZFMISC_1:31;
        LSeg(p10,p2) /\ LSeg(p1,p00) c= L4 /\ L3 by A10,A219,XBOOLE_1:27;
        then
A241:   LSeg(p10,p2) /\ LSeg(p1,p00) = {} by A240,TOPREAL1:16,ZFMISC_1:33;
        now
          assume p00 in LSeg(p1,p10) /\ L1;
          then
A242:     p00 in LSeg(p1,p10) by XBOOLE_0:def 4;
          p1`1 <= p10`1 by A14,A15,EUCLID:52;
          then p1`1 = 0 by A14,A16,A242,Lm4,TOPREAL1:3;
          hence contradiction by A14,A17,A238,EUCLID:53;
        end;
        then
A243:   {p00} <> LSeg(p1,p10) /\ L1 by ZFMISC_1:31;
        LSeg (p1,p10) /\ L1 c= L3 /\ L1 by A3,Lm24,TOPREAL1:6,XBOOLE_1:26;
        then LSeg(p1,p10) /\ L1 = {} by A243,TOPREAL1:17,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ (LSeg(p1,p10) /\ LSeg(p11,p2)) \/ ((LSeg(p10,
        p2) /\ L2) \/ {p2}) by A230,A241;
      end;
    end;
    now
      per cases;
      suppose
A244:   p2 = p10;
        p10 in LSeg(p1,p10) by RLTOPSP1:68;
        then
A245:   {} <> LSeg(p1,p10) /\ LSeg(p11,p2) by A244,Lm25,XBOOLE_0:def 4;
        LSeg(p10,p2) /\ L2 = {p10} /\ L2 by A244,RLTOPSP1:70;
        then
A246:   LSeg(p10,p2) /\ L2 = {} by Lm1,Lm17;
        LSeg(p1,p10) /\ LSeg(p11,p2) c= {p2} by A12,A244,TOPREAL1:16
,XBOOLE_1:27;
        then LSeg(p1,p10) /\ LSeg(p11,p2) = {p2} by A245,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ ({p2} \/ {p2}) by A231,A246,XBOOLE_1:4
          .= {p1,p2} by ENUMSET1:1;
      end;
      suppose
A247:   p2 = p11;
        then
A248:   LSeg(p1,p10) /\ LSeg(p11,p2) = LSeg(p1,p10) /\ {p11} by RLTOPSP1:70;
        not p11 in LSeg(p1,p10) by A12,Lm5,Lm9,Lm11,TOPREAL1:4;
        then LSeg(p1,p10) /\ LSeg(p11,p2) = {} by A248,Lm1;
        hence thesis by A231,A247,ENUMSET1:1,TOPREAL1:18;
      end;
      suppose
A249:   p2 <> p11 & p2 <> p10;
        now
          assume p11 in LSeg(p10,p2) /\ L2;
          then
A250:     p11 in LSeg(p10,p2) by XBOOLE_0:def 4;
          p10`2 <= p2`2 by A207,EUCLID:52;
          then p11`2 <= p2`2 by A250,TOPREAL1:4;
          then 1 = p2`2 by A207,Lm11,XXREAL_0:1;
          hence contradiction by A207,A249,EUCLID:53;
        end;
        then
A251:   {p11} <> LSeg(p10,p2) /\ L2 by ZFMISC_1:31;
        LSeg (p10,p2) /\ L2 c= L4 /\ L2 by A206,Lm25,TOPREAL1:6,XBOOLE_1:26;
        then
A252:   LSeg(p10,p2) /\ L2 = {} by A251,TOPREAL1:18,ZFMISC_1:33;
        now
          assume p10 in LSeg(p1,p10) /\ LSeg(p11,p2);
          then
A253:     p10 in LSeg(p2,p11) by XBOOLE_0:def 4;
          p2`2 <= p11`2 by A207,EUCLID:52;
          then p2`2 = 0 by A207,A253,Lm9,TOPREAL1:4;
          hence contradiction by A207,A249,EUCLID:53;
        end;
        then
A254:   {p10} <> LSeg(p1,p10) /\ LSeg(p11,p2) by ZFMISC_1:31;
        LSeg(p1,p10) /\ LSeg(p11,p2) c= {p10} by A12,A223,TOPREAL1:16
,XBOOLE_1:27;
        then LSeg(p1,p10) /\ LSeg(p11,p2) = {} by A254,ZFMISC_1:33;
        hence thesis by A231,A252,ENUMSET1:1;
      end;
    end;
    hence thesis;
  end;
end;

Lm33: p1 <> p2 & p2 in R^2-unit_square & p1 in LSeg(p10, p11) implies ex P1,P2
being non empty Subset of TOP-REAL 2 st P1 is_an_arc_of p1,p2 & P2 is_an_arc_of
p1,p2 & R^2-unit_square = P1 \/ P2 & P1 /\ P2 = {p1,p2}
proof
  assume that
A1: p1 <> p2 and
A2: p2 in R^2-unit_square and
A3: p1 in LSeg(p10, p11);
A4: p2 in L1 \/ L2 or p2 in L3 \/ L4 by A2,TOPREAL1:def 2,XBOOLE_0:def 3;
A5: LSeg(p1,p11) c= L4 by A3,Lm27,TOPREAL1:6;
  p11 in LSeg(p1,p11) by RLTOPSP1:68;
  then
A6: {} <> LSeg(p1,p11) /\ L2 by Lm26,XBOOLE_0:def 4;
  p10 in LSeg(p1,p10) by RLTOPSP1:68;
  then
A7: {} <> LSeg(p1,p10) /\ L3 by Lm24,XBOOLE_0:def 4;
A8: LSeg(p1,p11) /\ L2 c= L4 /\ L2 by A3,Lm27,TOPREAL1:6,XBOOLE_1:26;
A9: LSeg(p1,p10) /\ L3 c= L4 /\ L3 by A3,Lm25,TOPREAL1:6,XBOOLE_1:26;
  L1 /\ L4 = {} by TOPREAL1:20,XBOOLE_0:def 7;
  then
A10: LSeg(p1,p11) /\ L1 = {} by A5,XBOOLE_1:3,26;
A11: LSeg(p1,p10) c= L4 by A3,Lm25,TOPREAL1:6;
  L1 /\ L4 = {} by TOPREAL1:20,XBOOLE_0:def 7;
  then
A12: LSeg(p10,p1) /\ L1 = {} by A11,XBOOLE_1:3,26;
  consider p such that
A13: p = p1 and
A14: p`1 = 1 and
A15: p`2 <= 1 and
A16: p`2 >= 0 by A3,TOPREAL1:13;
  per cases by A4,XBOOLE_0:def 3;
  suppose
A17: p2 in L1;
    p00 in LSeg(p00,p2) by RLTOPSP1:68;
    then
A18: L3 /\ LSeg(p00,p2) <> {} by Lm21,XBOOLE_0:def 4;
    L3 /\ LSeg(p00,p2) c= L3 /\ L1 by A17,Lm20,TOPREAL1:6,XBOOLE_1:26;
    then L3 /\ LSeg(p00,p2) = {p00} by A18,TOPREAL1:17,ZFMISC_1:33;
    then
A19: L3 \/ LSeg(p00,p2) is_an_arc_of p10,p2 by Lm4,Lm8,TOPREAL1:9,10;
A20: LSeg(p2,p00) c= L1 by A17,Lm20,TOPREAL1:6;
    then
A21: LSeg(p1,p10) /\ LSeg(p00,p2) = {} by A11,Lm3,XBOOLE_1:3,27;
A22: LSeg(p2,p01) c= L1 by A17,Lm22,TOPREAL1:6;
    then
A23: LSeg(p1,p11) /\ LSeg(p01,p2) = {} by A5,Lm3,XBOOLE_1:3,27;
    L1 /\ L4 = {} by TOPREAL1:20,XBOOLE_0:def 7;
    then
A24: LSeg(p1,p11) /\ LSeg(p00,p2) = {} by A5,A20,XBOOLE_1:3,27;
    L1 /\ L4 = {} by TOPREAL1:20,XBOOLE_0:def 7;
    then
A25: LSeg(p01,p2) /\ LSeg(p1,p10) = {} by A11,A22,XBOOLE_1:3,27;
A26: LSeg(p01,p2) /\ LSeg(p00,p2) = {p2} by A17,TOPREAL1:8;
    p01 in LSeg(p01,p2) by RLTOPSP1:68;
    then
A27: p01 in L2 /\ LSeg(p01,p2) by Lm23,XBOOLE_0:def 4;
    L2 /\ LSeg(p01,p2) c= L2 /\ L1 by A17,Lm22,TOPREAL1:6,XBOOLE_1:26;
    then L2 /\ LSeg(p01,p2) = {p01} by A27,TOPREAL1:15,ZFMISC_1:33;
    then
A28: L2 \/ LSeg(p01,p2) is_an_arc_of p11,p2 by Lm6,Lm10,TOPREAL1:9,10;
    take P1 = LSeg(p1,p11) \/ L2 \/ LSeg(p01,p2),P2 = LSeg(p1,p10) \/ L3 \/
    LSeg(p00,p2);
A29: LSeg(p1,p11) \/ LSeg(p1,p10) = L4 by A3,TOPREAL1:5;
    LSeg(p1,p11) /\ (L2 \/ LSeg(p01,p2)) = (LSeg(p1,p11) /\ L2) \/ (LSeg(
    p1,p11) /\ LSeg(p01,p2)) by XBOOLE_1:23
      .= {p11} by A8,A6,A23,TOPREAL1:18,ZFMISC_1:33;
    then LSeg(p1,p11) \/ (L2 \/ LSeg(p01,p2)) is_an_arc_of p1,p2 by A28,
TOPREAL1:11;
    hence P1 is_an_arc_of p1,p2 by XBOOLE_1:4;
A30: ex q st q = p2 & q`1 = 0 & q`2 <= 1 & q`2 >= 0 by A17,TOPREAL1:13;
    LSeg(p1,p10) /\ (L3 \/ LSeg(p00,p2)) = (LSeg(p1,p10) /\ L3) \/ (LSeg(
    p1,p10) /\ LSeg(p00,p2)) by XBOOLE_1:23
      .= {p10} by A9,A7,A21,TOPREAL1:16,ZFMISC_1:33;
    then LSeg(p1,p10) \/ (L3 \/ LSeg(p00,p2)) is_an_arc_of p1,p2 by A19,
TOPREAL1:11;
    hence P2 is_an_arc_of p1,p2 by XBOOLE_1:4;
    thus R^2-unit_square = LSeg(p00,p2) \/ LSeg(p01,p2) \/ L2 \/ (L3 \/ L4) by
A17,TOPREAL1:5,def 2
      .= LSeg(p00,p2) \/ (LSeg(p01,p2) \/ L2) \/ (L3 \/ L4) by XBOOLE_1:4
      .= L2 \/ LSeg(p01,p2) \/ (L4 \/ L3 \/ LSeg(p00,p2)) by XBOOLE_1:4
      .= L2 \/ LSeg(p01,p2) \/ (L4 \/ (L3 \/ LSeg(p00,p2))) by XBOOLE_1:4
      .= L2 \/ LSeg(p01,p2) \/ (LSeg(p1,p11) \/ (LSeg(p1,p10) \/ (L3 \/ LSeg
    (p00,p2)))) by A29,XBOOLE_1:4
      .= L2 \/ LSeg(p01,p2) \/ (LSeg(p1,p11) \/ (LSeg(p1,p10) \/ L3 \/ LSeg(
    p00,p2))) by XBOOLE_1:4
      .= (LSeg(p1,p11) \/ (L2 \/ LSeg(p01,p2))) \/ (LSeg(p1,p10) \/ L3 \/
    LSeg(p00,p2)) by XBOOLE_1:4
      .= P1 \/ P2 by XBOOLE_1:4;
A31: LSeg(p1,p11) /\ LSeg(p1,p10) = {p1} by A3,TOPREAL1:8;
A32: P1 /\ P2 = ((LSeg(p1,p11) \/ L2) /\ (LSeg(p1,p10) \/ L3 \/ LSeg(p00,
p2))) \/ (LSeg(p01,p2) /\ (LSeg(p1,p10) \/ L3 \/ LSeg(p00,p2))) by XBOOLE_1:23
      .= ((LSeg(p1,p11) \/ L2) /\ (LSeg(p1,p10) \/ L3 \/ LSeg(p00,p2))) \/ (
    (LSeg(p01,p2) /\ (LSeg(p1,p10) \/ L3)) \/ {p2}) by A26,XBOOLE_1:23
      .= ((LSeg(p1,p11) \/ L2) /\ (LSeg(p1,p10) \/ L3 \/ LSeg(p00,p2))) \/ (
(LSeg(p01,p2) /\ LSeg(p1,p10)) \/ (LSeg(p01,p2) /\ L3) \/ {p2}) by XBOOLE_1:23
      .= ((LSeg(p1,p11) /\ (LSeg(p1,p10) \/ L3 \/ LSeg(p00,p2))) \/ (L2 /\ (
LSeg(p1,p10) \/ L3 \/ LSeg(p00,p2)))) \/ ((LSeg(p01,p2) /\ L3) \/ {p2}) by A25,
XBOOLE_1:23
      .= (LSeg(p1,p11) /\ (LSeg(p1,p10) \/ L3 \/ LSeg(p00,p2))) \/ ((L2 /\ (
LSeg(p1,p10) \/ L3)) \/ (L2 /\ LSeg(p00,p2))) \/ ((LSeg(p01,p2) /\ L3) \/ {p2})
    by XBOOLE_1:23
      .= (LSeg(p1,p11) /\ (LSeg(p1,p10) \/ L3 \/ LSeg(p00,p2))) \/ ((L2 /\
LSeg(p1,p10)) \/ (L3 /\ L2) \/ (L2 /\ LSeg(p00,p2))) \/ ((LSeg(p01,p2) /\ L3)
    \/ {p2}) by XBOOLE_1:23
      .= ((LSeg(p1,p11) /\ (LSeg(p1,p10) \/ L3)) \/ (LSeg(p1,p11) /\ LSeg(
p00,p2))) \/ ((L2 /\ LSeg(p1,p10)) \/ (L2 /\ LSeg(p00,p2))) \/ ((LSeg(p01,p2)
    /\ L3) \/ {p2}) by Lm2,XBOOLE_1:23
      .= {p1} \/ (LSeg(p1,p11) /\ L3) \/ ((L2 /\ LSeg(p1,p10)) \/ (L2 /\
    LSeg(p00,p2))) \/ ((LSeg(p01,p2) /\ L3) \/ {p2}) by A24,A31,XBOOLE_1:23;
A33: now
      per cases;
      suppose
A34:    p1 = p10;
        then L2 /\ LSeg(p1,p10) = L2 /\ {p10} by RLTOPSP1:70;
        then L2 /\ LSeg(p1,p10) = {} by Lm1,Lm17;
        hence P1 /\ P2 = {p1} \/ (L2 /\ LSeg(p00,p2)) \/ ((LSeg(p01,p2) /\ L3)
        \/ {p2}) by A32,A34,TOPREAL1:16;
      end;
      suppose
A35:    p1 = p11;
        then LSeg(p1,p11) /\ L3 = {p11} /\ L3 by RLTOPSP1:70;
        then LSeg(p1,p11) /\ L3 = {} by Lm1,Lm19;
        hence
        P1 /\ P2 = {p1} \/ {p1} \/ (L2 /\ LSeg(p00,p2)) \/ ((LSeg(p01,p2)
        /\ L3) \/ {p2}) by A32,A35,TOPREAL1:18,XBOOLE_1:4
          .= {p1} \/ (L2 /\ LSeg(p00,p2)) \/ ((LSeg(p01,p2) /\ L3) \/ {p2});
      end;
      suppose
A36:    p1 <> p11 & p1 <> p10;
        now
          assume p11 in L2 /\ LSeg(p1,p10);
          then
A37:      p11 in LSeg(p10,p1) by XBOOLE_0:def 4;
          p10`2 <= p1`2 by A13,A16,EUCLID:52;
          then p11`2 <= p1`2 by A37,TOPREAL1:4;
          then 1 = p1`2 by A13,A15,Lm11,XXREAL_0:1;
          hence contradiction by A13,A14,A36,EUCLID:53;
        end;
        then
A38:    {p11} <> L2 /\ LSeg(p1,p10) by ZFMISC_1:31;
        L2 /\ LSeg(p1,p10) c= {p11} by A3,Lm25,TOPREAL1:6,18,XBOOLE_1:26;
        then
A39:    L2 /\ LSeg(p1,p10) = {} by A38,ZFMISC_1:33;
        now
          assume p10 in LSeg(p1,p11) /\ L3;
          then
A40:      p10 in LSeg(p1,p11) by XBOOLE_0:def 4;
          p1`2 <= p11`2 by A13,A15,EUCLID:52;
          then p1`2 = 0 by A13,A16,A40,Lm9,TOPREAL1:4;
          hence contradiction by A13,A14,A36,EUCLID:53;
        end;
        then
A41:    {p10} <> LSeg(p1,p11) /\ L3 by ZFMISC_1:31;
        LSeg (p1,p11) /\ L3 c= L4 /\ L3 by A3,Lm27,TOPREAL1:6,XBOOLE_1:26;
        then LSeg(p1,p11) /\ L3 = {} by A41,TOPREAL1:16,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ (L2 /\ LSeg(p00,p2)) \/ ((LSeg(p01,p2) /\ L3)
        \/ {p2}) by A32,A39;
      end;
    end;
    now
      per cases;
      suppose
A42:    p2 = p00;
        then L2 /\ LSeg(p00,p2) = L2 /\ {p00} by RLTOPSP1:70;
        then L2 /\ LSeg(p00,p2) = {} by Lm1,Lm13;
        hence thesis by A33,A42,ENUMSET1:1,TOPREAL1:17;
      end;
      suppose
A43:    p2 = p01;
        then LSeg(p01,p2) /\ L3 = {p01} /\ L3 by RLTOPSP1:70;
        then LSeg(p01,p2) /\ L3 = {} by Lm1,Lm14;
        hence P1 /\ P2 = {p1} \/ ({p2} \/ {p2}) by A33,A43,TOPREAL1:15
,XBOOLE_1:4
          .= {p1,p2} by ENUMSET1:1;
      end;
      suppose
A44:    p2 <> p01 & p2 <> p00;
        now
          assume p00 in LSeg(p01,p2) /\ L3;
          then
A45:      p00 in LSeg(p2,p01) by XBOOLE_0:def 4;
          p2`2 <= p01`2 by A30,EUCLID:52;
          then 0 = p2`2 by A30,A45,Lm5,TOPREAL1:4;
          hence contradiction by A30,A44,EUCLID:53;
        end;
        then
A46:    {p00} <> LSeg(p01,p2) /\ L3 by ZFMISC_1:31;
        LSeg(p01,p2) /\ L3 c= {p00} by A17,Lm22,TOPREAL1:6,17,XBOOLE_1:26;
        then
A47:    LSeg(p01,p2) /\ L3 = {} by A46,ZFMISC_1:33;
        now
          assume p01 in L2 /\ LSeg(p00,p2);
          then
A48:      p01 in LSeg(p00,p2) by XBOOLE_0:def 4;
          p00`2 <= p2`2 by A30,EUCLID:52;
          then p01`2 <= p2`2 by A48,TOPREAL1:4;
          then p2`2 = 1 by A30,Lm7,XXREAL_0:1;
          hence contradiction by A30,A44,EUCLID:53;
        end;
        then
A49:    {p01} <> L2 /\ LSeg(p00,p2) by ZFMISC_1:31;
        L2 /\ LSeg(p00,p2) c= L2 /\ L1 by A17,Lm20,TOPREAL1:6,XBOOLE_1:26;
        then L2 /\ LSeg(p00,p2) = {} by A49,TOPREAL1:15,ZFMISC_1:33;
        hence thesis by A33,A47,ENUMSET1:1;
      end;
    end;
    hence thesis;
  end;
  suppose
A50: p2 in L2;
    then
A51: ex q st q = p2 & q`1 <= 1 & q`1 >= 0 & q`2 = 1 by TOPREAL1:13;
    now
A52:  p01`1 <= p2`1 by A51,EUCLID:52;
      assume
A53:  p11 in LSeg(p1,p10) /\ LSeg(p01,p2);
      then
A54:  p11 in LSeg(p10,p1) by XBOOLE_0:def 4;
      p11 in LSeg(p01,p2) by A53,XBOOLE_0:def 4;
      then p11`1 <= p2`1 by A52,TOPREAL1:3;
      then
A55:  1 = p2`1 by A51,Lm10,XXREAL_0:1;
      p10`2 <= p1`2 by A13,A16,EUCLID:52;
      then p11`2 <= p1`2 by A54,TOPREAL1:4;
      then 1 = p1`2 by A13,A15,Lm11,XXREAL_0:1;
      then p1 = p11 by A13,A14,EUCLID:53
        .= p2 by A51,A55,EUCLID:53;
      hence contradiction by A1;
    end;
    then
A56: {p11} <> LSeg(p1,p10) /\ LSeg(p01,p2) by ZFMISC_1:31;
A57: L1 is_an_arc_of p00,p01 by Lm5,Lm7,TOPREAL1:9;
    L3 is_an_arc_of p10,p00 by Lm4,Lm8,TOPREAL1:9;
    then
A58: L3 \/ L1 is_an_arc_of p10,p01 by A57,TOPREAL1:2,17;
    L1 /\ L4 = {} by TOPREAL1:20,XBOOLE_0:def 7;
    then
A59: LSeg(p1,p11) /\ L1 = {} by A5,XBOOLE_1:3,26;
    take P1 = LSeg(p1,p11) \/ LSeg(p11,p2),P2 = LSeg(p1,p10) \/ (L3 \/ L1 \/
    LSeg(p01,p2));
A60: LSeg(p1,p11) \/ LSeg(p1,p10) = L4 by A3,TOPREAL1:5;
    p01 in LSeg(p01,p2) by RLTOPSP1:68;
    then
A61: L1 /\ LSeg(p01,p2) <> {} by Lm22,XBOOLE_0:def 4;
A62: p11 in LSeg(p11,p2) by RLTOPSP1:68;
    p11 in LSeg(p1,p11) by RLTOPSP1:68;
    then
A63: p11 in LSeg(p1,p11) /\ LSeg(p11,p2) by A62,XBOOLE_0:def 4;
A64: LSeg(p11,p2) c= L2 by A50,Lm26,TOPREAL1:6;
    then LSeg(p1,p11) /\ LSeg(p11,p2) c= L4 /\ L2 by A5,XBOOLE_1:27;
    then
A65: LSeg(p1,p11) /\ LSeg(p11,p2) = {p11} by A63,TOPREAL1:18,ZFMISC_1:33;
    p1 <> p11 or p11 <> p2 by A1;
    hence P1 is_an_arc_of p1,p2 by A65,TOPREAL1:12;
A66: {p1} = LSeg(p1,p11) /\ LSeg(p1,p10) by A3,TOPREAL1:8;
    L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
    then
A67: LSeg(p11,p2) /\ L3 = {} by A64,XBOOLE_1:3,26;
A68: LSeg(p2,p01) c= L2 by A50,Lm23,TOPREAL1:6;
    then
A69: L1 /\ LSeg(p01,p2) c= {p01} by TOPREAL1:15,XBOOLE_1:27;
A70: L3 /\ LSeg(p01,p2) = {} by A68,Lm2,XBOOLE_1:3,26;
    (L3 \/ L1) /\ LSeg(p01,p2) = (L3 /\ LSeg(p01,p2)) \/ (L1 /\ LSeg(p01
    ,p2)) by XBOOLE_1:23
      .= {p01} by A70,A69,A61,ZFMISC_1:33;
    then
A71: L3 \/ L1 \/ LSeg(p01,p2) is_an_arc_of p10,p2 by A58,TOPREAL1:10;
A72: {p2} = LSeg(p11,p2) /\ LSeg(p01,p2) by A50,TOPREAL1:8;
A73: LSeg(p01,p2) \/ LSeg(p11,p2) = L2 by A50,TOPREAL1:5;
    LSeg(p1,p10) /\ LSeg(p01,p2) c= L4 /\ L2 by A11,A68,XBOOLE_1:27;
    then
A74: LSeg(p1,p10) /\ LSeg(p01,p2) = {} by A56,TOPREAL1:18,ZFMISC_1:33;
    LSeg(p1,p10) /\ (L3 \/ L1 \/ LSeg(p01,p2)) = (LSeg(p1,p10) /\ (L3 \/
    L1)) \/ (LSeg(p1,p10) /\ LSeg(p01,p2)) by XBOOLE_1:23
      .= (LSeg(p1,p10) /\ L3) \/ (LSeg(p10,p1) /\ L1) by A74,XBOOLE_1:23
      .= {p10} by A9,A7,A12,TOPREAL1:16,ZFMISC_1:33;
    hence P2 is_an_arc_of p1,p2 by A71,TOPREAL1:11;
    thus P1 \/ P2 = LSeg(p11,p2) \/ (LSeg(p1,p11) \/ (LSeg(p1,p10) \/ (L3 \/
    L1 \/ LSeg(p01,p2)))) by XBOOLE_1:4
      .= LSeg(p11,p2) \/ (L4 \/ (L3 \/ L1 \/ LSeg(p01,p2))) by A60,XBOOLE_1:4
      .= LSeg(p11,p2) \/ (L4 \/ (L3 \/ L1) \/ LSeg(p01,p2)) by XBOOLE_1:4
      .= LSeg(p11,p2) \/ (L3 \/ L4 \/ L1 \/ LSeg(p01,p2)) by XBOOLE_1:4
      .= LSeg(p11,p2) \/ (L3 \/ L4 \/ (L1 \/ LSeg(p01,p2))) by XBOOLE_1:4
      .= (L1 \/ LSeg(p01,p2) \/ LSeg(p11,p2)) \/ (L3 \/ L4) by XBOOLE_1:4
      .= R^2-unit_square by A73,TOPREAL1:def 2,XBOOLE_1:4;
A75: P1 /\ P2 = (LSeg(p1,p11) /\ (LSeg(p1,p10) \/ (L3 \/ L1 \/ LSeg(p01,
    p2)))) \/ (LSeg(p11,p2) /\ (LSeg(p1,p10) \/ (L3 \/ L1 \/ LSeg(p01,p2))))
by XBOOLE_1:23
      .= (LSeg(p1,p11) /\ LSeg(p1,p10)) \/ (LSeg(p1,p11) /\ (L3 \/ L1 \/
LSeg(p01,p2))) \/ (LSeg(p11,p2) /\ (LSeg(p1,p10) \/ (L3 \/ L1 \/ LSeg(p01,p2)))
    ) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p11) /\ (L3 \/ L1)) \/ (LSeg(p1,p11) /\ LSeg(p01,
p2))) \/ (LSeg(p11,p2) /\ (LSeg(p1,p10) \/ (L3 \/ L1 \/ LSeg(p01,p2)))) by A66,
XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p11) /\ L3) \/ (LSeg(p1,p11) /\ L1) \/ (LSeg(p1,
p11) /\ LSeg(p01,p2))) \/ (LSeg(p11,p2) /\ (LSeg(p1,p10) \/ (L3 \/ L1 \/ LSeg(
    p01,p2)))) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p11) /\ L3) \/ (LSeg(p1,p11) /\ LSeg(p01,p2))) \/
((LSeg(p11,p2) /\ LSeg(p1,p10)) \/ (LSeg(p11,p2) /\ (L3 \/ L1 \/ LSeg(p01,p2)))
    ) by A59,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p11) /\ L3) \/ (LSeg(p1,p11) /\ LSeg(p01,p2))) \/
((LSeg(p11,p2) /\ (LSeg(p1,p10)) \/ ((LSeg(p11,p2) /\ (L3 \/ L1)) \/ {p2})))
by A72,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p11) /\ L3) \/ (LSeg(p1,p11) /\ LSeg(p01,p2))) \/
((LSeg(p11,p2) /\ (LSeg(p1,p10)) \/ (((LSeg(p11,p2) /\ L3) \/ (LSeg(p11,p2) /\
    L1)) \/ {p2}))) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p11) /\ L3) \/ (LSeg(p1,p11) /\ LSeg(p01,p2))) \/
    ((LSeg(p11,p2) /\ LSeg(p1,p10)) \/ ((LSeg(p11,p2) /\ L1) \/ {p2})) by A67;
A76: now
      per cases;
      suppose
A77:    p1 = p10;
        then
A78:    LSeg(p11,p2) /\ LSeg(p1,p10) = LSeg(p11,p2) /\ {p10} by RLTOPSP1:70;
        p10 in LSeg(p11,p2) implies contradiction by A64,Lm7,Lm9,Lm11,
TOPREAL1:4;
        then
A79:    LSeg(p11,p2) /\ LSeg(p1,p10) = {} by A78,Lm1;
        thus P1 /\ P2 = {p1} \/ {p1} \/ (LSeg(p1,p11) /\ LSeg(p01,p2)) \/ ((
LSeg(p11,p2) /\ LSeg(p1,p10)) \/ ((LSeg(p11,p2) /\ L1) \/ {p2})) by A75,A77,
TOPREAL1:16,XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p11) /\ LSeg(p01,p2)) \/ ((LSeg(p11,p2) /\ L1)
        \/ {p2}) by A79;
      end;
      suppose
A80:    p1 = p11;
        p11 in LSeg(p11,p2) by RLTOPSP1:68;
        then
A81:    LSeg(p11,p2) /\ LSeg(p1,p10) <> {} by A80,Lm27,XBOOLE_0:def 4;
        LSeg(p11,p2) /\ LSeg(p1,p10) c= {p1} by A64,A80,TOPREAL1:18,XBOOLE_1:27
;
        then
A82:    LSeg(p11,p2) /\ LSeg(p1,p10) = {p1} by A81,ZFMISC_1:33;
        LSeg(p1,p11) /\ L3 = {p11} /\ L3 by A80,RLTOPSP1:70;
        then LSeg(p1,p11) /\ L3 = {} by Lm1,Lm19;
        hence
        P1 /\ P2 = {p1} \/ ({p1} \/ (LSeg(p1,p11) /\ LSeg(p01,p2))) \/ ((
        LSeg(p11,p2) /\ L1) \/ {p2}) by A75,A82,XBOOLE_1:4
          .= {p1} \/ {p1} \/ (LSeg(p1,p11) /\ LSeg(p01,p2)) \/ ((LSeg(p11,p2
        ) /\ L1) \/ {p2}) by XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p11) /\ LSeg(p01,p2)) \/ ((LSeg(p11,p2) /\ L1)
        \/ {p2});
      end;
      suppose
A83:    p1 <> p11 & p1 <> p10;
        now
          assume p11 in LSeg(p11,p2) /\ LSeg(p1,p10);
          then
A84:      p11 in LSeg(p10,p1) by XBOOLE_0:def 4;
          p10`2 <= p1`2 by A13,A16,EUCLID:52;
          then p11`2 <= p1`2 by A84,TOPREAL1:4;
          then 1 = p1`2 by A13,A15,Lm11,XXREAL_0:1;
          hence contradiction by A13,A14,A83,EUCLID:53;
        end;
        then
A85:    {p11} <> LSeg(p11,p2) /\ LSeg(p1,p10) by ZFMISC_1:31;
        LSeg (p11,p2) /\ LSeg(p1,p10) c= {p11} by A11,A64,TOPREAL1:18
,XBOOLE_1:27;
        then
A86:    LSeg(p11,p2) /\ LSeg(p1,p10) = {} by A85,ZFMISC_1:33;
        now
          assume p10 in LSeg(p1,p11) /\ L3;
          then
A87:      p10 in LSeg(p1,p11) by XBOOLE_0:def 4;
          p1`2 <= p11`2 by A13,A15,EUCLID:52;
          then p1`2 = 0 by A13,A16,A87,Lm9,TOPREAL1:4;
          hence contradiction by A13,A14,A83,EUCLID:53;
        end;
        then
A88:    {p10} <> LSeg(p1,p11) /\ L3 by ZFMISC_1:31;
        LSeg(p1,p11) /\ L3 c= L4 /\ L3 by A3,Lm27,TOPREAL1:6,XBOOLE_1:26;
        then LSeg(p1,p11) /\ L3 = {} by A88,TOPREAL1:16,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ (LSeg(p1,p11) /\ LSeg(p01,p2)) \/ ((LSeg(p11,
        p2) /\ L1) \/ {p2}) by A75,A86;
      end;
    end;
    now
      per cases;
      suppose
A89:    p2 = p01;
        then
A90:    LSeg(p1,p11) /\ LSeg(p01,p2) = LSeg(p1,p11) /\ {p01} by RLTOPSP1:70;
        not p01 in LSeg(p1,p11) by A5,Lm6,Lm8,Lm10,TOPREAL1:3;
        then LSeg(p1,p11) /\ LSeg(p01,p2) = {} by A90,Lm1;
        hence thesis by A76,A89,ENUMSET1:1,TOPREAL1:15;
      end;
      suppose
A91:    p2 = p11;
        p11 in LSeg(p1,p11) by RLTOPSP1:68;
        then
A92:    LSeg(p1,p11) /\ LSeg(p01,p2) <> {} by A91,Lm26,XBOOLE_0:def 4;
        LSeg(p11,p2) /\ L1 = {p11} /\ L1 by A91,RLTOPSP1:70;
        then
A93:    LSeg(p11,p2) /\ L1 = {} by Lm1,Lm18;
        LSeg(p1,p11) /\ LSeg(p01,p2) c= L4 /\ L2 by A5,A68,XBOOLE_1:27;
        then LSeg(p1,p11) /\ LSeg(p01,p2) = {p2} by A91,A92,TOPREAL1:18
,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ ({p2} \/ {p2}) by A76,A93,XBOOLE_1:4
          .= {p1,p2} by ENUMSET1:1;
      end;
      suppose
A94:    p2 <> p11 & p2 <> p01;
        now
          assume p01 in LSeg(p11,p2) /\ L1;
          then
A95:      p01 in LSeg(p2,p11) by XBOOLE_0:def 4;
          p2`1 <= p11`1 by A51,EUCLID:52;
          then p2`1 = 0 by A51,A95,Lm6,TOPREAL1:3;
          hence contradiction by A51,A94,EUCLID:53;
        end;
        then
A96:    {p01} <> LSeg(p11,p2) /\ L1 by ZFMISC_1:31;
        LSeg (p11,p2) /\ L1 c= L2 /\ L1 by A50,Lm26,TOPREAL1:6,XBOOLE_1:26;
        then
A97:    LSeg(p11,p2) /\ L1 = {} by A96,TOPREAL1:15,ZFMISC_1:33;
        now
          assume p11 in LSeg(p1,p11) /\ LSeg(p01,p2);
          then
A98:      p11 in LSeg(p01,p2) by XBOOLE_0:def 4;
          p01`1 <= p2`1 by A51,EUCLID:52;
          then p11`1 <= p2`1 by A98,TOPREAL1:3;
          then 1 = p2`1 by A51,Lm10,XXREAL_0:1;
          hence contradiction by A51,A94,EUCLID:53;
        end;
        then
A99:    {p11} <> LSeg(p1,p11) /\ LSeg(p01,p2) by ZFMISC_1:31;
        LSeg(p1,p11) /\ LSeg(p01,p2) c= L4 /\ L2 by A5,A68,XBOOLE_1:27;
        then LSeg(p1,p11) /\ LSeg(p01,p2) = {} by A99,TOPREAL1:18,ZFMISC_1:33;
        hence thesis by A76,A97,ENUMSET1:1;
      end;
    end;
    hence thesis;
  end;
  suppose
A100: p2 in L3;
    then
A101: ex q st q = p2 & q`1 <= 1 & q`1 >= 0 & q`2 = 0 by TOPREAL1:13;
    now
A102: p00`1 <= p2`1 by A101,EUCLID:52;
      assume
A103: p10 in LSeg(p1,p11) /\ LSeg(p00,p2);
      then
A104: p10 in LSeg(p1,p11) by XBOOLE_0:def 4;
      p10 in LSeg(p00,p2) by A103,XBOOLE_0:def 4;
      then p10`1 <= p2`1 by A102,TOPREAL1:3;
      then
A105: 1 = p2`1 by A101,Lm8,XXREAL_0:1;
      p1`2 <= p11`2 by A13,A15,EUCLID:52;
      then 0 = p1`2 by A13,A16,A104,Lm9,TOPREAL1:4;
      then p1 = p10 by A13,A14,EUCLID:53;
      hence contradiction by A1,A101,A105,EUCLID:53;
    end;
    then
A106: {p10} <> LSeg(p1,p11) /\ LSeg(p00,p2) by ZFMISC_1:31;
A107: L1 is_an_arc_of p01,p00 by Lm5,Lm7,TOPREAL1:9;
    L2 is_an_arc_of p11,p01 by Lm6,Lm10,TOPREAL1:9;
    then
A108: L2 \/ L1 is_an_arc_of p11,p00 by A107,TOPREAL1:2,15;
    take P1 = LSeg(p1,p10) \/ LSeg(p10,p2),P2 = LSeg(p1,p11) \/ (L2 \/ L1 \/
    LSeg(p00,p2));
A109: LSeg(p1,p10) \/ LSeg(p1,p11) = L4 by A3,TOPREAL1:5;
    p00 in LSeg(p00,p2) by RLTOPSP1:68;
    then
A110: L1 /\ LSeg(p00,p2) <> {} by Lm20,XBOOLE_0:def 4;
A111: p10 in LSeg(p10,p2) by RLTOPSP1:68;
    p10 in LSeg(p1,p10) by RLTOPSP1:68;
    then
A112: LSeg(p1,p10) /\ LSeg(p10,p2) <> {} by A111,XBOOLE_0:def 4;
A113: LSeg(p2,p10) c= L3 by A100,Lm24,TOPREAL1:6;
    then LSeg(p1,p10) /\ LSeg(p10,p2) c= L4 /\ L3 by A11,XBOOLE_1:27;
    then
A114: LSeg(p1,p10) /\ LSeg(p10,p2) = {p10} by A112,TOPREAL1:16,ZFMISC_1:33;
    p1 <> p10 or p2 <> p10 by A1;
    hence P1 is_an_arc_of p1,p2 by A114,TOPREAL1:12;
A115: LSeg(p1,p10) /\ LSeg(p1,p11) = {p1} by A3,TOPREAL1:8;
    L3 /\ L2 = {} by TOPREAL1:19,XBOOLE_0:def 7;
    then
A116: LSeg(p10,p2) /\ L2 = {} by A113,XBOOLE_1:3,26;
A117: LSeg(p2,p00) c= L3 by A100,Lm21,TOPREAL1:6;
    then
A118: L1 /\ LSeg(p00,p2) c= {p00} by TOPREAL1:17,XBOOLE_1:27;
A119: L2 /\ LSeg(p00,p2) = {} by A117,Lm2,XBOOLE_1:3,26;
    (L2 \/ L1) /\ LSeg(p00,p2) = (L2 /\ LSeg(p00,p2)) \/ (L1 /\ LSeg(p00
    ,p2)) by XBOOLE_1:23
      .= {p00} by A119,A118,A110,ZFMISC_1:33;
    then
A120: L2 \/ L1 \/ LSeg(p00,p2) is_an_arc_of p11,p2 by A108,TOPREAL1:10;
A121: LSeg(p10,p2) /\ LSeg(p00,p2) = {p2} by A100,TOPREAL1:8;
A122: LSeg(p00,p2) \/ LSeg(p10,p2) = L3 by A100,TOPREAL1:5;
    LSeg(p1,p11) /\ LSeg(p00,p2) c= L4 /\ L3 by A5,A117,XBOOLE_1:27;
    then
A123: LSeg(p1,p11) /\ LSeg(p00,p2) = {} by A106,TOPREAL1:16,ZFMISC_1:33;
    LSeg(p1,p11) /\ (L2 \/ L1 \/ LSeg(p00,p2)) = (LSeg(p1,p11) /\ (L2 \/
    L1)) \/ (LSeg(p1,p11) /\ LSeg(p00,p2)) by XBOOLE_1:23
      .= (LSeg(p1,p11) /\ L2) \/ (LSeg(p1,p11) /\ L1) by A123,XBOOLE_1:23
      .= {p11} by A8,A6,A10,TOPREAL1:18,ZFMISC_1:33;
    hence P2 is_an_arc_of p1,p2 by A120,TOPREAL1:11;
    thus P1 \/ P2 = LSeg(p10,p2) \/ (LSeg(p1,p10) \/ (LSeg(p1,p11) \/ (L1 \/
    L2 \/ LSeg(p00,p2)))) by XBOOLE_1:4
      .= LSeg(p10,p2) \/ (L4 \/ (L1 \/ L2 \/ LSeg(p00,p2))) by A109,XBOOLE_1:4
      .= (L1 \/ L2) \/ L4 \/ LSeg(p00,p2) \/ LSeg(p10,p2) by XBOOLE_1:4
      .= (L1 \/ L2) \/ L4 \/ L3 by A122,XBOOLE_1:4
      .= R^2-unit_square by TOPREAL1:def 2,XBOOLE_1:4;
A124: P1 /\ P2 = (LSeg(p1,p10) /\ (LSeg(p1,p11) \/ (L2 \/ L1 \/ LSeg(p00,
    p2)))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p11) \/ (L2 \/ L1 \/ LSeg(p00,p2))))
by XBOOLE_1:23
      .= (LSeg(p1,p10) /\ LSeg(p1,p11)) \/ (LSeg(p1,p10) /\ (L2 \/ L1 \/
LSeg(p00,p2))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p11) \/ (L2 \/ L1 \/ LSeg(p00,p2)))
    ) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p10) /\ (L2 \/ L1)) \/ (LSeg(p1,p10) /\ LSeg(p00,
p2))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p11) \/ (L2 \/ L1 \/ LSeg(p00,p2)))) by A115
,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p10) /\ L2) \/ (LSeg(p10,p1) /\ L1) \/ (LSeg(p1,
p10) /\ LSeg(p00,p2))) \/ (LSeg(p10,p2) /\ (LSeg(p1,p11) \/ (L2 \/ L1 \/ LSeg(
    p00,p2)))) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p10) /\ L2) \/ (LSeg(p1,p10) /\ LSeg(p00,p2))) \/
((LSeg(p10,p2) /\ LSeg(p1,p11)) \/ (LSeg(p10,p2) /\ (L2 \/ L1 \/ LSeg(p00,p2)))
    ) by A12,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p10) /\ L2) \/ (LSeg(p1,p10) /\ LSeg(p00,p2))) \/
((LSeg(p10,p2) /\ LSeg(p1,p11)) \/ ((LSeg(p10,p2) /\ (L2 \/ L1)) \/ {p2})) by
A121,XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p10) /\ L2) \/ (LSeg(p1,p10) /\ LSeg(p00,p2))) \/
((LSeg(p10,p2) /\ LSeg(p1,p11)) \/ ((LSeg(p10,p2) /\ L2) \/ (LSeg(p10,p2) /\ L1
    ) \/ {p2})) by XBOOLE_1:23
      .= {p1} \/ ((LSeg(p1,p10) /\ L2) \/ (LSeg(p1,p10) /\ LSeg(p00,p2))) \/
    ((LSeg(p10,p2) /\ LSeg(p1,p11)) \/ ((LSeg(p10,p2) /\ L1) \/ {p2})) by A116;
A125: now
      per cases;
      suppose
A126:   p1 = p10;
        p10 in LSeg(p10,p2) by RLTOPSP1:68;
        then
A127:   LSeg(p10,p2) /\ LSeg(p1,p11) <> {} by A126,Lm25,XBOOLE_0:def 4;
        LSeg (p10,p2) /\ LSeg(p1,p11) c= {p1} by A113,A126,TOPREAL1:16
,XBOOLE_1:27;
        then
A128:   LSeg(p10,p2) /\ LSeg(p1,p11) = {p1} by A127,ZFMISC_1:33;
        LSeg(p1,p10) /\ L2 = {p10} /\ L2 by A126,RLTOPSP1:70;
        then LSeg(p1,p10) /\ L2 = {} by Lm1,Lm17;
        hence
        P1 /\ P2 = {p1} \/ ({p1} \/ (LSeg(p1,p10) /\ LSeg(p00,p2))) \/ ((
        LSeg(p10,p2) /\ L1) \/ {p2}) by A124,A128,XBOOLE_1:4
          .= {p1} \/ {p1} \/ (LSeg(p1,p10) /\ LSeg(p00,p2)) \/ ((LSeg(p10,p2
        ) /\ L1) \/ {p2}) by XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p10) /\ LSeg(p00,p2)) \/ ((LSeg(p10,p2) /\ L1)
        \/ {p2});
      end;
      suppose
A129:   p1 = p11;
        then
A130:   LSeg(p10,p2) /\ LSeg(p1,p11) = LSeg(p10,p2) /\ {p11} by RLTOPSP1:70;
        not p11 in LSeg(p10,p2) by A113,Lm5,Lm9,Lm11,TOPREAL1:4;
        then LSeg(p10,p2) /\ LSeg(p1,p11) = {} by A130,Lm1;
        hence P1 /\ P2 = {p1} \/ {p1} \/ (LSeg(p1,p10) /\ LSeg(p00,p2)) \/ ((
        LSeg(p10,p2) /\ L1) \/ {p2}) by A124,A129,TOPREAL1:18,XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p10) /\ LSeg(p00,p2)) \/ ((LSeg(p10,p2) /\ L1)
        \/ {p2});
      end;
      suppose
A131:   p1 <> p11 & p1 <> p10;
        now
          assume p10 in LSeg(p10,p2) /\ LSeg(p1,p11);
          then
A132:     p10 in LSeg(p1,p11) by XBOOLE_0:def 4;
          p1`2 <= p11`2 by A13,A15,EUCLID:52;
          then p1`2 = 0 by A13,A16,A132,Lm9,TOPREAL1:4;
          hence contradiction by A13,A14,A131,EUCLID:53;
        end;
        then
A133:   {p10} <> LSeg(p10,p2) /\ LSeg(p1,p11) by ZFMISC_1:31;
        LSeg (p10,p2) /\ LSeg(p1,p11) c= {p10} by A5,A113,TOPREAL1:16
,XBOOLE_1:27;
        then
A134:   LSeg(p10,p2) /\ LSeg(p1,p11) = {} by A133,ZFMISC_1:33;
        now
          assume p11 in LSeg(p1,p10) /\ L2;
          then
A135:     p11 in LSeg(p10,p1) by XBOOLE_0:def 4;
          p10`2 <= p1`2 by A13,A16,EUCLID:52;
          then p11`2 <= p1`2 by A135,TOPREAL1:4;
          then p1`2 = 1 by A13,A15,Lm11,XXREAL_0:1;
          hence contradiction by A13,A14,A131,EUCLID:53;
        end;
        then
A136:   LSeg(p1,p10) /\ L2 <> {p11} by ZFMISC_1:31;
        LSeg(p1,p10) /\ L2 c= L4 /\ L2 by A3,Lm25,TOPREAL1:6,XBOOLE_1:26;
        then LSeg(p1,p10) /\ L2 = {} by A136,TOPREAL1:18,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ (LSeg(p1,p10) /\ LSeg(p00,p2)) \/ ((LSeg(p10,
        p2) /\ L1) \/ {p2}) by A124,A134;
      end;
    end;
    now
      per cases;
      suppose
A137:   p2 = p00;
        then
A138:   LSeg(p1,p10) /\ LSeg(p00,p2) = LSeg(p1,p10) /\ {p00} by RLTOPSP1:70;
        not p00 in LSeg(p1,p10) by A11,Lm4,Lm8,Lm10,TOPREAL1:3;
        then LSeg(p1,p10) /\ LSeg(p00,p2) = {} by A138,Lm1;
        hence thesis by A125,A137,ENUMSET1:1,TOPREAL1:17;
      end;
      suppose
A139:   p2 = p10;
        p10 in LSeg(p1,p10) by RLTOPSP1:68;
        then
A140:   LSeg(p1,p10) /\ LSeg(p00,p2) <> {} by A139,Lm24,XBOOLE_0:def 4;
        LSeg(p10,p2) /\ L1 = {p10} /\ L1 by A139,RLTOPSP1:70;
        then
A141:   LSeg(p10,p2) /\ L1 = {} by Lm1,Lm16;
        LSeg(p1,p10) /\ LSeg(p00,p2) c= L4 /\ L3 by A11,A117,XBOOLE_1:27;
        then LSeg(p1,p10) /\ LSeg(p00,p2) = {p2} by A139,A140,TOPREAL1:16
,ZFMISC_1:33;
        hence P1 /\ P2 = {p1} \/ ({p2} \/ {p2}) by A125,A141,XBOOLE_1:4
          .= {p1,p2} by ENUMSET1:1;
      end;
      suppose
A142:   p2 <> p10 & p2 <> p00;
        now
          assume p00 in LSeg(p10,p2) /\ L1;
          then
A143:     p00 in LSeg(p2,p10) by XBOOLE_0:def 4;
          p2`1 <= p10`1 by A101,EUCLID:52;
          then p2`1 = 0 by A101,A143,Lm4,TOPREAL1:3;
          hence contradiction by A101,A142,EUCLID:53;
        end;
        then
A144:   {p00} <> LSeg(p10,p2) /\ L1 by ZFMISC_1:31;
        LSeg (p10,p2) /\ L1 c= L3 /\ L1 by A100,Lm24,TOPREAL1:6,XBOOLE_1:26;
        then
A145:   LSeg(p10,p2) /\ L1 = {} by A144,TOPREAL1:17,ZFMISC_1:33;
        now
          assume p10 in LSeg(p1,p10) /\ LSeg(p00,p2);
          then
A146:     p10 in LSeg(p00,p2) by XBOOLE_0:def 4;
          p00`1 <= p2`1 by A101,EUCLID:52;
          then p10`1 <= p2`1 by A146,TOPREAL1:3;
          then p2`1 = 1 by A101,Lm8,XXREAL_0:1;
          hence contradiction by A101,A142,EUCLID:53;
        end;
        then
A147:   {p10} <> LSeg(p1,p10) /\ LSeg(p00,p2) by ZFMISC_1:31;
        LSeg(p1,p10) /\ LSeg(p00,p2) c= L4 /\ L3 by A11,A117,XBOOLE_1:27;
        then LSeg(p1,p10) /\ LSeg(p00,p2) = {} by A147,TOPREAL1:16,ZFMISC_1:33;
        hence thesis by A125,A145,ENUMSET1:1;
      end;
    end;
    hence thesis;
  end;
  suppose
A148: p2 in L4;
A149: p = |[p`1,p`2]| by EUCLID:53;
A150: LSeg(p1,p2) c= L4 by A3,A148,TOPREAL1:6;
    consider q such that
A151: q = p2 and
A152: q`1 = 1 and
A153: q`2 <= 1 and
A154: q`2 >= 0 by A148,TOPREAL1:13;
A155: q = |[q`1,q`2]| by EUCLID:53;
    now
      per cases by A1,A13,A14,A151,A152,A149,A155,XXREAL_0:1;
      suppose
A156:   p`2 < q`2;
A157:   LSeg(p1,p2) /\ LSeg(p11,p2) c= {p2}
        proof
          let a;
          assume
A158:     a in LSeg(p1,p2) /\ LSeg(p11,p2);
          then reconsider p = a as Point of TOP-REAL 2;
A159:     p in LSeg(p2,p11) by A158,XBOOLE_0:def 4;
          p2`2 <= p11`2 by A151,A153,EUCLID:52;
          then
A160:     p2`2 <= p`2 by A159,TOPREAL1:4;
A161:     p in LSeg(p1,p2) by A158,XBOOLE_0:def 4;
          then
A162:     p1`1 <= p`1 by A13,A14,A151,A152,TOPREAL1:3;
          p`2 <= p2`2 by A13,A151,A156,A161,TOPREAL1:4;
          then
A163:     p2`2 = p`2 by A160,XXREAL_0:1;
          p`1 <= p2`1 by A13,A14,A151,A152,A161,TOPREAL1:3;
          then p`1 = 1 by A13,A14,A151,A152,A162,XXREAL_0:1;
          then p = |[ 1, p2`2]| by A163,EUCLID:53
            .= p2 by A151,A152,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
        p10 in LSeg(p1,p10) by RLTOPSP1:68;
        then
A164:   LSeg(p1,p10) /\ L3 <> {} by Lm24,XBOOLE_0:def 4;
A165:   now
          set a = the Element of LSeg(p1,p10) /\ LSeg(p11,p2);
          assume
A166:     LSeg(p1,p10) /\ LSeg(p11,p2) <> {};
          then reconsider p = a as Point of TOP-REAL 2 by TARSKI:def 3;
A167:     p in LSeg(p10,p1) by A166,XBOOLE_0:def 4;
A168:     p in LSeg(p2,p11) by A166,XBOOLE_0:def 4;
          p2`2 <= p11 `2 by A151,A153,EUCLID:52;
          then
A169:     p2`2 <= p`2 by A168,TOPREAL1:4;
          p10`2 <= p1`2 by A13,A16,EUCLID:52;
          then p`2 <= p1`2 by A167,TOPREAL1:4;
          hence contradiction by A13,A151,A156,A169,XXREAL_0:2;
        end;
A170:   (L3 \/ L1) /\ L2 = L3 /\ L2 \/ L1 /\ L2 by XBOOLE_1:23
          .= {p01} by Lm2,TOPREAL1:15;
        L3 \/ L1 is_an_arc_of p10,p01 by Lm4,Lm8,TOPREAL1:9,10,17;
        then
A171:   L3 \/ L1 \/ L2 is_an_arc_of p10,p11 by A170,TOPREAL1:10;
        now
          assume p11 in LSeg(p1,p10) /\ L2;
          then
A172:     p11 in LSeg(p10,p1) by XBOOLE_0:def 4;
          p10`2 <= p1`2 by A13,A16,EUCLID:52;
          then p11`2 <= p1`2 by A172,TOPREAL1:4;
          hence contradiction by A13,A15,A153,A156,Lm11,XXREAL_0:1;
        end;
        then
A173:   {p11} <> LSeg(p1,p10) /\ L2 by ZFMISC_1:31;
        LSeg(p1,p10) /\ L2 c= L4 /\ L2 by A3,Lm25,TOPREAL1:6,XBOOLE_1:26;
        then
A174:   LSeg(p1,p10) /\ L2 = {} by A173,TOPREAL1:18,ZFMISC_1:33;
        L1 /\ L4 = {} by TOPREAL1:20,XBOOLE_0:def 7;
        then
A175:   LSeg(p1,p10) /\ L1 = {} by A11,XBOOLE_1:3,26;
        now
          assume p10 in L3 /\ LSeg(p11,p2);
          then
A176:     p10 in LSeg(p2,p11) by XBOOLE_0:def 4;
          p2`2 <= p11`2 by A151,A153,EUCLID:52;
          hence contradiction by A16,A151,A156,A176,Lm9,TOPREAL1:4;
        end;
        then
A177:   {p10} <> L3 /\ LSeg(p11,p2) by ZFMISC_1:31;
        L3 /\ LSeg(p11,p2) c= {p10} by A148,Lm27,TOPREAL1:6,16,XBOOLE_1:26;
        then
A178:   L3 /\ LSeg(p11,p2) = {} by A177,ZFMISC_1:33;
        L1 /\ L4 = {} by TOPREAL1:20,XBOOLE_0:def 7;
        then
A179:   LSeg(p1,p2) /\ L1 = {} by A150,XBOOLE_1:3,26;
A180:   LSeg(p1,p2) /\ LSeg(p1,p10) c= {p1}
        proof
          let a;
          assume
A181:     a in LSeg(p1,p2) /\ LSeg(p1,p10);
          then reconsider p = a as Point of TOP-REAL 2;
A182:     p in LSeg(p10,p1) by A181,XBOOLE_0:def 4;
          p10`2 <= p1`2 by A13,A16,EUCLID:52;
          then
A183:     p`2 <= p1`2 by A182,TOPREAL1:4;
A184:     p in LSeg(p1,p2) by A181,XBOOLE_0:def 4;
          then
A185:     p1`1 <= p`1 by A13,A14,A151,A152,TOPREAL1:3;
          p1`2 <= p`2 by A13,A151,A156,A184,TOPREAL1:4;
          then
A186:     p1`2 = p`2 by A183,XXREAL_0:1;
          p`1 <= p2`1 by A13,A14,A151,A152,A184,TOPREAL1:3;
          then p`1 = 1 by A13,A14,A151,A152,A185,XXREAL_0:1;
          then p = |[ 1, p1`2]| by A186,EUCLID:53
            .= p1 by A13,A14,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
A187:   LSeg (p1,p10) /\ L3 c= L4 /\ L3 by A3,Lm25,TOPREAL1:6,XBOOLE_1:26;
        p11 in LSeg(p11,p2) by RLTOPSP1:68;
        then
A188:   L2 /\ LSeg(p11,p2) <> {} by Lm26,XBOOLE_0:def 4;
        L2 /\ LSeg(p11,p2) c= {p11} by A148,Lm27,TOPREAL1:6,18,XBOOLE_1:26;
        then
A189:   L2 /\ LSeg(p11,p2) = {p11} by A188,ZFMISC_1:33;
        take P1 = LSeg(p1,p2),P2 = LSeg(p1,p10) \/ (L3 \/ L1 \/ L2 \/ LSeg(p11
        ,p2));
A190:   p1 in LSeg(p1,p10) by RLTOPSP1:68;
        thus P1 is_an_arc_of p1,p2 by A1,TOPREAL1:9;
A191:   L1 /\ L4 = {} by TOPREAL1:20,XBOOLE_0:def 7;
        L1 /\ LSeg(p11,p2) c= L1 /\ L4 by A148,Lm27,TOPREAL1:6,XBOOLE_1:26;
        then
A192:   L1 /\ LSeg(p11,p2) = {} by A191,XBOOLE_1:3;
        (L3 \/ L1 \/ L2) /\ LSeg(p11,p2) = (L3 \/ L1) /\ LSeg(p11,p2) \/
        L2 /\ LSeg(p11,p2) by XBOOLE_1:23
          .= (L3 /\ LSeg(p11,p2)) \/ (L1 /\ LSeg(p11,p2)) \/ {p11} by A189,
XBOOLE_1:23
          .= {p11} by A178,A192;
        then
A193:   L3 \/ L1 \/ L2 \/ LSeg(p11,p2) is_an_arc_of p10,p2 by A171,TOPREAL1:10;
        LSeg(p1,p10) /\ (L3 \/ L1 \/ L2 \/ LSeg(p11,p2)) = LSeg(p1,p10)
        /\ (L3 \/ L1 \/ L2) \/ (LSeg(p1,p10) /\ LSeg(p11,p2)) by XBOOLE_1:23
          .= LSeg(p1,p10) /\ (L3 \/ L1) \/ (LSeg(p1,p10) /\ L2) by A165,
XBOOLE_1:23
          .= LSeg(p1,p10) /\ L3 \/ (LSeg(p1,p10) /\ L1) by A174,XBOOLE_1:23
          .= {p10} by A187,A164,A175,TOPREAL1:16,ZFMISC_1:33;
        hence P2 is_an_arc_of p1,p2 by A193,TOPREAL1:11;
        thus P1 \/ P2 = (L3 \/ L1 \/ L2) \/ LSeg(p11,p2) \/ (LSeg(p1,p10) \/
        LSeg(p1,p2)) by XBOOLE_1:4
          .= (L3 \/ L1 \/ L2) \/ (LSeg(p10,p1) \/ LSeg(p1,p2) \/ LSeg(p2,p11
        )) by XBOOLE_1:4
          .= (L3 \/ L1 \/ L2) \/ L4 by A3,A148,TOPREAL1:7
          .= (L3 \/ (L1 \/ L2)) \/ L4 by XBOOLE_1:4
          .= R^2-unit_square by TOPREAL1:def 2,XBOOLE_1:4;
A194:   p2 in LSeg(p11,p2) by RLTOPSP1:68;
        p2 in LSeg(p1,p2) by RLTOPSP1:68;
        then p2 in LSeg(p1,p2) /\ LSeg(p11,p2) by A194,XBOOLE_0:def 4;
        then {p2} c= LSeg(p1,p2) /\ LSeg(p11,p2) by ZFMISC_1:31;
        then
A195:   LSeg(p1,p2) /\ LSeg(p11,p2) = {p2} by A157,XBOOLE_0:def 10;
        p1 in LSeg(p1,p2) by RLTOPSP1:68;
        then p1 in LSeg(p1,p2) /\ LSeg(p1,p10) by A190,XBOOLE_0:def 4;
        then {p1} c= LSeg(p1,p2) /\ LSeg(p1,p10) by ZFMISC_1:31;
        then LSeg(p1,p2) /\ LSeg(p1,p10) = {p1} by A180,XBOOLE_0:def 10;
        then
A196:   P1 /\ P2 = {p1} \/ LSeg(p1,p2) /\ (L3 \/ L1 \/ L2 \/ LSeg(p11,p2
        )) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ (L3 \/ L1 \/ L2)) \/ {p2}) by A195,
XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ (L3 \/ L1)) \/ (LSeg(p1,p2) /\ L2) \/
        {p2}) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ L3) \/ (LSeg(p1,p2) /\ L1) \/ (LSeg(p1
        ,p2) /\ L2) \/ {p2}) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ L3) \/ ((LSeg(p1,p2) /\ L2) \/ {p2}))
        by A179,XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p2) /\ L3) \/ ((LSeg(p1,p2) /\ L2) \/ {p2}) by
XBOOLE_1:4;
A197:   LSeg(p1,p2) /\ L3 c= L4 /\ L3 by A3,A148,TOPREAL1:6,XBOOLE_1:26;
A198:   now
          per cases;
          suppose
A199:       p1 = p10;
            then p10 in LSeg(p1,p2) by RLTOPSP1:68;
            then LSeg(p1,p2) /\ L3 <> {} by Lm24,XBOOLE_0:def 4;
            then LSeg(p1,p2) /\ L3 = {p1} by A197,A199,TOPREAL1:16,ZFMISC_1:33;
            hence P1 /\ P2 = {p1} \/ ((LSeg(p1,p2) /\ L2) \/ {p2}) by A196;
          end;
          suppose
A200:       p1 <> p10;
            now
              assume p10 in LSeg(p1,p2) /\ L3;
              then p10 in LSeg(p1,p2) by XBOOLE_0:def 4;
              then p1`2 = 0 by A13,A16,A151,A156,Lm9,TOPREAL1:4;
              hence contradiction by A13,A14,A200,EUCLID:53;
            end;
            then {p10} <> LSeg(p1,p2) /\ L3 by ZFMISC_1:31;
            then LSeg(p1,p2) /\ L3 = {} by A197,TOPREAL1:16,ZFMISC_1:33;
            hence P1 /\ P2 = {p1} \/ ((LSeg(p1,p2) /\ L2) \/ {p2}) by A196;
          end;
        end;
A201:   LSeg(p1,p2) /\ L2 c= L4 /\ L2 by A3,A148,TOPREAL1:6,XBOOLE_1:26;
        now
          per cases;
          suppose
A202:       p2 = p11;
            then p11 in LSeg(p1,p2) by RLTOPSP1:68;
            then LSeg(p1,p2) /\ L2 <> {} by Lm26,XBOOLE_0:def 4;
            then LSeg(p1,p2) /\ L2 = {p2} by A201,A202,TOPREAL1:18,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A198,ENUMSET1:1;
          end;
          suppose
A203:       p2 <> p11;
            now
              assume p11 in LSeg(p1,p2) /\ L2;
              then p11 in LSeg(p1,p2) by XBOOLE_0:def 4;
              then p11`2 <= p2`2 by A13,A151,A156,TOPREAL1:4;
              then p2`2 = 1 by A151,A153,Lm11,XXREAL_0:1;
              hence contradiction by A151,A152,A203,EUCLID:53;
            end;
            then {p11} <> LSeg(p1,p2) /\ L2 by ZFMISC_1:31;
            then LSeg(p1,p2) /\ L2 = {} by A201,TOPREAL1:18,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A198,ENUMSET1:1;
          end;
        end;
        hence P1 /\ P2 = {p1,p2};
      end;
      suppose
A204:   q`2 < p`2;
A205:   LSeg(p1,p2) /\ LSeg(p10,p2) c= {p2}
        proof
          let a;
          assume
A206:     a in LSeg(p1,p2) /\ LSeg(p10,p2);
          then reconsider p = a as Point of TOP-REAL 2;
A207:     p in LSeg(p10,p2) by A206,XBOOLE_0:def 4;
          p10`2 <= p2`2 by A151,A154,EUCLID:52;
          then
A208:     p`2 <= p2`2 by A207,TOPREAL1:4;
A209:     p in LSeg(p2,p1) by A206,XBOOLE_0:def 4;
          then
A210:     p2`1 <= p`1 by A13,A14,A151,A152,TOPREAL1:3;
          p2`2 <= p`2 by A13,A151,A204,A209,TOPREAL1:4;
          then
A211:     p2`2 = p`2 by A208,XXREAL_0:1;
          p`1 <= p1`1 by A13,A14,A151,A152,A209,TOPREAL1:3;
          then p`1 = 1 by A13,A14,A151,A152,A210,XXREAL_0:1;
          then p = |[ 1, p2`2]| by A211,EUCLID:53
            .= p2 by A151,A152,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
        p11 in LSeg(p1,p11) by RLTOPSP1:68;
        then
A212:   LSeg(p1,p11) /\ L2 <> {} by Lm26,XBOOLE_0:def 4;
A213:   now
          set a = the Element of LSeg(p1,p11) /\ LSeg(p10,p2);
          assume
A214:     LSeg(p1,p11) /\ LSeg(p10,p2) <> {};
          then reconsider p = a as Point of TOP-REAL 2 by TARSKI:def 3;
A215:     p in LSeg(p1,p11) by A214,XBOOLE_0:def 4;
A216:     p in LSeg(p10,p2) by A214,XBOOLE_0:def 4;
          p10`2 <= p2 `2 by A151,A154,EUCLID:52;
          then
A217:     p`2 <= p2`2 by A216,TOPREAL1:4;
          p1`2 <= p11`2 by A13,A15,EUCLID:52;
          then p1`2 <= p`2 by A215,TOPREAL1:4;
          hence contradiction by A13,A151,A204,A217,XXREAL_0:2;
        end;
A218:   (L2 \/ L1) /\ L3 = L3 /\ L2 \/ L1 /\ L3 by XBOOLE_1:23
          .= {p00} by Lm2,TOPREAL1:17;
        L2 \/ L1 is_an_arc_of p11,p00 by Lm6,Lm10,TOPREAL1:9,10,15;
        then
A219:   L2 \/ L1 \/ L3 is_an_arc_of p11,p10 by A218,TOPREAL1:10;
        now
          assume p11 in L2 /\ LSeg(p10,p2);
          then
A220:     p11 in LSeg(p10,p2) by XBOOLE_0:def 4;
          p10`2 <= p2`2 by A151,A154,EUCLID:52;
          then p11`2 <= p2`2 by A220,TOPREAL1:4;
          hence contradiction by A15,A151,A153,A204,Lm11,XXREAL_0:1;
        end;
        then
A221:   {p11} <> L2 /\ LSeg(p10,p2) by ZFMISC_1:31;
        L2 /\ LSeg(p10,p2) c= {p11} by A148,Lm25,TOPREAL1:6,18,XBOOLE_1:26;
        then
A222:   L2 /\ LSeg(p10,p2) = {} by A221,ZFMISC_1:33;
        L1 /\ L4 = {} by TOPREAL1:20,XBOOLE_0:def 7;
        then
A223:   LSeg(p1,p11) /\ L1 = {} by A5,XBOOLE_1:3,26;
        now
          assume p10 in LSeg(p1,p11) /\ L3;
          then
A224:     p10 in LSeg(p1,p11) by XBOOLE_0:def 4;
          p1`2 <= p11`2 by A13,A15,EUCLID:52;
          hence contradiction by A13,A154,A204,A224,Lm9,TOPREAL1:4;
        end;
        then
A225:   {p10} <> LSeg(p1,p11) /\ L3 by ZFMISC_1:31;
        LSeg(p1,p11) /\ L3 c= L4 /\ L3 by A3,Lm27,TOPREAL1:6,XBOOLE_1:26;
        then
A226:   LSeg(p1,p11) /\ L3 = {} by A225,TOPREAL1:16,ZFMISC_1:33;
        L1 /\ L4 = {} by TOPREAL1:20,XBOOLE_0:def 7;
        then
A227:   LSeg(p1,p2) /\ L1 = {} by A150,XBOOLE_1:3,26;
A228:   LSeg(p1,p2) /\ LSeg(p1,p11) c= {p1}
        proof
          let a;
          assume
A229:     a in LSeg(p1,p2) /\ LSeg(p1,p11);
          then reconsider p = a as Point of TOP-REAL 2;
A230:     p in LSeg(p1,p11) by A229,XBOOLE_0:def 4;
          p1`2 <= p11`2 by A13,A15,EUCLID:52;
          then
A231:     p1`2 <= p`2 by A230,TOPREAL1:4;
A232:     p in LSeg(p2,p1) by A229,XBOOLE_0:def 4;
          then
A233:     p2`1 <= p`1 by A13,A14,A151,A152,TOPREAL1:3;
          p`2 <= p1`2 by A13,A151,A204,A232,TOPREAL1:4;
          then
A234:     p1`2 = p`2 by A231,XXREAL_0:1;
          p`1 <= p1`1 by A13,A14,A151,A152,A232,TOPREAL1:3;
          then p`1 = 1 by A13,A14,A151,A152,A233,XXREAL_0:1;
          then p = |[ 1, p1`2]| by A234,EUCLID:53
            .= p1 by A13,A14,EUCLID:53;
          hence thesis by TARSKI:def 1;
        end;
A235:   LSeg(p1,p11) /\ L2 c= L4 /\ L2 by A3,Lm27,TOPREAL1:6,XBOOLE_1:26;
        p10 in LSeg(p10,p2) by RLTOPSP1:68;
        then
A236:   L3 /\ LSeg(p10,p2) <> {} by Lm24,XBOOLE_0:def 4;
        L3 /\ LSeg(p10,p2) c= {p10} by A148,Lm25,TOPREAL1:6,16,XBOOLE_1:26;
        then
A237:   L3 /\ LSeg(p10,p2) = {p10} by A236,ZFMISC_1:33;
        take P1 = LSeg(p1,p2),P2 = LSeg(p1,p11) \/ (L2 \/ L1 \/ L3 \/ LSeg(p10
        ,p2));
A238:   p1 in LSeg(p1,p11) by RLTOPSP1:68;
        thus P1 is_an_arc_of p1,p2 by A1,TOPREAL1:9;
A239:   L1 /\ L4 = {} by TOPREAL1:20,XBOOLE_0:def 7;
        L1 /\ LSeg(p10,p2) c= L1 /\ L4 by A148,Lm25,TOPREAL1:6,XBOOLE_1:26;
        then
A240:   L1 /\ LSeg(p10,p2) = {} by A239,XBOOLE_1:3;
        (L2 \/ L1 \/ L3) /\ LSeg(p10,p2) = (L2 \/ L1) /\ LSeg(p10,p2) \/
        L3 /\ LSeg(p10,p2) by XBOOLE_1:23
          .= (L2 /\ LSeg(p10,p2)) \/ (L1 /\ LSeg(p10,p2)) \/ {p10} by A237,
XBOOLE_1:23
          .= {p10} by A222,A240;
        then
A241:   L2 \/ L1 \/ L3 \/ LSeg(p10,p2) is_an_arc_of p11,p2 by A219,TOPREAL1:10;
        LSeg(p1,p11) /\ (L2 \/ L1 \/ L3 \/ LSeg(p10,p2)) = LSeg(p1,p11)
        /\ (L2 \/ L1 \/ L3) \/ (LSeg(p1,p11) /\ LSeg(p10,p2)) by XBOOLE_1:23
          .= LSeg(p1,p11) /\ (L2 \/ L1) \/ (LSeg(p1,p11) /\ L3) by A213,
XBOOLE_1:23
          .= LSeg(p1,p11) /\ L2 \/ (LSeg(p1,p11) /\ L1) by A226,XBOOLE_1:23
          .= {p11} by A235,A212,A223,TOPREAL1:18,ZFMISC_1:33;
        hence P2 is_an_arc_of p1,p2 by A241,TOPREAL1:11;
        thus P1 \/ P2 = (L2 \/ L1 \/ L3) \/ LSeg(p10,p2) \/ (LSeg(p1,p11) \/
        LSeg(p1,p2)) by XBOOLE_1:4
          .= (L2 \/ L1 \/ L3) \/ (LSeg(p10,p2) \/ (LSeg(p1,p2) \/ LSeg(p1,
        p11))) by XBOOLE_1:4
          .= (L1 \/ L2 \/ L3) \/ L4 by A3,A148,TOPREAL1:7
          .= R^2-unit_square by TOPREAL1:def 2,XBOOLE_1:4;
A242:   p2 in LSeg(p10,p2) by RLTOPSP1:68;
        p2 in LSeg(p1,p2) by RLTOPSP1:68;
        then p2 in LSeg(p1,p2) /\ LSeg(p10,p2) by A242,XBOOLE_0:def 4;
        then {p2} c= LSeg(p1,p2) /\ LSeg(p10,p2) by ZFMISC_1:31;
        then
A243:   LSeg(p1,p2) /\ LSeg(p10,p2) = {p2} by A205,XBOOLE_0:def 10;
        p1 in LSeg(p1,p2) by RLTOPSP1:68;
        then p1 in LSeg(p1,p2) /\ LSeg(p1,p11) by A238,XBOOLE_0:def 4;
        then {p1} c= LSeg(p1,p2) /\ LSeg(p1,p11) by ZFMISC_1:31;
        then LSeg(p1,p2) /\ LSeg(p1,p11) = {p1} by A228,XBOOLE_0:def 10;
        then
A244:   P1 /\ P2 = {p1} \/ LSeg(p1,p2) /\ (L2 \/ L1 \/ L3 \/ LSeg(p10,p2
        )) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ (L2 \/ L1 \/ L3)) \/ {p2}) by A243,
XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ (L2 \/ L1)) \/ (LSeg(p1,p2) /\ L3) \/
        {p2}) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ L2) \/ (LSeg(p1,p2) /\ L1) \/ (LSeg(p1
        ,p2) /\ L3) \/ {p2}) by XBOOLE_1:23
          .= {p1} \/ ((LSeg(p1,p2) /\ L2) \/ ((LSeg(p1,p2) /\ L3) \/ {p2}))
        by A227,XBOOLE_1:4
          .= {p1} \/ (LSeg(p1,p2) /\ L2) \/ ((LSeg(p1,p2) /\ L3) \/ {p2}) by
XBOOLE_1:4;
A245:   LSeg(p1,p2) /\ L2 c= L4 /\ L2 by A3,A148,TOPREAL1:6,XBOOLE_1:26;
A246:   now
          per cases;
          suppose
A247:       p1 = p11;
            then p11 in LSeg(p1,p2) by RLTOPSP1:68;
            then LSeg(p1,p2) /\ L2 <> {} by Lm26,XBOOLE_0:def 4;
            then LSeg(p1,p2) /\ L2 = {p1} by A245,A247,TOPREAL1:18,ZFMISC_1:33;
            hence P1 /\ P2 = {p1} \/ ((LSeg(p1,p2) /\ L3) \/ {p2}) by A244;
          end;
          suppose
A248:       p1 <> p11;
            now
              assume p11 in LSeg(p1,p2) /\ L2;
              then p11 in LSeg(p2,p1) by XBOOLE_0:def 4;
              then p11`2 <= p1`2 by A13,A151,A204,TOPREAL1:4;
              then p1`2 = 1 by A13,A15,Lm11,XXREAL_0:1;
              hence contradiction by A13,A14,A248,EUCLID:53;
            end;
            then {p11} <> LSeg(p1,p2) /\ L2 by ZFMISC_1:31;
            then LSeg(p1,p2) /\ L2 = {} by A245,TOPREAL1:18,ZFMISC_1:33;
            hence P1 /\ P2 = {p1} \/ ((LSeg(p1,p2) /\ L3) \/ {p2}) by A244;
          end;
        end;
A249:   LSeg(p1,p2) /\ L3 c= L4 /\ L3 by A3,A148,TOPREAL1:6,XBOOLE_1:26;
        now
          per cases;
          suppose
A250:       p2 = p10;
            then p10 in LSeg(p1,p2) by RLTOPSP1:68;
            then LSeg(p1,p2) /\ L3 <> {} by Lm24,XBOOLE_0:def 4;
            then LSeg(p1,p2) /\ L3 = {p2} by A249,A250,TOPREAL1:16,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A246,ENUMSET1:1;
          end;
          suppose
A251:       p2 <> p10;
            now
              assume p10 in LSeg(p1,p2) /\ L3;
              then p10 in LSeg(p2,p1) by XBOOLE_0:def 4;
              then p2`2 = 0 by A13,A151,A154,A204,Lm9,TOPREAL1:4;
              hence contradiction by A151,A152,A251,EUCLID:53;
            end;
            then {p10} <> LSeg(p1,p2) /\ L3 by ZFMISC_1:31;
            then LSeg(p1,p2) /\ L3 = {} by A249,TOPREAL1:16,ZFMISC_1:33;
            hence P1 /\ P2 = {p1,p2} by A246,ENUMSET1:1;
          end;
        end;
        hence P1 /\ P2 = {p1,p2};
      end;
    end;
    hence thesis;
  end;
end;

theorem Th1:
  p1 <> p2 & p1 in R^2-unit_square & p2 in R^2-unit_square implies
  ex P1, P2 being non empty Subset of TOP-REAL 2 st P1 is_an_arc_of p1,p2 & P2
  is_an_arc_of p1,p2 & R^2-unit_square = P1 \/ P2 & P1 /\ P2 = {p1,p2}
proof
  assume that
A1: p1 <> p2 and
A2: p1 in R^2-unit_square and
A3: p2 in R^2-unit_square;
A4: p1 in L1 \/ L2 or p1 in L3 \/ L4 by A2,TOPREAL1:def 2,XBOOLE_0:def 3;
  per cases by A4,XBOOLE_0:def 3;
  suppose
    p1 in L1;
    hence thesis by A1,A3,Lm30;
  end;
  suppose
    p1 in L2;
    hence thesis by A1,A3,Lm31;
  end;
  suppose
    p1 in L3;
    hence thesis by A1,A3,Lm32;
  end;
  suppose
    p1 in L4;
    hence thesis by A1,A3,Lm33;
  end;
end;

theorem Th2:
  R^2-unit_square is compact
proof
A1: I[01] is compact by HEINE:4,TOPMETR:20;
  consider P1,P2 being non empty Subset of TOP-REAL 2 such that
A2: P1 is being_S-P_arc and
A3: P2 is being_S-P_arc and
A4: R^2-unit_square = P1 \/ P2 by TOPREAL1:27;
  consider f being Function of I[01], (TOP-REAL 2)|P1 such that
A5: f is being_homeomorphism by A2,TOPREAL1:29;
A6: rng f = [#]((TOP-REAL 2)|P1) by A5,TOPS_2:def 5;
  consider f0 being Function of I[01], (TOP-REAL 2)|P2 such that
A7: f0 is being_homeomorphism by A3,TOPREAL1:29;
A8: rng f0 = [#]((TOP-REAL 2)|P2) by A7,TOPS_2:def 5;
  reconsider P2 as non empty Subset of TOP-REAL 2;
  f0 is continuous by A7,TOPS_2:def 5;
  then (TOP-REAL 2)|P2 is compact by A1,A8,COMPTS_1:14;
  then
A9: P2 is compact by COMPTS_1:3;
  reconsider P1 as non empty Subset of TOP-REAL 2;
  f is continuous by A5,TOPS_2:def 5;
  then (TOP-REAL 2)|P1 is compact by A1,A6,COMPTS_1:14;
  then P1 is compact by COMPTS_1:3;
  hence thesis by A4,A9,COMPTS_1:10;
end;

theorem Th3:
  for Q, P being non empty Subset of TOP-REAL 2 for f being
  Function of (TOP-REAL 2)|Q, (TOP-REAL 2)|P st f is being_homeomorphism & Q
  is_an_arc_of q1,q2 holds for p1, p2 st p1 = f.q1 & p2 = f.q2 holds P
  is_an_arc_of p1,p2
proof
  let Q, P be non empty Subset of TOP-REAL 2;
  let f be Function of (TOP-REAL 2)|Q, (TOP-REAL 2)|P;
  assume that
A1: f is being_homeomorphism and
A2: Q is_an_arc_of q1,q2;
  let p1, p2 such that
A3: p1 = f.q1 and
A4: p2 = f.q2;
  reconsider f as Function of (TOP-REAL 2)|Q, (TOP-REAL 2)|P;
  consider f1 being Function of I[01], (TOP-REAL 2)|Q such that
A5: f1 is being_homeomorphism and
A6: f1.0 = q1 and
A7: f1.1 = q2 by A2,TOPREAL1:def 1;
  set g1 = f*f1;
A8: dom f1 = the carrier of I[01] by FUNCT_2:def 1;
  then 0 in dom f1 by BORSUK_1:40,XXREAL_1:1;
  then
A9: g1.0 = p1 by A3,A6,FUNCT_1:13;
  1 in dom f1 by A8,BORSUK_1:40,XXREAL_1:1;
  then
A10: g1.1 = p2 by A4,A7,FUNCT_1:13;
  g1 is being_homeomorphism by A1,A5,TOPS_2:57;
  hence thesis by A9,A10,TOPREAL1:def 1;
end;

definition
  let P be Subset of TOP-REAL 2;
  attr P is being_simple_closed_curve means
  :Def1:
  ex f being Function of (
  TOP-REAL 2)|R^2-unit_square, (TOP-REAL 2)|P st f is being_homeomorphism;
end;

registration
  cluster R^2-unit_square -> being_simple_closed_curve;
  coherence
  proof
    set T = (TOP-REAL 2)|R^2-unit_square;
    take f = id T;
    thus dom f = [#]T by FUNCT_2:def 1;
    thus rng f = [#]T by RELAT_1:45;
    then f is onto one-to-one by FUNCT_2:def 3;
    then
A1: f" = (f qua Function)" by TOPS_2:def 4
      .= f by FUNCT_1:45;
    thus f is one-to-one;
    thus f is continuous
    proof
      let V be Subset of T;
      assume V is closed;
      hence thesis by FUNCT_2:94;
    end;
    hence thesis by A1;
  end;
end;

registration
  cluster being_simple_closed_curve non empty for Subset of TOP-REAL 2;
  existence
  proof
    take R^2-unit_square;
    thus thesis;
  end;
end;

definition
  mode Simple_closed_curve is being_simple_closed_curve Subset of TOP-REAL 2;
end;

theorem Th4:
  for P being non empty Subset of TOP-REAL 2 st P is
  being_simple_closed_curve ex p1,p2 st p1 <> p2 & p1 in P & p2 in P
proof
  reconsider RS = R^2-unit_square as non empty Subset of TOP-REAL 2;
  let P be non empty Subset of TOP-REAL 2;
A1: p00`1 = 0 by EUCLID:52;
A2: [#]((TOP-REAL 2)|P) c= [#] (TOP-REAL 2) by PRE_TOPC:def 4;
A3: p11`1 = 1 by EUCLID:52;
  assume P is being_simple_closed_curve;
  then consider
  f being Function of (TOP-REAL 2)|R^2-unit_square, (TOP-REAL 2)|P
  such that
A4: f is being_homeomorphism by Def1;
A5: rng f = [#]((TOP-REAL 2)|P) by A4,TOPS_2:def 5
    .= P by PRE_TOPC:def 5;
  reconsider f as Function of (TOP-REAL 2)|RS, (TOP-REAL 2)|P;
A6: dom f = [#]((TOP-REAL 2)|RS) by FUNCT_2:def 1
    .= R^2-unit_square by PRE_TOPC:def 5;
  set p1 = f.p00, p2 = f.(p11);
  p00`2 = 0 by EUCLID:52;
  then
A7: p00 in dom f by A1,A6,TOPREAL1:14;
  then
A8: p1 in rng f by FUNCT_1:def 3;
  p11`2 = 1 by EUCLID:52;
  then
A9: p11 in dom f by A3,A6,TOPREAL1:14;
  then
A10: p2 in rng f by FUNCT_1:def 3;
  rng f = [#]((TOP-REAL 2)|P) by A4,TOPS_2:def 5;
  then reconsider p1, p2 as Point of TOP-REAL 2 by A2,A8,A10;
  take p1, p2;
  f is one-to-one by A4,TOPS_2:def 5;
  hence p1 <> p2 by A1,A3,A7,A9,FUNCT_1:def 4;
  thus thesis by A5,A7,A9,FUNCT_1:def 3;
end;

Lm34: for P, P1, P2 being non empty Subset of TOP-REAL 2 st P1 is_an_arc_of p1
,p2 & P2 is_an_arc_of p1,p2 & P = P1 \/ P2 & P1 /\ P2 = {p1,p2} holds P is
being_simple_closed_curve
proof
  reconsider RS = R^2-unit_square as non empty Subset of TOP-REAL 2;
  let P, P1, P2 be non empty Subset of TOP-REAL 2 such that
A1: P1 is_an_arc_of p1,p2 and
A2: P2 is_an_arc_of p1,p2 and
A3: P = P1 \/ P2 and
A4: P1 /\ P2 = {p1,p2};
  reconsider P9 = P, P19 = P1, P29 = P2 as non empty Subset of TOP-REAL 2;
A5: [#]((TOP-REAL 2)|P1) = P1 by PRE_TOPC:def 5;
  consider h1,h2 such that
A6: h1 is being_S-Seq and
A7: h2 is being_S-Seq and
A8: R^2-unit_square = L~h1 \/ L~h2 and
A9: L~h1 /\ L~h2 = {p00, p11} and
A10: h1/.1 = p00 and
A11: h1/.len h1=p11 and
A12: h2/.1 = p00 and
A13: h2/.len h2 = p11 by TOPREAL1:24;
A14: len h2 >= 2 by A7,TOPREAL1:def 8;
  len h1 >= 2 by A6,TOPREAL1:def 8;
  then reconsider Lh1 = L~h1, Lh2 = L~h2 as non empty Subset of TOP-REAL 2 by
A14,TOPREAL1:23;
  set T1 = (TOP-REAL 2)|Lh1, T2 = (TOP-REAL 2)|Lh2, T = (TOP-REAL 2)|RS;
A15: [#] T = R^2-unit_square by PRE_TOPC:def 5;
A16: [#] T2 = L~h2 by PRE_TOPC:def 5;
  then
A17: T2 is SubSpace of T by A8,A15,TOPMETR:3,XBOOLE_1:7;
A18: [#] T1 = L~h1 by PRE_TOPC:def 5;
  then
A19: T1 is SubSpace of T by A8,A15,TOPMETR:3,XBOOLE_1:7;
A20: [#]((TOP-REAL 2)|P) = P by PRE_TOPC:def 5;
A21: [#]((TOP-REAL 2)|P2) = P2 by PRE_TOPC:def 5;
  then
A22: (TOP-REAL 2)|P29 is SubSpace of (TOP-REAL 2)|P9 by A3,A20,TOPMETR:3
,XBOOLE_1:7;
  consider f2 being Function of I[01], (TOP-REAL 2)|P2 such that
A23: f2 is being_homeomorphism and
A24: f2.0 = p1 and
A25: f2.1 = p2 by A2,TOPREAL1:def 1;
A26: dom f2 = the carrier of I[01] by FUNCT_2:def 1;
  P2 c= P by A3,XBOOLE_1:7;
  then rng f2 c= the carrier of (TOP-REAL 2)|P by A21,A20,XBOOLE_1:1;
  then reconsider ff2=f2 as Function of I[01], (TOP-REAL 2)|P9 by A26,
RELSET_1:4;
A27: dom ff2 = the carrier of I[01] by FUNCT_2:def 1;
  then
A28: 0 in dom ff2 by BORSUK_1:40,XXREAL_1:1;
  f2 is continuous by A23,TOPS_2:def 5;
  then
A29: ff2 is continuous by A22,PRE_TOPC:26;
A30: 1 in dom ff2 by A27,BORSUK_1:40,XXREAL_1:1;
A31: [#]((TOP-REAL 2)|P) = P by PRE_TOPC:def 5;
  then
A32: (TOP-REAL 2)|P19 is SubSpace of (TOP-REAL 2)|P9 by A3,A5,TOPMETR:3
,XBOOLE_1:7;
  consider f1 being Function of I[01], (TOP-REAL 2)|P1 such that
A33: f1 is being_homeomorphism and
A34: f1.0 = p1 and
A35: f1.1 = p2 by A1,TOPREAL1:def 1;
A36: dom f1 = the carrier of I[01] by FUNCT_2:def 1;
  P1 c= P by A3,XBOOLE_1:7;
  then rng f1 c= the carrier of (TOP-REAL 2)|P by A5,A31,XBOOLE_1:1;
  then reconsider ff1=f1 as Function of I[01], (TOP-REAL 2)|P9 by A36,
RELSET_1:4;
A37: dom f1 = the carrier of I[01] by FUNCT_2:def 1;
A38: I[01] is compact by HEINE:4,TOPMETR:20;
  f1 is continuous by A33,TOPS_2:def 5;
  then
A39: ff1 is continuous by A32,PRE_TOPC:26;
A40: f1 is one-to-one by A33,TOPS_2:def 5;
  reconsider L1 = L~h1, L2 = L~h2 as non empty Subset of TOP-REAL 2 by A9;
  L1 is_an_arc_of p00,p11 by A6,A10,A11,TOPREAL1:25;
  then consider g1 being Function of I[01], (TOP-REAL 2)|L1 such that
A41: g1 is being_homeomorphism and
A42: g1.0 = p00 and
A43: g1.1 = p11 by TOPREAL1:def 1;
  L2 is_an_arc_of p00,p11 by A7,A12,A13,TOPREAL1:25;
  then consider g2 being Function of I[01], (TOP-REAL 2)|L2 such that
A44: g2 is being_homeomorphism and
A45: g2.0 = p00 and
A46: g2.1 = p11 by TOPREAL1:def 1;
  R^2-unit_square = [#] (T) by PRE_TOPC:def 5
    .= the carrier of T;
  then reconsider p00,p11 as Point of T by Lm28,Lm29,TOPREAL1:14;
A47: T is T_2 by TOPMETR:2;
  set k1 = ff1*(g1"), k2 = ff2*(g2");
  reconsider g1 as Function of I[01], (TOP-REAL 2)|Lh1;
A48: g1 is one-to-one by A41,TOPS_2:def 5;
A49: dom g1 = the carrier of I[01] by FUNCT_2:def 1;
A50: rng g1 = [#](T1) by A41,TOPS_2:def 5;
     then g1 is onto by FUNCT_2:def 3;
  then
A51: g1" = (g1 qua Function)" by A48,TOPS_2:def 4;
  then rng(g1") = dom g1 by A48,FUNCT_1:33;
  then
A52: rng k1 = rng f1 by A37,A49,RELAT_1:28
    .= P1 by A33,A5,TOPS_2:def 5;
A53: dom g1 = the carrier of I[01] by FUNCT_2:def 1;
  then
A54: 0 in dom g1 by BORSUK_1:40,XXREAL_1:1;
  then
A55: 0 = (g1").p00 by A42,A48,A51,FUNCT_1:32;
A56: dom(g1") = rng g1 by A48,A51,FUNCT_1:32;
  then
A57: p00 in dom (g1") by A42,A54,FUNCT_1:def 3;
A58: 1 in dom g1 by A53,BORSUK_1:40,XXREAL_1:1;
  then
A59: p11 in dom (g1") by A43,A56,FUNCT_1:def 3;
  reconsider g2 as Function of I[01], (TOP-REAL 2)|Lh2;
A60: g2 is one-to-one by A44,TOPS_2:def 5;
A61: rng g2 = [#](T2) by A44,TOPS_2:def 5;
     then g2 is onto by FUNCT_2:def 3;
  then
A62: g2" = (g2 qua Function)" by A60,TOPS_2:def 4;
  g2 is continuous by A44,TOPS_2:def 5;
  then
A63: T2 is compact by A38,A61,COMPTS_1:14;
A64: g2" is continuous by A44,TOPS_2:def 5;
  g1 is continuous by A41,TOPS_2:def 5;
  then
A65: T1 is compact by A38,A50,COMPTS_1:14;
A66: f2 is one-to-one by A23,TOPS_2:def 5;
A67: dom g2 = the carrier of I[01] by FUNCT_2:def 1;
  then
A68: 0 in dom g2 by BORSUK_1:40,XXREAL_1:1;
  then
A69: p00 in rng g2 by A45,FUNCT_1:def 3;
  then
A70: p00 in dom (g2") by A60,A62,FUNCT_1:32;
  (g2").p00 in dom ff2 by A45,A60,A62,A53,A67,A27,A54,FUNCT_1:32;
  then
A71: p00 in dom(ff2*(g2")) by A70,FUNCT_1:11;
A72: dom ff1 = the carrier of I[01] by FUNCT_2:def 1;
  then (g1").p00 in dom ff1 by A42,A48,A51,A53,A54,FUNCT_1:32;
  then p00 in dom(ff1*(g1")) by A57,FUNCT_1:11;
  then
A73: k1.p00 = ff1.((g1").p00) by FUNCT_1:12
    .= p1 by A34,A42,A48,A51,A54,FUNCT_1:32;
  then
A74: k1.p00 = ff2.((g2").p00) by A24,A45,A60,A62,A68,FUNCT_1:32
    .= k2.p00 by A71,FUNCT_1:12;
A75: 1 in dom g2 by A67,BORSUK_1:40,XXREAL_1:1;
  then
A76: 1 = (g2").p11 by A46,A60,A62,FUNCT_1:32;
A77: dom(g2") = rng g2 by A60,A62,FUNCT_1:32;
  then
A78: p11 in dom (g2") by A46,A75,FUNCT_1:def 3;
  (g2").p11 in dom ff2 by A46,A60,A62,A53,A67,A27,A58,FUNCT_1:32;
  then
A79: p11 in dom(ff2*(g2")) by A78,FUNCT_1:11;
  (g1").p11 in dom ff1 by A43,A48,A51,A53,A72,A58,FUNCT_1:32;
  then p11 in dom(ff1*(g1")) by A59,FUNCT_1:11;
  then
A80: k1.p11 = ff1.((g1").p11) by FUNCT_1:12
    .= p2 by A35,A43,A48,A51,A58,FUNCT_1:32;
  then
A81: k1.p11 = ff2.((g2").p11) by A25,A46,A60,A62,A75,FUNCT_1:32
    .= k2.p11 by A79,FUNCT_1:12;
  g1" is continuous by A41,TOPS_2:def 5;
  then reconsider
  h = k1+*k2 as continuous Function of T,(TOP-REAL 2)|P by A8,A9,A39,A29,A18
,A16,A15,A65,A63,A47,A64,A74,A81,A19,A17,COMPTS_1:21;
A82: 1 = (g1").p11 by A43,A48,A51,A58,FUNCT_1:32;
A83: rng(g2") = dom g2 by A60,A62,FUNCT_1:33;
  then
A84: rng k2 = rng f2 by A67,A27,RELAT_1:28
    .= [#] ((TOP-REAL 2)|P2) by A23,TOPS_2:def 5
    .= P2 by PRE_TOPC:def 5;
A85: 0 = (g2").p00 by A45,A60,A62,A68,FUNCT_1:32;
  now
    let x1,x2 be set;
    assume that
A86: x1 in dom k2 and
A87: x2 in dom k1 \ dom k2;
A88: x1 in dom(g2") by A86,FUNCT_1:11;
A89: k2.x1 in P2 by A84,A86,FUNCT_1:def 3;
A90: x2 in dom k1 by A87,XBOOLE_0:def 5;
    then
A91: x2 in dom(g1") by FUNCT_1:11;
    assume
A92: k2.x1 = k1.x2;
    then k2.x1 in P1 by A52,A90,FUNCT_1:def 3;
    then
A93: k2.x1 in P1 /\ P2 by A89,XBOOLE_0:def 4;
    per cases by A4,A93,TARSKI:def 2;
    suppose
A94:  k2.x1 = p1;
A95:  (g1").x2 in dom ff1 by A90,FUNCT_1:11;
      p1 = ff1.((g1").x2) by A92,A90,A94,FUNCT_1:12;
      then
A96:  (g1").x2 = 0 by A34,A72,A28,A40,A95,FUNCT_1:def 4;
A97:  p00 in dom (g2") by A60,A62,A69,FUNCT_1:32;
A98:  (g2").x1 in dom ff2 by A86,FUNCT_1:11;
      p1 = ff2.((g2").x1) by A86,A94,FUNCT_1:12;
      then (g2").x1 = 0 by A24,A28,A66,A98,FUNCT_1:def 4;
      then
A99:  x1 = p00 by A60,A62,A85,A88,A97,FUNCT_1:def 4;
      p00 in dom(g1") by A42,A53,A28,A56,FUNCT_1:def 3;
      then x2 in dom k2 by A48,A51,A55,A86,A91,A99,A96,FUNCT_1:def 4;
      hence contradiction by A87,XBOOLE_0:def 5;
    end;
    suppose
A100: k2.x1 = p2;
A101: (g1").x2 in dom ff1 by A90,FUNCT_1:11;
      p2 = ff1.((g1").x2) by A92,A90,A100,FUNCT_1:12;
      then
A102: (g1").x2 = 1 by A35,A72,A30,A40,A101,FUNCT_1:def 4;
A103: p11 in dom (g2") by A46,A67,A77,A30,FUNCT_1:def 3;
A104: (g2").x1 in dom ff2 by A86,FUNCT_1:11;
      p2 = ff2.((g2").x1) by A86,A100,FUNCT_1:12;
      then (g2").x1 = 1 by A25,A30,A66,A104,FUNCT_1:def 4;
      then
A105: x1 = p11 by A60,A62,A76,A88,A103,FUNCT_1:def 4;
      p11 in dom(g1") by A43,A53,A56,A30,FUNCT_1:def 3;
      then x2 in dom k2 by A48,A51,A82,A86,A91,A105,A102,FUNCT_1:def 4;
      hence contradiction by A87,XBOOLE_0:def 5;
    end;
  end;
  then
A106: h is one-to-one by A48,A60,A62,A51,A40,A66,TOPMETR2:1;
A107: (TOP-REAL 2)|P9 is T_2 by TOPMETR:2;
A108: dom k2 = dom(g2") by A27,A83,RELAT_1:27;
  k1.:(dom k1 /\ dom k2) c= rng k2
  proof
    let a be set;
A109: dom k2 = the carrier of T2 by FUNCT_2:def 1;
    assume a in k1.:(dom k1 /\ dom k2);
    then
A110: ex x being set st x in dom k1 & x in dom k1 /\ dom k2 & a = k1.x by
FUNCT_1:def 6;
    dom k1 = the carrier of T1 by FUNCT_2:def 1;
    then a = p1 or a = p2 by A9,A18,A16,A73,A80,A110,A109,TARSKI:def 2;
    hence thesis by A70,A73,A74,A78,A80,A81,A108,FUNCT_1:def 3;
  end;
  then
A111: rng h = [#]((TOP-REAL 2)|P9) by A3,A31,A52,A84,TOPMETR2:2;
A112: dom h = [#]T by FUNCT_2:def 1;
  reconsider h as Function of ((TOP-REAL 2)|R^2-unit_square),(TOP-REAL 2)|P;
  take h;
  T is compact by Th2,COMPTS_1:3;
  hence thesis by A107,A111,A112,A106,COMPTS_1:17;
end;

theorem Th5:
  for P being non empty Subset of TOP-REAL 2 holds P is
being_simple_closed_curve iff (ex p1,p2 st p1 <> p2 & p1 in P & p2 in P) & for
  p1,p2 st p1 <> p2 & p1 in P & p2 in P ex P1,P2 being non empty Subset of
TOP-REAL 2 st P1 is_an_arc_of p1,p2 & P2 is_an_arc_of p1,p2 & P = P1 \/ P2 & P1
  /\ P2 = {p1,p2}
proof
  let P be non empty Subset of TOP-REAL 2;
  thus P is being_simple_closed_curve implies (ex p1,p2 st p1 <> p2 & p1 in P
& p2 in P) & for p1,p2 st p1 <> p2 & p1 in P & p2 in P ex P1,P2 being non empty
Subset of TOP-REAL 2 st P1 is_an_arc_of p1,p2 & P2 is_an_arc_of p1,p2 & P = P1
  \/ P2 & P1 /\ P2 = {p1,p2}
  proof
    assume
A1: P is being_simple_closed_curve;
    then consider
    f being Function of (TOP-REAL 2)|R^2-unit_square, (TOP-REAL 2)|P
    such that
A2: f is being_homeomorphism by Def1;
A3: dom f = [#]((TOP-REAL 2)|R^2-unit_square) by A2,TOPS_2:def 5;
A4: [#]((TOP-REAL 2)|P) c= [#](TOP-REAL 2) by PRE_TOPC:def 4;
A5: f is continuous by A2,TOPS_2:def 5;
    thus ex p1,p2 st p1 <> p2 & p1 in P & p2 in P by A1,Th4;
    set RS = R^2-unit_square;
    let p1,p2;
    assume that
A6: p1 <> p2 and
A7: p1 in P and
A8: p2 in P;
A9: [#]((TOP-REAL 2)|R^2-unit_square) = R^2-unit_square by PRE_TOPC:def 5;
    set q1 = (f").p1, q2 = (f").p2;
A10: [#]((TOP-REAL 2)|RS) c= [#](TOP-REAL 2) by PRE_TOPC:def 4;
A11: I[01] is compact by HEINE:4,TOPMETR:20;
A12: f is one-to-one by A2,TOPS_2:def 5;
A13: rng f = [#]((TOP-REAL 2)|P) by A2,TOPS_2:def 5;
    then f is onto by FUNCT_2:def 3;
    then
A14: f" = (f qua Function)" by A12,TOPS_2:def 4;
    then
A15: rng(f") = dom f by A12,FUNCT_1:33;
A16: dom(f") = rng f by A12,A14,FUNCT_1:32;
    then
A17: p1 in dom(f") by A7,A13,PRE_TOPC:def 5;
A18: p2 in dom(f") by A8,A13,A16,PRE_TOPC:def 5;
    reconsider f as Function of (TOP-REAL 2)|RS, (TOP-REAL 2)|P;
A19: q1 in rng(f") by A17,FUNCT_1:def 3;
A20: q2 in rng(f") by A18,FUNCT_1:def 3;
    rng(f") = [#]((TOP-REAL 2)|RS) by A15,FUNCT_2:def 1;
    then reconsider q1, q2 as Point of TOP-REAL 2 by A10,A19,A20;
A21: q1 <> q2 by A6,A12,A14,A17,A18,FUNCT_1:def 4;
A22: dom f = the carrier of (TOP-REAL 2)|R^2-unit_square by FUNCT_2:def 1;
    then
A23: q2 in R^2-unit_square by A15,A18,A9,FUNCT_1:def 3;
A24: p1 = f.q1 by A12,A14,A16,A17,FUNCT_1:35;
    q1 in R^2-unit_square by A15,A17,A22,A9,FUNCT_1:def 3;
    then consider Q1,Q2 being non empty Subset of TOP-REAL 2 such that
A25: Q1 is_an_arc_of q1,q2 and
A26: Q2 is_an_arc_of q1,q2 and
A27: R^2-unit_square = Q1 \/ Q2 and
A28: Q1 /\ Q2 = {q1,q2} by A21,A23,Th1;
A29: Q2 c= dom f by A22,A9,A27,XBOOLE_1:7;
    set P1 = f.:Q1, P2 = f.:Q2;
    Q1 c= dom f by A22,A9,A27,XBOOLE_1:7;
    then reconsider P1, P2 as non empty Subset of TOP-REAL 2 by A29,A4,
XBOOLE_1:1;
A30: rng(f|Q1) = P1 by RELAT_1:115
      .= [#]((TOP-REAL 2)|P1) by PRE_TOPC:def 5
      .= the carrier of (TOP-REAL 2)|P1;
A31: dom(f|Q1) = R^2-unit_square /\ Q1 by A22,A9,RELAT_1:61
      .= Q1 by A27,XBOOLE_1:21
      .= [#]((TOP-REAL 2)|Q1) by PRE_TOPC:def 5;
    then reconsider
    F1 = f|Q1 as Function of (TOP-REAL 2)|Q1, (TOP-REAL 2)|P1 by A30,
FUNCT_2:def 1,RELSET_1:4;
A32: f"P1 c= Q1 by A12,FUNCT_1:82;
    [#]((TOP-REAL 2)|Q1) = Q1 by PRE_TOPC:def 5;
    then
A33: (TOP-REAL 2)|Q1 is SubSpace of (TOP-REAL 2)|R^2-unit_square by A9,A27,
TOPMETR:3,XBOOLE_1:7;
    Q1 c= f"P1 by A22,A9,A27,FUNCT_1:76,XBOOLE_1:7;
    then
A34: f"P1 = Q1 by A32,XBOOLE_0:def 10;
    for R being Subset of (TOP-REAL 2)|P1 st R is closed holds F1"R is closed
    proof
      let R be Subset of (TOP-REAL 2)|P1;
      assume R is closed;
      then consider S1 being Subset of TOP-REAL 2 such that
A35:  S1 is closed and
A36:  R = S1 /\ [#]((TOP-REAL 2)|P1) by PRE_TOPC:13;
      S1 /\ rng f is Subset of (TOP-REAL 2)|P;
      then reconsider S2 = rng f /\ S1 as Subset of (TOP-REAL 2)|P;
      S2 is closed by A13,A35,PRE_TOPC:13;
      then
A37:  f"S2 is closed by A5,PRE_TOPC:def 6;
      F1"R = Q1 /\ (f"R) by FUNCT_1:70
        .= Q1 /\ ((f"S1) /\ f"([#]((TOP-REAL 2)|P1))) by A36,FUNCT_1:68
        .= (f"S1) /\ Q1 /\ Q1 by A34,PRE_TOPC:def 5
        .= (f"S1) /\ (Q1 /\ Q1) by XBOOLE_1:16
        .= (f"S1) /\ [#]((TOP-REAL 2)|Q1) by PRE_TOPC:def 5
        .= (f"(rng f /\ S1)) /\ [#]((TOP-REAL 2)|Q1) by RELAT_1:133;
      hence thesis by A33,A37,PRE_TOPC:13;
    end;
    then
A38: F1 is continuous by PRE_TOPC:def 6;
    reconsider Q19=Q1, Q29=Q2 as non empty Subset of TOP-REAL 2;
    consider ff being Function of I[01], (TOP-REAL 2)|Q1 such that
A39: ff is being_homeomorphism and
    ff.0 = q1 and
    ff.1 = q2 by A25,TOPREAL1:def 1;
A40: rng ff = [#]((TOP-REAL 2)|Q1) by A39,TOPS_2:def 5;
A41: rng(f|Q2) = P2 by RELAT_1:115
      .= [#]((TOP-REAL 2)|P2) by PRE_TOPC:def 5
      .= the carrier of (TOP-REAL 2)|P2;
A42: p2 = f.q2 by A12,A14,A16,A18,FUNCT_1:35;
A43: dom(f|Q2) = R^2-unit_square /\ Q2 by A22,A9,RELAT_1:61
      .= Q2 by A27,XBOOLE_1:21
      .= [#]((TOP-REAL 2)|Q2) by PRE_TOPC:def 5;
    then reconsider
    F2 = f|Q2 as Function of (TOP-REAL 2)|Q2, (TOP-REAL 2)|P2 by A41,
FUNCT_2:def 1,RELSET_1:4;
A44: f"P2 c= Q2 by A12,FUNCT_1:82;
    [#]((TOP-REAL 2)|Q2) = Q2 by PRE_TOPC:def 5;
    then
A45: (TOP-REAL 2)|Q2 is SubSpace of (TOP-REAL 2)|R^2-unit_square by A9,A27,
TOPMETR:3,XBOOLE_1:7;
    Q2 c= f"P2 by A22,A9,A27,FUNCT_1:76,XBOOLE_1:7;
    then
A46: f"P2 = Q2 by A44,XBOOLE_0:def 10;
    for R being Subset of (TOP-REAL 2)|P2 st R is closed holds F2"R is closed
    proof
      let R be Subset of (TOP-REAL 2)|P2;
      assume R is closed;
      then consider S1 being Subset of TOP-REAL 2 such that
A47:  S1 is closed and
A48:  R = S1 /\ [#]((TOP-REAL 2)|P2) by PRE_TOPC:13;
      S1 /\ rng f is Subset of (TOP-REAL 2)|P;
      then reconsider S2 = rng f /\ S1 as Subset of (TOP-REAL 2)|P;
      S2 is closed by A13,A47,PRE_TOPC:13;
      then
A49:  f"S2 is closed by A5,PRE_TOPC:def 6;
      F2"R = Q2 /\ (f"R) by FUNCT_1:70
        .= Q2 /\ ((f"S1) /\ f"([#]((TOP-REAL 2)|P2))) by A48,FUNCT_1:68
        .= (f"S1) /\ Q2 /\ Q2 by A46,PRE_TOPC:def 5
        .= (f"S1) /\ (Q2 /\ Q2) by XBOOLE_1:16
        .= (f"S1) /\ [#]((TOP-REAL 2)|Q2) by PRE_TOPC:def 5
        .= (f"(rng f /\ S1)) /\ [#]((TOP-REAL 2)|Q2) by RELAT_1:133;
      hence thesis by A45,A49,PRE_TOPC:13;
    end;
    then
A50: F2 is continuous by PRE_TOPC:def 6;
A51: q2 in {q1,q2} by TARSKI:def 2;
A52: q1 in {q1,q2} by TARSKI:def 2;
A53: q1 in {q1,q2} by TARSKI:def 2;
    {q1,q2} c= Q1 by A28,XBOOLE_1:17;
    then
A54: q1 in dom f /\ Q1 by A15,A19,A53,XBOOLE_0:def 4;
    take P1,P2;
A55: (TOP-REAL 2)|P1 is T_2 by TOPMETR:2;
A56: q2 in {q1,q2} by TARSKI:def 2;
    {q1,q2} c= Q1 by A28,XBOOLE_1:17;
    then
A57: q2 in dom f /\ Q1 by A15,A20,A56,XBOOLE_0:def 4;
A58: p2 = f.q2 by A12,A14,A16,A18,FUNCT_1:35
      .= F1.q2 by A57,FUNCT_1:48;
A59: rng F1 = [#]((TOP-REAL 2)|P1) by A30;
    ff is continuous by A39,TOPS_2:def 5;
    then
A60: (TOP-REAL 2)|Q19 is compact by A11,A40,COMPTS_1:14;
A61: F1 is one-to-one by A12,FUNCT_1:52;
    p1 = f.q1 by A12,A14,A16,A17,FUNCT_1:35
      .= F1.q1 by A54,FUNCT_1:48;
    hence P1 is_an_arc_of p1,p2 by A25,A31,A59,A61,A38,A60,A55,A58,Th3,
COMPTS_1:17;
A62: (TOP-REAL 2)|P2 is T_2 by TOPMETR:2;
    consider ff being Function of I[01], (TOP-REAL 2)|Q2 such that
A63: ff is being_homeomorphism and
    ff.0 = q1 and
    ff.1 = q2 by A26,TOPREAL1:def 1;
A64: rng ff = [#]((TOP-REAL 2)|Q2) by A63,TOPS_2:def 5;
    {q1,q2} c= Q2 by A28,XBOOLE_1:17;
    then q1 in dom f /\ Q2 by A15,A19,A52,XBOOLE_0:def 4;
    then
A65: p1 = F2.q1 by A24,FUNCT_1:48;
A66: F2 is one-to-one by A12,FUNCT_1:52;
    {q1,q2} c= Q2 by A28,XBOOLE_1:17;
    then q2 in dom f /\ Q2 by A15,A20,A51,XBOOLE_0:def 4;
    then
A67: p2 = F2.q2 by A42,FUNCT_1:48;
    ff is continuous by A63,TOPS_2:def 5;
    then
A68: (TOP-REAL 2)|Q29 is compact by A11,A64,COMPTS_1:14;
    rng F2 = [#]((TOP-REAL 2)|P2) by A41;
    hence P2 is_an_arc_of p1,p2 by A26,A43,A66,A50,A68,A62,A65,A67,Th3,
COMPTS_1:17;
    [#]((TOP-REAL 2)|P) = P by PRE_TOPC:def 5;
    hence P = f.:(Q1 \/ Q2) by A13,A3,A9,A27,RELAT_1:113
      .= P1 \/ P2 by RELAT_1:120;
    thus P1 /\ P2 = f.:(Q1 /\ Q2) by A12,FUNCT_1:62
      .= f.:({q1} \/ {q2}) by A28,ENUMSET1:1
      .= Im(f,q1) \/ Im(f,q2) by RELAT_1:120
      .= {p1} \/ Im(f,q2) by A15,A19,A24,FUNCT_1:59
      .= {p1} \/ {p2} by A15,A20,A42,FUNCT_1:59
      .= {p1,p2} by ENUMSET1:1;
  end;
  given p1,p2 such that
A69: p1 <> p2 and
A70: p1 in P and
A71: p2 in P;
  assume for p1,p2 st p1 <> p2 & p1 in P & p2 in P ex P1,P2 being non empty
Subset of TOP-REAL 2 st P1 is_an_arc_of p1,p2 & P2 is_an_arc_of p1,p2 & P = P1
  \/ P2 & P1 /\ P2 = {p1,p2};
  then ex P1,P2 being non empty Subset of TOP-REAL 2 st P1 is_an_arc_of p1,p2
  & P2 is_an_arc_of p1,p2 & P = P1 \/ P2 & P1 /\ P2 = {p1,p2} by A69,A70,A71;
  hence thesis by Lm34;
end;

theorem
  for P being non empty Subset of TOP-REAL 2 holds P is
  being_simple_closed_curve iff ex p1,p2 being Point of TOP-REAL 2, P1,P2 being
  non empty Subset of TOP-REAL 2 st p1 <> p2 & p1 in P & p2 in P & P1
is_an_arc_of p1,p2 & P2 is_an_arc_of p1,p2 & P = P1 \/ P2 & P1 /\ P2 = {p1,p2}
proof
  let P be non empty Subset of TOP-REAL 2;
  hereby
    assume
A1: P is being_simple_closed_curve;
    then consider p1,p2 such that
A2: p1 <> p2 and
A3: p1 in P and
A4: p2 in P by Th5;
    consider P1,P2 being non empty Subset of TOP-REAL 2 such that
A5: P1 is_an_arc_of p1,p2 and
A6: P2 is_an_arc_of p1,p2 and
A7: P = P1 \/ P2 and
A8: P1 /\ P2 = {p1,p2} by A1,A2,A3,A4,Th5;
    take p1,p2,P1,P2;
    thus p1 <> p2 & p1 in P & p2 in P & P1 is_an_arc_of p1,p2 & P2
is_an_arc_of p1,p2 & P = P1 \/ P2 & P1 /\ P2 = {p1,p2} by A2,A3,A4,A5,A6,A7,A8;
  end;
  thus thesis by Lm34;
end;

Lm35: for S being 1-sorted, T being 1-sorted, f being Function of S, T st S is
empty & rng f = [#]T holds T is empty
proof
  let S be 1-sorted, T be 1-sorted, f be Function of S, T such that
A1: S is empty and
A2: rng f = [#]T;
  assume T is non empty;
  then reconsider T as non empty 1-sorted;
  consider y being set such that
A3: y in the carrier of T by XBOOLE_0:def 1;
  ex x being set st x in dom f & f.x = y by A2,A3,FUNCT_1:def 3;
  hence contradiction by A1;
end;

Lm36: for S being 1-sorted, T being 1-sorted, f being Function of S, T st T is
empty & dom f = [#]S holds S is empty
proof
  let S be 1-sorted, T be 1-sorted, f be Function of S, T such that
A1: T is empty and
A2: dom f = [#]S;
  assume S is non empty;
  then reconsider S as non empty 1-sorted;
  consider x being set such that
A3: x in the carrier of S by XBOOLE_0:def 1;
  f.x in rng f by A2,A3,FUNCT_1:def 3;
  hence thesis by A1;
end;

Lm37: for S, T being TopStruct st ex f being Function of S,T st f is
being_homeomorphism holds S is empty iff T is empty
proof
  let S, T be TopStruct;
  given f being Function of S, T such that
A1: f is being_homeomorphism;
A2: dom f = [#]S by A1,TOPS_2:def 5;
  rng f = [#]T by A1,TOPS_2:def 5;
  hence thesis by A2,Lm35,Lm36;
end;

registration
  cluster being_simple_closed_curve -> non empty compact for
Subset of TOP-REAL 2;
  coherence
  proof
    let P be Subset of TOP-REAL 2;
    given f being Function of (TOP-REAL 2)|R^2-unit_square, (TOP-REAL 2)|P
    such that
A1: f is being_homeomorphism;
    thus P is non empty by A1,Lm37;
A2: rng f = [#]((TOP-REAL 2)|P) by A1,TOPS_2:def 5;
    reconsider R = P as non empty Subset of TOP-REAL 2 by A1,Lm37;
A3: f is continuous by A1,TOPS_2:def 5;
    (TOP-REAL 2)|R^2-unit_square is compact by Th2,COMPTS_1:3;
    then (TOP-REAL 2)|R is compact by A3,A2,COMPTS_1:14;
    hence thesis by COMPTS_1:3;
  end;
end;
